(GIVEN 38
  (LIST
    (NAME "TERM" "")))

(AXDEF 43
  (BODY 44
    (LIST
      (DECL 44
        (LIST
          (NAME "Iri" "")
          (NAME "Blank" "")
          (NAME "Lit" ""))
        (POWER 44
          (REF 44 (NAME "TERM" "") ()))))
    (LIST
      (INREL 46
        (NAME "\partition" "")
        (SEQ 46
          (LIST
            (REF 46 (NAME "Iri" "") ())
            (REF 46 (NAME "Blank" "") ())
            (REF 46 (NAME "Lit" "") ())))
        (REF 46 (NAME "TERM" "") ())))))

(EQEQ 53
  (LHS 53
    (NAME "IRI" "")
    ())
  (REF 53 (NAME "Iri" "") ()))

(EQEQ 59
  (LHS 59
    (NAME "Triple" "")
    ())
  (COMP 59
    (BODY 59
      (LIST
        (DECL 59
          (LIST
            (NAME "s" "")
            (NAME "p" "")
            (NAME "o" ""))
          (REF 59 (NAME "TERM" "") ())))
      (LIST
        (AND 59
          (INREL 59
            (NAME "\notin" "")
            (REF 59 (NAME "s" "") ())
            (REF 59 (NAME "Lit" "") ()))
          (MEMBER 59
            (REF 59 (NAME "p" "") ())
            (REF 59 (NAME "IRI" "") ())))))
    (NOTHING 0)))

(EQEQ 69
  (LHS 69
    (NAME "fst" "")
    (LIST
      (NAME "X" "")
      (NAME "Y" "")
      (NAME "Z" "")))
  (LAMBDA 69
    (BODY 69
      (LIST
        (DECL 69
          (LIST
            (NAME "x" ""))
          (REF 69 (NAME "X" "") ()))
        (DECL 69
          (LIST
            (NAME "y" ""))
          (REF 69 (NAME "Y" "") ()))
        (DECL 69
          (LIST
            (NAME "z" ""))
          (REF 69 (NAME "Z" "") ())))
      ())
    (REF 69 (NAME "x" "") ())))

(EQEQ 71
  (LHS 71
    (NAME "snd" "")
    (LIST
      (NAME "X" "")
      (NAME "Y" "")
      (NAME "Z" "")))
  (LAMBDA 71
    (BODY 71
      (LIST
        (DECL 71
          (LIST
            (NAME "x" ""))
          (REF 71 (NAME "X" "") ()))
        (DECL 71
          (LIST
            (NAME "y" ""))
          (REF 71 (NAME "Y" "") ()))
        (DECL 71
          (LIST
            (NAME "z" ""))
          (REF 71 (NAME "Z" "") ())))
      ())
    (REF 71 (NAME "y" "") ())))

(EQEQ 73
  (LHS 73
    (NAME "trd" "")
    (LIST
      (NAME "X" "")
      (NAME "Y" "")
      (NAME "Z" "")))
  (LAMBDA 73
    (BODY 73
      (LIST
        (DECL 73
          (LIST
            (NAME "x" ""))
          (REF 73 (NAME "X" "") ()))
        (DECL 73
          (LIST
            (NAME "y" ""))
          (REF 73 (NAME "Y" "") ()))
        (DECL 73
          (LIST
            (NAME "z" ""))
          (REF 73 (NAME "Z" "") ())))
      ())
    (REF 73 (NAME "z" "") ())))

(EQEQ 78
  (LHS 78
    (NAME "subject" "")
    ())
  (LAMBDA 78
    (BODY 78
      (LIST
        (DECL 78
          (LIST
            (NAME "t" ""))
          (REF 78 (NAME "Triple" "") ())))
      ())
    (APPLY 78
      (REF 78 (NAME "fst" "") ())
      (REF 78 (NAME "t" "") ()))))

(EQEQ 80
  (LHS 80
    (NAME "predicate" "")
    ())
  (LAMBDA 80
    (BODY 80
      (LIST
        (DECL 80
          (LIST
            (NAME "t" ""))
          (REF 80 (NAME "Triple" "") ())))
      ())
    (APPLY 80
      (REF 80 (NAME "snd" "") ())
      (REF 80 (NAME "t" "") ()))))

(EQEQ 82
  (LHS 82
    (NAME "object" "")
    ())
  (LAMBDA 82
    (BODY 82
      (LIST
        (DECL 82
          (LIST
            (NAME "t" ""))
          (REF 82 (NAME "Triple" "") ())))
      ())
    (APPLY 82
      (REF 82 (NAME "trd" "") ())
      (REF 82 (NAME "t" "") ()))))

(EQEQ 88
  (LHS 88
    (NAME "Graph" "")
    ())
  (PREGEN 88
    (NAME "\finset" "")
    (REF 88 (NAME "Triple" "") ())))

(EQEQ 94
  (LHS 94
    (NAME "subjects" "")
    ())
  (LAMBDA 94
    (BODY 94
      (LIST
        (DECL 94
          (LIST
            (NAME "g" ""))
          (REF 94 (NAME "Graph" "") ())))
      ())
    (COMP 94
      (BODY 94
        (LIST
          (DECL 94
            (LIST
              (NAME "t" ""))
            (REF 94 (NAME "g" "") ())))
        ())
      (JUST 94
        (APPLY 94
          (REF 94 (NAME "subject" "") ())
          (REF 94 (NAME "t" "") ()))))))

(EQEQ 96
  (LHS 96
    (NAME "predicates" "")
    ())
  (LAMBDA 96
    (BODY 96
      (LIST
        (DECL 96
          (LIST
            (NAME "g" ""))
          (REF 96 (NAME "Graph" "") ())))
      ())
    (COMP 96
      (BODY 96
        (LIST
          (DECL 96
            (LIST
              (NAME "t" ""))
            (REF 96 (NAME "g" "") ())))
        ())
      (JUST 96
        (APPLY 96
          (REF 96 (NAME "predicate" "") ())
          (REF 96 (NAME "t" "") ()))))))

(EQEQ 98
  (LHS 98
    (NAME "objects" "")
    ())
  (LAMBDA 98
    (BODY 98
      (LIST
        (DECL 98
          (LIST
            (NAME "g" ""))
          (REF 98 (NAME "Graph" "") ())))
      ())
    (COMP 98
      (BODY 98
        (LIST
          (DECL 98
            (LIST
              (NAME "t" ""))
            (REF 98 (NAME "g" "") ())))
        ())
      (JUST 98
        (APPLY 98
          (REF 98 (NAME "object" "") ())
          (REF 98 (NAME "t" "") ()))))))

(EQEQ 104
  (LHS 104
    (NAME "nodes" "")
    ())
  (LAMBDA 104
    (BODY 104
      (LIST
        (DECL 104
          (LIST
            (NAME "g" ""))
          (REF 104 (NAME "Graph" "") ())))
      ())
    (INOP 104
      (NAME "\cup" "")
      (APPLY 104
        (REF 104 (NAME "subjects" "") ())
        (REF 104 (NAME "g" "") ()))
      (APPLY 104
        (REF 104 (NAME "objects" "") ())
        (REF 104 (NAME "g" "") ())))))

(EQEQ 111
  (LHS 111
    (NAME "PointedGraph" "")
    ())
  (COMP 111
    (BODY 111
      (LIST
        (DECL 111
          (LIST
            (NAME "g" ""))
          (REF 111 (NAME "Graph" "") ()))
        (DECL 111
          (LIST
            (NAME "n" ""))
          (REF 111 (NAME "TERM" "") ())))
      (LIST
        (MEMBER 111
          (REF 111 (NAME "n" "") ())
          (APPLY 111
            (REF 111 (NAME "nodes" "") ())
            (REF 111 (NAME "g" "") ())))))
    (NOTHING 0)))

(EQEQ 149
  (LHS 149
    (NAME "OPTIONAL" "")
    (LIST
      (NAME "X" "")))
  (INOP 149
    (NAME "\cup" "")
    (COMP 149
      (BODY 149
        (LIST
          (DECL 149
            (LIST
              (NAME "v" ""))
            (REF 149 (NAME "X" "") ())))
        ())
      (JUST 149
        (EXT 149
          (LIST
            (REF 149 (NAME "v" "") ())))))
    (EXT 149
      (LIST
        (REF 149 (NAME "\emptyset" "") ())))))

(GIVEN 176
  (LIST
    (NAME "ShapeLabel" "")))

(DATA 265
  (NAME "DirectedPredicate" "")
  (LIST
    (ARM 266
      (NAME "nop" "")
      (JUST 266
        (REF 266 (NAME "IRI" "") ())))
    (ARM 267
      (NAME "inv" "")
      (JUST 267
        (REF 267 (NAME "IRI" "") ())))))

(AXDEF 465
  (BODY 466
    (LIST
      (DECL 466
        (LIST
          (NAME "LiteralDatatype" ""))
        (POWER 466
          (REF 466 (NAME "IRI" "") ()))))
    ()))

(GIVEN 503
  (LIST
    (NAME "XSFacet" "")))

(DATA 477
  (NAME "NodeKind" "")
  (LIST
    (ARM 477
      (NAME "iri" "")
      (NOTHING 477))
    (ARM 477
      (NAME "blank" "")
      (NOTHING 477))
    (ARM 477
      (NAME "literal" "")
      (NOTHING 477))
    (ARM 477
      (NAME "nonliteral" "")
      (NOTHING 477))))

(DATA 328
  (NAME "Constraint" "")
  (LIST
    (ARM 329
      (NAME "valueSet" "")
      (JUST 329
        (POWER 329
          (INOP 329
            (NAME "\cup" "")
            (REF 329 (NAME "Lit" "") ())
            (REF 329 (NAME "IRI" "") ())))))
    (ARM 330
      (NAME "datatype" "")
      (JUST 330
        (CROSS 330
          (LIST
            (REF 330 (NAME "LiteralDatatype" "") ())
            (REF 330 (NAME "OPTIONAL" "")
              (LIST
                (REF 330 (NAME "XSFacet" "") ())))))))
    (ARM 331
      (NAME "kind" "")
      (JUST 331
        (REF 331 (NAME "NodeKind" "") ())))
    (ARM 332
      (NAME "or" "")
      (JUST 332
        (PREGEN 332
          (NAME "\seq" "_1")
          (REF 332 (NAME "ShapeLabel" "") ()))))
    (ARM 333
      (NAME "and" "")
      (JUST 333
        (PREGEN 333
          (NAME "\seq" "_1")
          (REF 333 (NAME "ShapeLabel" "") ()))))
    (ARM 334
      (NAME "nor" "")
      (JUST 334
        (PREGEN 334
          (NAME "\seq" "_1")
          (REF 334 (NAME "ShapeLabel" "") ()))))
    (ARM 335
      (NAME "nand" "")
      (JUST 335
        (PREGEN 335
          (NAME "\seq" "_1")
          (REF 335 (NAME "ShapeLabel" "") ()))))))

(EQEQ 520
  (LHS 520
    (NAME "ShapeConstr" "")
    ())
  (INOP 520
    (NAME "\cup" "")
    (INOP 520
      (NAME "\cup" "")
      (INOP 520
        (NAME "\cup" "")
        (APPLY 520
          (REF 520 (NAME "\ran" "") ())
          (REF 520 (NAME "or" "") ()))
        (APPLY 520
          (REF 520 (NAME "\ran" "") ())
          (REF 520 (NAME "and" "") ())))
      (APPLY 520
        (REF 520 (NAME "\ran" "") ())
        (REF 520 (NAME "nor" "") ())))
    (APPLY 520
      (REF 520 (NAME "\ran" "") ())
      (REF 520 (NAME "nand" "") ()))))

(EQEQ 282
  (LHS 282
    (NAME "DirectedTripleConstraint" "")
    ())
  (COMP 283
    (BODY 283
      (LIST
        (DECL 283
          (LIST
            (NAME "dp" ""))
          (REF 283 (NAME "DirectedPredicate" "") ()))
        (DECL 283
          (LIST
            (NAME "C" ""))
          (REF 283 (NAME "Constraint" "") ())))
      (LIST
        (IMPLIES 284
          (MEMBER 284
            (REF 284 (NAME "dp" "") ())
            (APPLY 284
              (REF 284 (NAME "\ran" "") ())
              (REF 284 (NAME "inv" "") ())))
          (MEMBER 284
            (REF 284 (NAME "C" "") ())
            (REF 284 (NAME "ShapeConstr" "") ())))))
    (NOTHING 0)))

(EQEQ 366
  (LHS 366
    (NAME "MinCardinality" "")
    ())
  (REF 366 (NAME "\nat" "") ()))

(DATA 372
  (NAME "MaxCardinality" "")
  (LIST
    (ARM 372
      (NAME "maxCard" "")
      (JUST 372
        (REF 372 (NAME "\nat" "") ())))
    (ARM 372
      (NAME "unbound" "")
      (NOTHING 372))))

(EQEQ 357
  (LHS 357
    (NAME "Cardinality" "")
    ())
  (CROSS 357
    (LIST
      (REF 357 (NAME "MinCardinality" "") ())
      (REF 357 (NAME "MaxCardinality" "") ()))))

(DATA 231
  (NAME "ShapeExpr" "")
  (LIST
    (ARM 232
      (NAME "emptyshape" "")
      (NOTHING 232))
    (ARM 233
      (NAME "triple" "")
      (JUST 233
        (CROSS 233
          (LIST
            (REF 233 (NAME "DirectedTripleConstraint" "") ())
            (REF 233 (NAME "Cardinality" "") ())))))
    (ARM 234
      (NAME "someOf" "")
      (JUST 234
        (PREGEN 234
          (NAME "\seq" "_1")
          (REF 234 (NAME "ShapeExpr" "") ()))))
    (ARM 235
      (NAME "oneOf" "")
      (JUST 235
        (PREGEN 235
          (NAME "\seq" "_1")
          (REF 235 (NAME "ShapeExpr" "") ()))))
    (ARM 236
      (NAME "group" "")
      (JUST 236
        (PREGEN 236
          (NAME "\seq" "_1")
          (REF 236 (NAME "ShapeExpr" "") ()))))
    (ARM 237
      (NAME "repetition" "")
      (JUST 237
        (CROSS 237
          (LIST
            (REF 237 (NAME "ShapeExpr" "") ())
            (REF 237 (NAME "Cardinality" "") ())))))))

(EQEQ 225
  (LHS 225
    (NAME "PropertiesSet" "")
    ())
  (POWER 225
    (REF 225 (NAME "IRI" "") ())))

(EQEQ 218
  (LHS 218
    (NAME "InclPropSet" "")
    ())
  (REF 218 (NAME "PropertiesSet" "") ()))

(DATA 182
  (NAME "ShapeDefinition" "")
  (LIST
    (ARM 183
      (NAME "close" "")
      (JUST 183
        (REF 183 (NAME "ShapeExpr" "") ())))
    (ARM 184
      (NAME "open" "")
      (JUST 184
        (CROSS 184
          (LIST
            (REF 184 (NAME "OPTIONAL" "")
              (LIST
                (REF 184 (NAME "InclPropSet" "") ())))
            (REF 184 (NAME "ShapeExpr" "") ())))))))

(GIVEN 569
  (LIST
    (NAME "ExtLangName" "")))

(GIVEN 576
  (LIST
    (NAME "ExtDefinition" "")))

(EQEQ 562
  (LHS 562
    (NAME "ExtensionCondition" "")
    ())
  (CROSS 562
    (LIST
      (REF 562 (NAME "ExtLangName" "") ())
      (REF 562 (NAME "ExtDefinition" "") ()))))

(EQEQ 161
  (LHS 161
    (NAME "Rule" "")
    ())
  (CROSS 161
    (LIST
      (REF 161 (NAME "ShapeLabel" "") ())
      (REF 161 (NAME "ShapeDefinition" "") ())
      (PREGEN 161
        (NAME "\seq" "")
        (REF 161 (NAME "ExtensionCondition" "") ())))))

(EQEQ 155
  (LHS 155
    (NAME "Schema" "")
    ())
  (PREGEN 155
    (NAME "\seq" "_1")
    (REF 155 (NAME "Rule" "") ())))

(EQEQ 166
  (LHS 166
    (NAME "shapeLabel" "")
    ())
  (LAMBDA 166
    (BODY 166
      (LIST
        (DECL 166
          (LIST
            (NAME "r" ""))
          (REF 166 (NAME "Rule" "") ())))
      ())
    (APPLY 166
      (REF 166 (NAME "fst" "") ())
      (REF 166 (NAME "r" "") ()))))

(EQEQ 168
  (LHS 168
    (NAME "shapeDef" "")
    ())
  (LAMBDA 168
    (BODY 168
      (LIST
        (DECL 168
          (LIST
            (NAME "r" ""))
          (REF 168 (NAME "Rule" "") ())))
      ())
    (APPLY 168
      (REF 168 (NAME "snd" "") ())
      (REF 168 (NAME "r" "") ()))))

(EQEQ 170
  (LHS 170
    (NAME "extConds" "")
    ())
  (LAMBDA 170
    (BODY 170
      (LIST
        (DECL 170
          (LIST
            (NAME "r" ""))
          (REF 170 (NAME "Rule" "") ())))
      ())
    (APPLY 170
      (REF 170 (NAME "trd" "") ())
      (REF 170 (NAME "r" "") ()))))

(AXDEF 193
  (BODY 194
    (LIST
      (DECL 194
        (LIST
          (NAME "shapeExpr" ""))
        (INGEN 194
          (NAME "\fun" "")
          (REF 194 (NAME "ShapeDefinition" "") ())
          (REF 194 (NAME "ShapeExpr" "") ()))))
    (LIST
      (FORALL 196
        (BODY 196
          (LIST
            (DECL 196
              (LIST
                (NAME "x" ""))
              (REF 196 (NAME "ShapeExpr" "") ())))
          ())
        (EQUAL 197
          (APPLY 197
            (REF 197 (NAME "shapeExpr" "") ())
            (APPLY 197
              (REF 197 (NAME "close" "") ())
              (REF 197 (NAME "x" "") ())))
          (REF 197 (NAME "x" "") ())))
      (FORALL 199
        (BODY 199
          (LIST
            (DECL 199
              (LIST
                (NAME "o" ""))
              (REF 199 (NAME "OPTIONAL" "")
                (LIST
                  (REF 199 (NAME "InclPropSet" "") ()))))
            (DECL 199
              (LIST
                (NAME "x" ""))
              (REF 199 (NAME "ShapeExpr" "") ())))
          ())
        (EQUAL 200
          (APPLY 200
            (REF 200 (NAME "shapeExpr" "") ())
            (APPLY 200
              (REF 200 (NAME "open" "") ())
              (TUPLE 200
                (LIST
                  (REF 200 (NAME "o" "") ())
                  (REF 200 (NAME "x" "") ())))))
          (REF 200 (NAME "x" "") ()))))))

(EQEQ 206
  (LHS 206
    (NAME "ClosedShape" "")
    ())
  (APPLY 206
    (REF 206 (NAME "\ran" "") ())
    (REF 206 (NAME "close" "") ())))

(EQEQ 212
  (LHS 212
    (NAME "OpenShape" "")
    ())
  (APPLY 212
    (REF 212 (NAME "\ran" "") ())
    (REF 212 (NAME "open" "") ())))

(EQEQ 256
  (LHS 256
    (NAME "EmptyShape" "")
    ())
  (EXT 256
    (LIST
      (REF 256 (NAME "emptyshape" "") ()))))

(AXDEF 272
  (BODY 273
    (LIST
      (DECL 273
        (LIST
          (NAME "predDP" ""))
        (INGEN 273
          (NAME "\fun" "")
          (REF 273 (NAME "DirectedPredicate" "") ())
          (REF 273 (NAME "IRI" "") ()))))
    (LIST
      (FORALL 275
        (BODY 275
          (LIST
            (DECL 275
              (LIST
                (NAME "p" ""))
              (REF 275 (NAME "IRI" "") ())))
          ())
        (AND 1
          (EQUAL 276
            (APPLY 276
              (REF 276 (NAME "predDP" "") ())
              (APPLY 276
                (REF 276 (NAME "nop" "") ())
                (REF 276 (NAME "p" "") ())))
            (APPLY 276
              (REF 276 (NAME "predDP" "") ())
              (APPLY 276
                (REF 276 (NAME "inv" "") ())
                (REF 276 (NAME "p" "") ()))))
          (EQUAL 276
            (APPLY 276
              (REF 276 (NAME "predDP" "") ())
              (APPLY 276
                (REF 276 (NAME "inv" "") ())
                (REF 276 (NAME "p" "") ())))
            (REF 276 (NAME "p" "") ())))))))

(AXDEF 289
  (BODY 290
    (LIST
      (DECL 290
        (LIST
          (NAME "predDTC" ""))
        (INGEN 290
          (NAME "\fun" "")
          (REF 290 (NAME "DirectedTripleConstraint" "") ())
          (REF 290 (NAME "IRI" "") ()))))
    (LIST
      (FORALL 292
        (BODY 292
          (LIST
            (DECL 292
              (LIST
                (NAME "dp" ""))
              (REF 292 (NAME "DirectedPredicate" "") ()))
            (DECL 292
              (LIST
                (NAME "C" ""))
              (REF 292 (NAME "Constraint" "") ())))
          (LIST
            (MEMBER 293
              (TUPLE 293
                (LIST
                  (REF 293 (NAME "dp" "") ())
                  (REF 293 (NAME "C" "") ())))
              (REF 293 (NAME "DirectedTripleConstraint" "") ()))))
        (EQUAL 294
          (APPLY 294
            (REF 294 (NAME "predDTC" "") ())
            (TUPLE 294
              (LIST
                (REF 294 (NAME "dp" "") ())
                (REF 294 (NAME "C" "") ()))))
          (APPLY 294
            (REF 294 (NAME "predDP" "") ())
            (REF 294 (NAME "dp" "") ())))))))

(AXDEF 297
  (BODY 298
    (LIST
      (DECL 298
        (LIST
          (NAME "constrDTC" ""))
        (INGEN 298
          (NAME "\fun" "")
          (REF 298 (NAME "DirectedTripleConstraint" "") ())
          (REF 298 (NAME "Constraint" "") ()))))
    (LIST
      (FORALL 300
        (BODY 300
          (LIST
            (DECL 300
              (LIST
                (NAME "dp" ""))
              (REF 300 (NAME "DirectedPredicate" "") ()))
            (DECL 300
              (LIST
                (NAME "C" ""))
              (REF 300 (NAME "Constraint" "") ())))
          (LIST
            (MEMBER 301
              (TUPLE 301
                (LIST
                  (REF 301 (NAME "dp" "") ())
                  (REF 301 (NAME "C" "") ())))
              (REF 301 (NAME "DirectedTripleConstraint" "") ()))))
        (EQUAL 302
          (APPLY 302
            (REF 302 (NAME "constrDTC" "") ())
            (TUPLE 302
              (LIST
                (REF 302 (NAME "dp" "") ())
                (REF 302 (NAME "C" "") ()))))
          (REF 302 (NAME "C" "") ()))))))

(AXDEF 308
  (BODY 309
    (LIST
      (DECL 309
        (LIST
          (NAME "TripleConstraint" ""))
        (POWER 309
          (REF 309 (NAME "DirectedTripleConstraint" "") ()))))
    (LIST
      (EQUAL 311
        (REF 311 (NAME "TripleConstraint" "") ())
        (COMP 312
          (BODY 312
            (LIST
              (DECL 312
                (LIST
                  (NAME "p" ""))
                (REF 312 (NAME "IRI" "") ()))
              (DECL 312
                (LIST
                  (NAME "C" ""))
                (REF 312 (NAME "Constraint" "") ())))
            ())
          (JUST 312
            (TUPLE 312
              (LIST
                (APPLY 312
                  (REF 312 (NAME "nop" "") ())
                  (REF 312 (NAME "p" "") ()))
                (REF 312 (NAME "C" "") ())))))))))

(AXDEF 318
  (BODY 319
    (LIST
      (DECL 319
        (LIST
          (NAME "InverseTripleConstraint" ""))
        (POWER 319
          (REF 319 (NAME "DirectedTripleConstraint" "") ()))))
    (LIST
      (EQUAL 321
        (REF 321 (NAME "InverseTripleConstraint" "") ())
        (COMP 322
          (BODY 322
            (LIST
              (DECL 322
                (LIST
                  (NAME "p" ""))
                (REF 322 (NAME "IRI" "") ()))
              (DECL 322
                (LIST
                  (NAME "C" ""))
                (REF 322 (NAME "ShapeConstr" "") ())))
            ())
          (JUST 322
            (TUPLE 322
              (LIST
                (APPLY 322
                  (REF 322 (NAME "inv" "") ())
                  (REF 322 (NAME "p" "") ()))
                (REF 322 (NAME "C" "") ())))))))))

(AXDEF 384
  (BODY 385
    (LIST
      (DECL 385
        (LIST
          (NAME "inBounds" ""))
        (INGEN 385
          (NAME "\rel" "")
          (REF 385 (NAME "\nat" "") ())
          (REF 385 (NAME "Cardinality" "") ()))))
    (LIST
      (FORALL 387
        (BODY 387
          (LIST
            (DECL 387
              (LIST
                (NAME "k" "")
                (NAME "n" ""))
              (REF 387 (NAME "\nat" "") ())))
          ())
        (EQUIV 388
          (INREL 388
            (NAME "inBounds" "")
            (REF 388 (NAME "k" "") ())
            (TUPLE 388
              (LIST
                (REF 388 (NAME "n" "") ())
                (REF 388 (NAME "unbound" "") ()))))
          (INREL 388
            (NAME "\leq" "")
            (REF 388 (NAME "n" "") ())
            (REF 388 (NAME "k" "") ()))))
      (FORALL 390
        (BODY 390
          (LIST
            (DECL 390
              (LIST
                (NAME "k" "")
                (NAME "n" "")
                (NAME "m" ""))
              (REF 390 (NAME "\nat" "") ())))
          ())
        (EQUIV 391
          (INREL 391
            (NAME "inBounds" "")
            (REF 391 (NAME "k" "") ())
            (TUPLE 391
              (LIST
                (REF 391 (NAME "n" "") ())
                (APPLY 391
                  (REF 391 (NAME "maxCard" "") ())
                  (REF 391 (NAME "m" "") ())))))
          (AND 1
            (INREL 391
              (NAME "\leq" "")
              (REF 391 (NAME "n" "") ())
              (REF 391 (NAME "k" "") ()))
            (INREL 391
              (NAME "\leq" "")
              (REF 391 (NAME "k" "") ())
              (REF 391 (NAME "m" "") ()))))))))

(EQEQ 426
  (LHS 426
    (NAME "none" "")
    ())
  (TUPLE 426
    (LIST
      (NUMBER 426 "0")
      (APPLY 426
        (REF 426 (NAME "maxCard" "") ())
        (NUMBER 426 "0")))))

(EQEQ 428
  (LHS 428
    (NAME "one" "")
    ())
  (TUPLE 428
    (LIST
      (NUMBER 428 "1")
      (APPLY 428
        (REF 428 (NAME "maxCard" "") ())
        (NUMBER 428 "1")))))

(EQEQ 439
  (LHS 439
    (NAME "NegatedTripleConstraint" "")
    ())
  (COMP 440
    (BODY 440
      (LIST
        (DECL 440
          (LIST
            (NAME "tc" ""))
          (REF 440 (NAME "TripleConstraint" "") ())))
      ())
    (JUST 440
      (APPLY 440
        (REF 440 (NAME "triple" "") ())
        (TUPLE 440
          (LIST
            (REF 440 (NAME "tc" "") ())
            (REF 440 (NAME "none" "") ())))))))

(EQEQ 446
  (LHS 446
    (NAME "NegatedInverseTripleConstraint" "")
    ())
  (COMP 447
    (BODY 447
      (LIST
        (DECL 447
          (LIST
            (NAME "itc" ""))
          (REF 447 (NAME "InverseTripleConstraint" "") ())))
      ())
    (JUST 447
      (APPLY 447
        (REF 447 (NAME "triple" "") ())
        (TUPLE 447
          (LIST
            (REF 447 (NAME "itc" "") ())
            (REF 447 (NAME "none" "") ())))))))

(EQEQ 453
  (LHS 453
    (NAME "ValueConstr" "")
    ())
  (INOP 453
    (NAME "\cup" "")
    (INOP 453
      (NAME "\cup" "")
      (APPLY 453
        (REF 453 (NAME "\ran" "") ())
        (REF 453 (NAME "valueSet" "") ()))
      (APPLY 453
        (REF 453 (NAME "\ran" "") ())
        (REF 453 (NAME "datatype" "") ())))
    (APPLY 453
      (REF 453 (NAME "\ran" "") ())
      (REF 453 (NAME "kind" "") ()))))

(EQEQ 459
  (LHS 459
    (NAME "ValueSet" "")
    ())
  (APPLY 459
    (REF 459 (NAME "\ran" "") ())
    (REF 459 (NAME "valueSet" "") ())))

(AXDEF 470
  (BODY 471
    (LIST
      (DECL 471
        (LIST
          (NAME "literalsOfDatatype" ""))
        (INGEN 471
          (NAME "\fun" "")
          (REF 471 (NAME "LiteralDatatype" "") ())
          (POWER 471
            (REF 471 (NAME "Lit" "") ())))))
    ()))

(AXDEF 487
  (BODY 488
    (LIST
      (DECL 488
        (LIST
          (NAME "termsOfKind" ""))
        (INGEN 488
          (NAME "\fun" "")
          (REF 488 (NAME "NodeKind" "") ())
          (POWER 488
            (REF 488 (NAME "TERM" "") ())))))
    (LIST
      (EQUAL 490
        (APPLY 490
          (REF 490 (NAME "termsOfKind" "") ())
          (REF 490 (NAME "iri" "") ()))
        (REF 490 (NAME "IRI" "") ()))
      (EQUAL 492
        (APPLY 492
          (REF 492 (NAME "termsOfKind" "") ())
          (REF 492 (NAME "blank" "") ()))
        (REF 492 (NAME "Blank" "") ()))
      (EQUAL 494
        (APPLY 494
          (REF 494 (NAME "termsOfKind" "") ())
          (REF 494 (NAME "literal" "") ()))
        (REF 494 (NAME "Lit" "") ()))
      (EQUAL 496
        (APPLY 496
          (REF 496 (NAME "termsOfKind" "") ())
          (REF 496 (NAME "nonliteral" "") ()))
        (INOP 496
          (NAME "\setminus" "")
          (REF 496 (NAME "TERM" "") ())
          (REF 496 (NAME "Lit" "") ()))))))

(AXDEF 507
  (BODY 508
    (LIST
      (DECL 508
        (LIST
          (NAME "literalsOfFacet" ""))
        (INGEN 508
          (NAME "\fun" "")
          (CROSS 508
            (LIST
              (REF 508 (NAME "LiteralDatatype" "") ())
              (REF 508 (NAME "XSFacet" "") ())))
          (POWER 508
            (REF 508 (NAME "Lit" "") ())))))
    (LIST
      (FORALL 510
        (BODY 510
          (LIST
            (DECL 510
              (LIST
                (NAME "d" ""))
              (REF 510 (NAME "LiteralDatatype" "") ()))
            (DECL 510
              (LIST
                (NAME "f" ""))
              (REF 510 (NAME "XSFacet" "") ())))
          ())
        (INREL 511
          (NAME "\subseteq" "")
          (APPLY 511
            (REF 511 (NAME "literalsOfFacet" "") ())
            (TUPLE 511
              (LIST
                (REF 511 (NAME "d" "") ())
                (REF 511 (NAME "f" "") ()))))
          (APPLY 511
            (REF 511 (NAME "literalsOfDatatype" "") ())
            (REF 511 (NAME "d" "") ())))))))

(EQEQ 526
  (LHS 526
    (NAME "DisjShapeConstr" "")
    ())
  (APPLY 526
    (REF 526 (NAME "\ran" "") ())
    (REF 526 (NAME "or" "") ())))

(EQEQ 532
  (LHS 532
    (NAME "ConjShapeConstraint" "")
    ())
  (APPLY 532
    (REF 532 (NAME "\ran" "") ())
    (REF 532 (NAME "and" "") ())))

(EQEQ 538
  (LHS 538
    (NAME "SomeOfShape" "")
    ())
  (APPLY 538
    (REF 538 (NAME "\ran" "") ())
    (REF 538 (NAME "someOf" "") ())))

(EQEQ 544
  (LHS 544
    (NAME "OneOfShape" "")
    ())
  (APPLY 544
    (REF 544 (NAME "\ran" "") ())
    (REF 544 (NAME "oneOf" "") ())))

(EQEQ 550
  (LHS 550
    (NAME "GroupShape" "")
    ())
  (APPLY 550
    (REF 550 (NAME "\ran" "") ())
    (REF 550 (NAME "group" "") ())))

(EQEQ 556
  (LHS 556
    (NAME "RepetitionShape" "")
    ())
  (APPLY 556
    (REF 556 (NAME "\ran" "") ())
    (REF 556 (NAME "repetition" "") ())))

(AXDEF 582
  (BODY 583
    (LIST
      (DECL 583
        (LIST
          (NAME "violatedBy" ""))
        (INGEN 583
          (NAME "\fun" "")
          (REF 583 (NAME "ExtensionCondition" "") ())
          (POWER 583
            (REF 583 (NAME "PointedGraph" "") ())))))
    ()))

(EQEQ 589
  (LHS 589
    (NAME "defs" "")
    ())
  (LAMBDA 589
    (BODY 589
      (LIST
        (DECL 589
          (LIST
            (NAME "S" ""))
          (REF 589 (NAME "Schema" "") ())))
      ())
    (COMP 590
      (BODY 590
        (LIST
          (DECL 590
            (LIST
              (NAME "r" ""))
            (APPLY 590
              (REF 590 (NAME "\ran" "") ())
              (REF 590 (NAME "S" "") ()))))
        ())
      (JUST 590
        (APPLY 590
          (REF 590 (NAME "shapeLabel" "") ())
          (REF 590 (NAME "r" "") ()))))))

(EQEQ 595
  (LHS 595
    (NAME "SchemaUL" "")
    ())
  (COMP 595
    (BODY 595
      (LIST
        (DECL 595
          (LIST
            (NAME "S" ""))
          (REF 595 (NAME "Schema" "") ())))
      (LIST
        (EQUAL 595
          (APPLY 595
            (REF 595 (NAME "\#" "") ())
            (REF 595 (NAME "S" "") ()))
          (APPLY 595
            (REF 595 (NAME "\#" "") ())
            (APPLY 595
              (REF 595 (NAME "defs" "") ())
              (REF 595 (NAME "S" "") ()))))))
    (NOTHING 0)))

(AXDEF 603
  (BODY 604
    (LIST
      (DECL 604
        (LIST
          (NAME "rule" ""))
        (INGEN 604
          (NAME "\pfun" "")
          (CROSS 604
            (LIST
              (REF 604 (NAME "ShapeLabel" "") ())
              (REF 604 (NAME "SchemaUL" "") ())))
          (REF 604 (NAME "Rule" "") ()))))
    (LIST
      (EQUAL 606
        (APPLY 606
          (REF 606 (NAME "\dom" "") ())
          (REF 606 (NAME "rule" "") ()))
        (COMP 606
          (BODY 606
            (LIST
              (DECL 606
                (LIST
                  (NAME "T" ""))
                (REF 606 (NAME "ShapeLabel" "") ()))
              (DECL 606
                (LIST
                  (NAME "S" ""))
                (REF 606 (NAME "SchemaUL" "") ())))
            (LIST
              (MEMBER 606
                (REF 606 (NAME "T" "") ())
                (APPLY 606
                  (REF 606 (NAME "defs" "") ())
                  (REF 606 (NAME "S" "") ())))))
          (NOTHING 0)))
      (FORALL 608
        (BODY 608
          (LIST
            (DECL 608
              (LIST
                (NAME "S" ""))
              (REF 608 (NAME "SchemaUL" "") ())))
          ())
        (FORALL 609
          (BODY 609
            (LIST
              (DECL 609
                (LIST
                  (NAME "r" ""))
                (APPLY 609
                  (REF 609 (NAME "\ran" "") ())
                  (REF 609 (NAME "S" "") ()))))
            ())
          (LETPRED 610
            (LIST
              (LETDEF 610
                (NAME "T" "")
                (APPLY 610
                  (REF 610 (NAME "shapeLabel" "") ())
                  (REF 610 (NAME "r" "") ()))))
            (EQUAL 611
              (APPLY 611
                (REF 611 (NAME "rule" "") ())
                (TUPLE 611
                  (LIST
                    (REF 611 (NAME "T" "") ())
                    (REF 611 (NAME "S" "") ()))))
              (REF 611 (NAME "r" "") ()))))))))

(AXDEF 689
  (BODY 690
    (LIST
      (DECL 690
        (LIST
          (NAME "refsShapeConstr" ""))
        (INGEN 690
          (NAME "\fun" "")
          (REF 690 (NAME "ShapeConstr" "") ())
          (PREGEN 690
            (NAME "\finset" "")
            (REF 690 (NAME "ShapeLabel" "") ())))))
    (LIST
      (FORALL 692
        (BODY 692
          (LIST
            (DECL 692
              (LIST
                (NAME "ls" ""))
              (PREGEN 692
                (NAME "\seq" "_1")
                (REF 692 (NAME "ShapeLabel" "") ()))))
          ())
        (AND 1
          (AND 1
            (AND 1
              (EQUAL 693
                (APPLY 693
                  (REF 693 (NAME "refsShapeConstr" "") ())
                  (APPLY 693
                    (REF 693 (NAME "or" "") ())
                    (REF 693 (NAME "ls" "") ())))
                (APPLY 694
                  (REF 694 (NAME "refsShapeConstr" "") ())
                  (APPLY 694
                    (REF 694 (NAME "and" "") ())
                    (REF 694 (NAME "ls" "") ()))))
              (EQUAL 694
                (APPLY 694
                  (REF 694 (NAME "refsShapeConstr" "") ())
                  (APPLY 694
                    (REF 694 (NAME "and" "") ())
                    (REF 694 (NAME "ls" "") ())))
                (APPLY 695
                  (REF 695 (NAME "refsShapeConstr" "") ())
                  (APPLY 695
                    (REF 695 (NAME "nor" "") ())
                    (REF 695 (NAME "ls" "") ())))))
            (EQUAL 695
              (APPLY 695
                (REF 695 (NAME "refsShapeConstr" "") ())
                (APPLY 695
                  (REF 695 (NAME "nor" "") ())
                  (REF 695 (NAME "ls" "") ())))
              (APPLY 696
                (REF 696 (NAME "refsShapeConstr" "") ())
                (APPLY 696
                  (REF 696 (NAME "nand" "") ())
                  (REF 696 (NAME "ls" "") ())))))
          (EQUAL 696
            (APPLY 696
              (REF 696 (NAME "refsShapeConstr" "") ())
              (APPLY 696
                (REF 696 (NAME "nand" "") ())
                (REF 696 (NAME "ls" "") ())))
            (APPLY 697
              (REF 697 (NAME "\ran" "") ())
              (REF 697 (NAME "ls" "") ()))))))))

(AXDEF 671
  (BODY 672
    (LIST
      (DECL 672
        (LIST
          (NAME "refsDirectedTripleConstraint" ""))
        (INGEN 673
          (NAME "\fun" "")
          (REF 673 (NAME "DirectedTripleConstraint" "") ())
          (PREGEN 673
            (NAME "\finset" "")
            (REF 673 (NAME "ShapeLabel" "") ())))))
    (LIST
      (FORALL 675
        (BODY 675
          (LIST
            (DECL 675
              (LIST
                (NAME "a" ""))
              (REF 675 (NAME "IRI" "") ()))
            (DECL 675
              (LIST
                (NAME "C" ""))
              (REF 675 (NAME "ValueConstr" "") ())))
          ())
        (EQUAL 676
          (APPLY 676
            (REF 676 (NAME "refsDirectedTripleConstraint" "") ())
            (TUPLE 676
              (LIST
                (APPLY 676
                  (REF 676 (NAME "nop" "") ())
                  (REF 676 (NAME "a" "") ()))
                (REF 676 (NAME "C" "") ()))))
          (REF 676 (NAME "\emptyset" "") ())))
      (FORALL 678
        (BODY 678
          (LIST
            (DECL 678
              (LIST
                (NAME "a" ""))
              (REF 678 (NAME "IRI" "") ()))
            (DECL 678
              (LIST
                (NAME "C" ""))
              (REF 678 (NAME "ShapeConstr" "") ())))
          ())
        (AND 1
          (EQUAL 679
            (APPLY 679
              (REF 679 (NAME "refsDirectedTripleConstraint" "") ())
              (TUPLE 679
                (LIST
                  (APPLY 679
                    (REF 679 (NAME "nop" "") ())
                    (REF 679 (NAME "a" "") ()))
                  (REF 679 (NAME "C" "") ()))))
            (APPLY 680
              (REF 680 (NAME "refsDirectedTripleConstraint" "") ())
              (TUPLE 680
                (LIST
                  (APPLY 680
                    (REF 680 (NAME "inv" "") ())
                    (REF 680 (NAME "a" "") ()))
                  (REF 680 (NAME "C" "") ())))))
          (EQUAL 680
            (APPLY 680
              (REF 680 (NAME "refsDirectedTripleConstraint" "") ())
              (TUPLE 680
                (LIST
                  (APPLY 680
                    (REF 680 (NAME "inv" "") ())
                    (REF 680 (NAME "a" "") ()))
                  (REF 680 (NAME "C" "") ()))))
            (APPLY 681
              (REF 681 (NAME "refsShapeConstr" "") ())
              (REF 681 (NAME "C" "") ()))))))))

(AXDEF 644
  (BODY 645
    (LIST
      (DECL 645
        (LIST
          (NAME "refsShapeExpr" ""))
        (INGEN 645
          (NAME "\fun" "")
          (REF 645 (NAME "ShapeExpr" "") ())
          (PREGEN 645
            (NAME "\finset" "")
            (REF 645 (NAME "ShapeLabel" "") ())))))
    (LIST
      (EQUAL 647
        (APPLY 647
          (REF 647 (NAME "refsShapeExpr" "") ())
          (REF 647 (NAME "emptyshape" "") ()))
        (REF 647 (NAME "\emptyset" "") ()))
      (FORALL 649
        (BODY 649
          (LIST
            (DECL 649
              (LIST
                (NAME "dtc" ""))
              (REF 649 (NAME "DirectedTripleConstraint" "") ()))
            (DECL 649
              (LIST
                (NAME "c" ""))
              (REF 649 (NAME "Cardinality" "") ())))
          ())
        (EQUAL 650
          (APPLY 650
            (REF 650 (NAME "refsShapeExpr" "") ())
            (APPLY 650
              (REF 650 (NAME "triple" "") ())
              (TUPLE 650
                (LIST
                  (REF 650 (NAME "dtc" "") ())
                  (REF 650 (NAME "c" "") ())))))
          (APPLY 651
            (REF 651 (NAME "refsDirectedTripleConstraint" "") ())
            (REF 651 (NAME "dtc" "") ()))))
      (FORALL 653
        (BODY 653
          (LIST
            (DECL 653
              (LIST
                (NAME "xs" ""))
              (PREGEN 653
                (NAME "\seq" "_1")
                (REF 653 (NAME "ShapeExpr" "") ()))))
          ())
        (AND 1
          (AND 1
            (EQUAL 654
              (APPLY 654
                (REF 654 (NAME "refsShapeExpr" "") ())
                (APPLY 654
                  (REF 654 (NAME "someOf" "") ())
                  (REF 654 (NAME "xs" "") ())))
              (APPLY 655
                (REF 655 (NAME "refsShapeExpr" "") ())
                (APPLY 655
                  (REF 655 (NAME "oneOf" "") ())
                  (REF 655 (NAME "xs" "") ()))))
            (EQUAL 655
              (APPLY 655
                (REF 655 (NAME "refsShapeExpr" "") ())
                (APPLY 655
                  (REF 655 (NAME "oneOf" "") ())
                  (REF 655 (NAME "xs" "") ())))
              (APPLY 656
                (REF 656 (NAME "refsShapeExpr" "") ())
                (APPLY 656
                  (REF 656 (NAME "group" "") ())
                  (REF 656 (NAME "xs" "") ())))))
          (EQUAL 656
            (APPLY 656
              (REF 656 (NAME "refsShapeExpr" "") ())
              (APPLY 656
                (REF 656 (NAME "group" "") ())
                (REF 656 (NAME "xs" "") ())))
            (APPLY 657
              (REF 657 (NAME "\bigcup" "") ())
              (COMP 657
                (BODY 657
                  (LIST
                    (DECL 657
                      (LIST
                        (NAME "x" ""))
                      (APPLY 657
                        (REF 657 (NAME "\ran" "") ())
                        (REF 657 (NAME "xs" "") ()))))
                  ())
                (JUST 657
                  (APPLY 657
                    (REF 657 (NAME "refsShapeExpr" "") ())
                    (REF 657 (NAME "x" "") ()))))))))
      (FORALL 659
        (BODY 659
          (LIST
            (DECL 659
              (LIST
                (NAME "x" ""))
              (REF 659 (NAME "ShapeExpr" "") ()))
            (DECL 659
              (LIST
                (NAME "c" ""))
              (REF 659 (NAME "Cardinality" "") ())))
          ())
        (EQUAL 660
          (APPLY 660
            (REF 660 (NAME "refsShapeExpr" "") ())
            (APPLY 660
              (REF 660 (NAME "repetition" "") ())
              (TUPLE 660
                (LIST
                  (REF 660 (NAME "x" "") ())
                  (REF 660 (NAME "c" "") ())))))
          (APPLY 661
            (REF 661 (NAME "refsShapeExpr" "") ())
            (REF 661 (NAME "x" "") ())))))))

(AXDEF 632
  (BODY 633
    (LIST
      (DECL 633
        (LIST
          (NAME "refsShapeDefinition" ""))
        (INGEN 633
          (NAME "\fun" "")
          (REF 633 (NAME "ShapeDefinition" "") ())
          (PREGEN 633
            (NAME "\finset" "")
            (REF 633 (NAME "ShapeLabel" "") ())))))
    (LIST
      (FORALL 635
        (BODY 635
          (LIST
            (DECL 635
              (LIST
                (NAME "d" ""))
              (REF 635 (NAME "ShapeDefinition" "") ())))
          ())
        (EQUAL 636
          (APPLY 636
            (REF 636 (NAME "refsShapeDefinition" "") ())
            (REF 636 (NAME "d" "") ()))
          (APPLY 636
            (REF 636 (NAME "refsShapeExpr" "") ())
            (APPLY 636
              (REF 636 (NAME "shapeExpr" "") ())
              (REF 636 (NAME "d" "") ()))))))))

(EQEQ 625
  (LHS 625
    (NAME "refsRule" "")
    ())
  (LAMBDA 625
    (BODY 625
      (LIST
        (DECL 625
          (LIST
            (NAME "r" ""))
          (REF 625 (NAME "Rule" "") ())))
      ())
    (APPLY 625
      (REF 625 (NAME "refsShapeDefinition" "") ())
      (APPLY 625
        (REF 625 (NAME "shapeDef" "") ())
        (REF 625 (NAME "r" "") ())))))

(EQEQ 617
  (LHS 617
    (NAME "refs" "")
    ())
  (LAMBDA 617
    (BODY 617
      (LIST
        (DECL 617
          (LIST
            (NAME "S" ""))
          (REF 617 (NAME "Schema" "") ())))
      ())
    (APPLY 617
      (REF 617 (NAME "\bigcup" "") ())
      (COMP 617
        (BODY 617
          (LIST
            (DECL 617
              (LIST
                (NAME "r" ""))
              (APPLY 617
                (REF 617 (NAME "\ran" "") ())
                (REF 617 (NAME "S" "") ()))))
          ())
        (JUST 617
          (APPLY 617
            (REF 617 (NAME "refsRule" "") ())
            (REF 617 (NAME "r" "") ())))))))

(EQEQ 705
  (LHS 705
    (NAME "SchemaRD" "")
    ())
  (COMP 705
    (BODY 705
      (LIST
        (DECL 705
          (LIST
            (NAME "s" ""))
          (REF 705 (NAME "Schema" "") ())))
      (LIST
        (INREL 705
          (NAME "\subseteq" "")
          (APPLY 705
            (REF 705 (NAME "refs" "") ())
            (REF 705 (NAME "s" "") ()))
          (APPLY 705
            (REF 705 (NAME "defs" "") ())
            (REF 705 (NAME "s" "") ())))))
    (NOTHING 0)))

(EQEQ 710
  (LHS 710
    (NAME "SchemaWF" "")
    ())
  (INOP 710
    (NAME "\cap" "")
    (REF 710 (NAME "SchemaUL" "") ())
    (REF 710 (NAME "SchemaRD" "") ())))

(EQEQ 722
  (LHS 722
    (NAME "shapes" "")
    ())
  (LAMBDA 722
    (BODY 722
      (LIST
        (DECL 722
          (LIST
            (NAME "S" ""))
          (REF 722 (NAME "SchemaWF" "") ())))
      ())
    (APPLY 722
      (REF 722 (NAME "defs" "") ())
      (REF 722 (NAME "S" "") ()))))

(AXDEF 727
  (BODY 728
    (LIST
      (DECL 728
        (LIST
          (NAME "expr" ""))
        (INGEN 728
          (NAME "\pfun" "")
          (CROSS 728
            (LIST
              (REF 728 (NAME "ShapeLabel" "") ())
              (REF 728 (NAME "SchemaWF" "") ())))
          (REF 728 (NAME "ShapeExpr" "") ()))))
    (LIST
      (EQUAL 730
        (APPLY 730
          (REF 730 (NAME "\dom" "") ())
          (REF 730 (NAME "expr" "") ()))
        (COMP 730
          (BODY 730
            (LIST
              (DECL 730
                (LIST
                  (NAME "T" ""))
                (REF 730 (NAME "ShapeLabel" "") ()))
              (DECL 730
                (LIST
                  (NAME "S" ""))
                (REF 730 (NAME "SchemaWF" "") ())))
            (LIST
              (MEMBER 730
                (REF 730 (NAME "T" "") ())
                (APPLY 730
                  (REF 730 (NAME "shapes" "") ())
                  (REF 730 (NAME "S" "") ())))))
          (NOTHING 0)))
      (FORALL 732
        (BODY 732
          (LIST
            (DECL 732
              (LIST
                (NAME "T" ""))
              (REF 732 (NAME "ShapeLabel" "") ()))
            (DECL 732
              (LIST
                (NAME "S" ""))
              (REF 732 (NAME "SchemaWF" "") ())))
          (LIST
            (MEMBER 732
              (REF 732 (NAME "T" "") ())
              (APPLY 732
                (REF 732 (NAME "shapes" "") ())
                (REF 732 (NAME "S" "") ())))))
        (LETPRED 733
          (LIST
            (LETDEF 733
              (NAME "r" "")
              (APPLY 733
                (REF 733 (NAME "rule" "") ())
                (TUPLE 733
                  (LIST
                    (REF 733 (NAME "T" "") ())
                    (REF 733 (NAME "S" "") ()))))))
          (EQUAL 734
            (APPLY 734
              (REF 734 (NAME "expr" "") ())
              (TUPLE 734
                (LIST
                  (REF 734 (NAME "T" "") ())
                  (REF 734 (NAME "S" "") ()))))
            (APPLY 734
              (REF 734 (NAME "shapeExpr" "") ())
              (APPLY 734
                (REF 734 (NAME "shapeDef" "") ())
                (REF 734 (NAME "r" "") ())))))))))

(AXDEF 758
  (BODY 759
    (LIST
      (DECL 759
        (LIST
          (NAME "inclShapeDefinition" ""))
        (INGEN 759
          (NAME "\fun" "")
          (REF 759 (NAME "ShapeDefinition" "") ())
          (REF 759 (NAME "InclPropSet" "") ()))))
    (LIST
      (FORALL 761
        (BODY 761
          (LIST
            (DECL 761
              (LIST
                (NAME "x" ""))
              (REF 761 (NAME "ShapeExpr" "") ())))
          ())
        (AND 1
          (EQUAL 762
            (APPLY 762
              (REF 762 (NAME "inclShapeDefinition" "") ())
              (APPLY 762
                (REF 762 (NAME "close" "") ())
                (REF 762 (NAME "x" "") ())))
            (APPLY 763
              (REF 763 (NAME "inclShapeDefinition" "") ())
              (APPLY 763
                (REF 763 (NAME "open" "") ())
                (TUPLE 763
                  (LIST
                    (EXT 763
                      (LIST
                        (REF 763 (NAME "\emptyset" "") ())))
                    (REF 763 (NAME "x" "") ()))))))
          (EQUAL 764
            (APPLY 763
              (REF 763 (NAME "inclShapeDefinition" "") ())
              (APPLY 763
                (REF 763 (NAME "open" "") ())
                (TUPLE 763
                  (LIST
                    (EXT 763
                      (LIST
                        (REF 763 (NAME "\emptyset" "") ())))
                    (REF 763 (NAME "x" "") ())))))
            (REF 764 (NAME "\emptyset" "") ()))))
      (FORALL 766
        (BODY 766
          (LIST
            (DECL 766
              (LIST
                (NAME "ips" ""))
              (REF 766 (NAME "InclPropSet" "") ()))
            (DECL 766
              (LIST
                (NAME "x" ""))
              (REF 766 (NAME "ShapeExpr" "") ())))
          ())
        (EQUAL 767
          (APPLY 767
            (REF 767 (NAME "inclShapeDefinition" "") ())
            (APPLY 767
              (REF 767 (NAME "open" "") ())
              (TUPLE 767
                (LIST
                  (EXT 767
                    (LIST
                      (REF 767 (NAME "ips" "") ())))
                  (REF 767 (NAME "x" "") ())))))
          (REF 767 (NAME "ips" "") ()))))))

(AXDEF 744
  (BODY 745
    (LIST
      (DECL 745
        (LIST
          (NAME "incl" ""))
        (INGEN 745
          (NAME "\pfun" "")
          (CROSS 745
            (LIST
              (REF 745 (NAME "ShapeLabel" "") ())
              (REF 745 (NAME "SchemaWF" "") ())))
          (REF 745 (NAME "InclPropSet" "") ()))))
    (LIST
      (EQUAL 747
        (APPLY 747
          (REF 747 (NAME "\dom" "") ())
          (REF 747 (NAME "incl" "") ()))
        (COMP 747
          (BODY 747
            (LIST
              (DECL 747
                (LIST
                  (NAME "T" ""))
                (REF 747 (NAME "ShapeLabel" "") ()))
              (DECL 747
                (LIST
                  (NAME "S" ""))
                (REF 747 (NAME "SchemaWF" "") ())))
            (LIST
              (MEMBER 747
                (REF 747 (NAME "T" "") ())
                (APPLY 747
                  (REF 747 (NAME "shapes" "") ())
                  (REF 747 (NAME "S" "") ())))))
          (NOTHING 0)))
      (FORALL 749
        (BODY 749
          (LIST
            (DECL 749
              (LIST
                (NAME "T" ""))
              (REF 749 (NAME "ShapeLabel" "") ()))
            (DECL 749
              (LIST
                (NAME "S" ""))
              (REF 749 (NAME "SchemaWF" "") ())))
          (LIST
            (MEMBER 749
              (REF 749 (NAME "T" "") ())
              (APPLY 749
                (REF 749 (NAME "shapes" "") ())
                (REF 749 (NAME "S" "") ())))))
        (EXISTS1 750
          (BODY 750
            (LIST
              (DECL 750
                (LIST
                  (NAME "r" ""))
                (APPLY 750
                  (REF 750 (NAME "\ran" "") ())
                  (REF 750 (NAME "S" "") ()))))
            (LIST
              (EQUAL 750
                (REF 750 (NAME "T" "") ())
                (APPLY 750
                  (REF 750 (NAME "shapeLabel" "") ())
                  (REF 750 (NAME "r" "") ())))))
          (EQUAL 751
            (APPLY 751
              (REF 751 (NAME "incl" "") ())
              (TUPLE 751
                (LIST
                  (REF 751 (NAME "T" "") ())
                  (REF 751 (NAME "S" "") ()))))
            (APPLY 751
              (REF 751 (NAME "inclShapeDefinition" "") ())
              (APPLY 751
                (REF 751 (NAME "shapeDef" "") ())
                (REF 751 (NAME "r" "") ())))))))))

(AXDEF 814
  (BODY 815
    (LIST
      (DECL 815
        (LIST
          (NAME "propertiesTripleConstraint" ""))
        (INGEN 815
          (NAME "\fun" "")
          (REF 815 (NAME "TripleConstraint" "") ())
          (REF 815 (NAME "PropertiesSet" "") ()))))
    (LIST
      (FORALL 817
        (BODY 817
          (LIST
            (DECL 817
              (LIST
                (NAME "a" ""))
              (REF 817 (NAME "IRI" "") ()))
            (DECL 817
              (LIST
                (NAME "C" ""))
              (REF 817 (NAME "Constraint" "") ())))
          ())
        (EQUAL 818
          (APPLY 818
            (REF 818 (NAME "propertiesTripleConstraint" "") ())
            (TUPLE 818
              (LIST
                (APPLY 818
                  (REF 818 (NAME "nop" "") ())
                  (REF 818 (NAME "a" "") ()))
                (REF 818 (NAME "C" "") ()))))
          (EXT 818
            (LIST
              (REF 818 (NAME "a" "") ()))))))))

(AXDEF 780
  (BODY 781
    (LIST
      (DECL 781
        (LIST
          (NAME "properties" ""))
        (INGEN 781
          (NAME "\fun" "")
          (REF 781 (NAME "ShapeExpr" "") ())
          (REF 781 (NAME "PropertiesSet" "") ()))))
    (LIST
      (EQUAL 783
        (APPLY 783
          (REF 783 (NAME "properties" "") ())
          (REF 783 (NAME "emptyshape" "") ()))
        (REF 783 (NAME "\emptyset" "") ()))
      (FORALL 785
        (BODY 785
          (LIST
            (DECL 785
              (LIST
                (NAME "tc" ""))
              (REF 785 (NAME "TripleConstraint" "") ()))
            (DECL 785
              (LIST
                (NAME "c" ""))
              (REF 785 (NAME "Cardinality" "") ())))
          ())
        (EQUAL 786
          (APPLY 786
            (REF 786 (NAME "properties" "") ())
            (APPLY 786
              (REF 786 (NAME "triple" "") ())
              (TUPLE 786
                (LIST
                  (REF 786 (NAME "tc" "") ())
                  (REF 786 (NAME "c" "") ())))))
          (APPLY 787
            (REF 787 (NAME "propertiesTripleConstraint" "") ())
            (REF 787 (NAME "tc" "") ()))))
      (FORALL 789
        (BODY 789
          (LIST
            (DECL 789
              (LIST
                (NAME "itc" ""))
              (REF 789 (NAME "InverseTripleConstraint" "") ()))
            (DECL 789
              (LIST
                (NAME "c" ""))
              (REF 789 (NAME "Cardinality" "") ())))
          ())
        (EQUAL 790
          (APPLY 790
            (REF 790 (NAME "properties" "") ())
            (APPLY 790
              (REF 790 (NAME "triple" "") ())
              (TUPLE 790
                (LIST
                  (REF 790 (NAME "itc" "") ())
                  (REF 790 (NAME "c" "") ())))))
          (REF 791 (NAME "\emptyset" "") ())))
      (FORALL 793
        (BODY 793
          (LIST
            (DECL 793
              (LIST
                (NAME "xs" ""))
              (PREGEN 793
                (NAME "\seq" "_1")
                (REF 793 (NAME "ShapeExpr" "") ()))))
          ())
        (AND 1
          (AND 1
            (EQUAL 794
              (APPLY 794
                (REF 794 (NAME "properties" "") ())
                (APPLY 794
                  (REF 794 (NAME "someOf" "") ())
                  (REF 794 (NAME "xs" "") ())))
              (APPLY 795
                (REF 795 (NAME "properties" "") ())
                (APPLY 795
                  (REF 795 (NAME "oneOf" "") ())
                  (REF 795 (NAME "xs" "") ()))))
            (EQUAL 795
              (APPLY 795
                (REF 795 (NAME "properties" "") ())
                (APPLY 795
                  (REF 795 (NAME "oneOf" "") ())
                  (REF 795 (NAME "xs" "") ())))
              (APPLY 796
                (REF 796 (NAME "properties" "") ())
                (APPLY 796
                  (REF 796 (NAME "group" "") ())
                  (REF 796 (NAME "xs" "") ())))))
          (EQUAL 796
            (APPLY 796
              (REF 796 (NAME "properties" "") ())
              (APPLY 796
                (REF 796 (NAME "group" "") ())
                (REF 796 (NAME "xs" "") ())))
            (APPLY 797
              (REF 797 (NAME "\bigcup" "") ())
              (COMP 797
                (BODY 797
                  (LIST
                    (DECL 797
                      (LIST
                        (NAME "x" ""))
                      (APPLY 797
                        (REF 797 (NAME "\ran" "") ())
                        (REF 797 (NAME "xs" "") ()))))
                  ())
                (JUST 797
                  (APPLY 797
                    (REF 797 (NAME "properties" "") ())
                    (REF 797 (NAME "x" "") ()))))))))
      (FORALL 799
        (BODY 799
          (LIST
            (DECL 799
              (LIST
                (NAME "x" ""))
              (REF 799 (NAME "ShapeExpr" "") ()))
            (DECL 799
              (LIST
                (NAME "c" ""))
              (REF 799 (NAME "Cardinality" "") ())))
          ())
        (EQUAL 800
          (APPLY 800
            (REF 800 (NAME "properties" "") ())
            (APPLY 800
              (REF 800 (NAME "repetition" "") ())
              (TUPLE 800
                (LIST
                  (REF 800 (NAME "x" "") ())
                  (REF 800 (NAME "c" "") ())))))
          (APPLY 800
            (REF 800 (NAME "properties" "") ())
            (REF 800 (NAME "x" "") ())))))))

(AXDEF 862
  (BODY 863
    (LIST
      (DECL 863
        (LIST
          (NAME "invpropertiesInverseTripleConstraint" ""))
        (INGEN 864
          (NAME "\fun" "")
          (REF 864 (NAME "InverseTripleConstraint" "") ())
          (REF 864 (NAME "PropertiesSet" "") ()))))
    (LIST
      (FORALL 866
        (BODY 866
          (LIST
            (DECL 866
              (LIST
                (NAME "a" ""))
              (REF 866 (NAME "IRI" "") ()))
            (DECL 866
              (LIST
                (NAME "C" ""))
              (REF 866 (NAME "ShapeConstr" "") ())))
          ())
        (EQUAL 867
          (APPLY 867
            (REF 867 (NAME "invpropertiesInverseTripleConstraint" "") ())
            (TUPLE 867
              (LIST
                (APPLY 867
                  (REF 867 (NAME "inv" "") ())
                  (REF 867 (NAME "a" "") ()))
                (REF 867 (NAME "C" "") ()))))
          (EXT 867
            (LIST
              (REF 867 (NAME "a" "") ()))))))))

(AXDEF 828
  (BODY 829
    (LIST
      (DECL 829
        (LIST
          (NAME "invproperties" ""))
        (INGEN 829
          (NAME "\fun" "")
          (REF 829 (NAME "ShapeExpr" "") ())
          (REF 829 (NAME "PropertiesSet" "") ()))))
    (LIST
      (EQUAL 831
        (APPLY 831
          (REF 831 (NAME "invproperties" "") ())
          (REF 831 (NAME "emptyshape" "") ()))
        (REF 831 (NAME "\emptyset" "") ()))
      (FORALL 833
        (BODY 833
          (LIST
            (DECL 833
              (LIST
                (NAME "tc" ""))
              (REF 833 (NAME "TripleConstraint" "") ()))
            (DECL 833
              (LIST
                (NAME "c" ""))
              (REF 833 (NAME "Cardinality" "") ())))
          ())
        (EQUAL 834
          (APPLY 834
            (REF 834 (NAME "invproperties" "") ())
            (APPLY 834
              (REF 834 (NAME "triple" "") ())
              (TUPLE 834
                (LIST
                  (REF 834 (NAME "tc" "") ())
                  (REF 834 (NAME "c" "") ())))))
          (REF 835 (NAME "\emptyset" "") ())))
      (FORALL 837
        (BODY 837
          (LIST
            (DECL 837
              (LIST
                (NAME "itc" ""))
              (REF 837 (NAME "InverseTripleConstraint" "") ()))
            (DECL 837
              (LIST
                (NAME "c" ""))
              (REF 837 (NAME "Cardinality" "") ())))
          ())
        (EQUAL 838
          (APPLY 838
            (REF 838 (NAME "invproperties" "") ())
            (APPLY 838
              (REF 838 (NAME "triple" "") ())
              (TUPLE 838
                (LIST
                  (REF 838 (NAME "itc" "") ())
                  (REF 838 (NAME "c" "") ())))))
          (APPLY 839
            (REF 839 (NAME "invpropertiesInverseTripleConstraint" "") ())
            (REF 839 (NAME "itc" "") ()))))
      (FORALL 841
        (BODY 841
          (LIST
            (DECL 841
              (LIST
                (NAME "xs" ""))
              (PREGEN 841
                (NAME "\seq" "_1")
                (REF 841 (NAME "ShapeExpr" "") ()))))
          ())
        (AND 1
          (AND 1
            (EQUAL 842
              (APPLY 842
                (REF 842 (NAME "invproperties" "") ())
                (APPLY 842
                  (REF 842 (NAME "someOf" "") ())
                  (REF 842 (NAME "xs" "") ())))
              (APPLY 843
                (REF 843 (NAME "invproperties" "") ())
                (APPLY 843
                  (REF 843 (NAME "oneOf" "") ())
                  (REF 843 (NAME "xs" "") ()))))
            (EQUAL 843
              (APPLY 843
                (REF 843 (NAME "invproperties" "") ())
                (APPLY 843
                  (REF 843 (NAME "oneOf" "") ())
                  (REF 843 (NAME "xs" "") ())))
              (APPLY 844
                (REF 844 (NAME "invproperties" "") ())
                (APPLY 844
                  (REF 844 (NAME "group" "") ())
                  (REF 844 (NAME "xs" "") ())))))
          (EQUAL 844
            (APPLY 844
              (REF 844 (NAME "invproperties" "") ())
              (APPLY 844
                (REF 844 (NAME "group" "") ())
                (REF 844 (NAME "xs" "") ())))
            (APPLY 845
              (REF 845 (NAME "\bigcup" "") ())
              (COMP 845
                (BODY 845
                  (LIST
                    (DECL 845
                      (LIST
                        (NAME "x" ""))
                      (APPLY 845
                        (REF 845 (NAME "\ran" "") ())
                        (REF 845 (NAME "xs" "") ()))))
                  ())
                (JUST 845
                  (APPLY 845
                    (REF 845 (NAME "invproperties" "") ())
                    (REF 845 (NAME "x" "") ()))))))))
      (FORALL 847
        (BODY 847
          (LIST
            (DECL 847
              (LIST
                (NAME "x" ""))
              (REF 847 (NAME "ShapeExpr" "") ()))
            (DECL 847
              (LIST
                (NAME "c" ""))
              (REF 847 (NAME "Cardinality" "") ())))
          ())
        (EQUAL 848
          (APPLY 848
            (REF 848 (NAME "invproperties" "") ())
            (APPLY 848
              (REF 848 (NAME "repetition" "") ())
              (TUPLE 848
                (LIST
                  (REF 848 (NAME "x" "") ())
                  (REF 848 (NAME "c" "") ())))))
          (APPLY 848
            (REF 848 (NAME "invproperties" "") ())
            (REF 848 (NAME "x" "") ())))))))

(SDEF 877
  (SHEAD 877
    "DiGraph"
    (LIST
      (NAME "X" "")))
  (BODY 878
    (LIST
      (DECL 878
        (LIST
          (NAME "nodes" ""))
        (POWER 878
          (REF 878 (NAME "X" "") ())))
      (DECL 879
        (LIST
          (NAME "edges" ""))
        (INGEN 879
          (NAME "\rel" "")
          (REF 879 (NAME "X" "") ())
          (REF 879 (NAME "X" "") ()))))
    (LIST
      (MEMBER 881
        (REF 881 (NAME "edges" "") ())
        (INGEN 881
          (NAME "\rel" "")
          (REF 881 (NAME "nodes" "") ())
          (REF 881 (NAME "nodes" "") ()))))))

(SDEF 890
  (SHEAD 890
    "DepGraph"
    ())
  (BODY 891
    (LIST
      (DECL 891
        (LIST
          (NAME "S" ""))
        (REF 891 (NAME "SchemaWF" "") ()))
      (SDECL 892
        (SREF 892 "DiGraph" ""
          (LIST
            (REF 892 (NAME "ShapeLabel" "") ())) ())))
    (LIST
      (EQUAL 894
        (REF 894 (NAME "nodes" "") ())
        (APPLY 894
          (REF 894 (NAME "shapes" "") ())
          (REF 894 (NAME "S" "") ())))
      (EQUAL 896
        (REF 896 (NAME "edges" "") ())
        (COMP 896
          (BODY 896
            (LIST
              (DECL 896
                (LIST
                  (NAME "T1" "")
                  (NAME "T2" ""))
                (REF 896 (NAME "nodes" "") ())))
            (LIST
              (MEMBER 896
                (REF 896 (NAME "T2" "") ())
                (APPLY 896
                  (REF 896 (NAME "refsShapeExpr" "") ())
                  (APPLY 896
                    (REF 896 (NAME "expr" "") ())
                    (TUPLE 896
                      (LIST
                        (REF 896 (NAME "T1" "") ())
                        (REF 896 (NAME "S" "") ()))))))))
          (NOTHING 0))))))

(AXDEF 901
  (BODY 902
    (LIST
      (DECL 902
        (LIST
          (NAME "dep\_graph" ""))
        (INGEN 902
          (NAME "\fun" "")
          (REF 902 (NAME "SchemaWF" "") ())
          (SEXPR 902
            (SREF 902 "DiGraph" ""
              (LIST
                (REF 902 (NAME "ShapeLabel" "") ())) ())))))
    (LIST
      (EQUAL 904
        (REF 904 (NAME "dep\_graph" "") ())
        (COMP 904
          (BODY 904
            (LIST
              (SDECL 904
                (SREF 904 "DepGraph" "" () ())))
            ())
          (JUST 904
            (INOP 904
              (NAME "\mapsto" "")
              (REF 904 (NAME "S" "") ())
              (THETA 904
                "DiGraph"
                ""
                ()))))))))

(DEFINE 912
  (LIST
    (NAME "X" ""))
  (BODY 913
    (LIST
      (DECL 913
        (LIST
          (NAME "reachable" ""))
        (INGEN 913
          (NAME "\fun" "")
          (CROSS 913
            (LIST
              (SEXPR 913
                (SREF 913 "DiGraph" ""
                  (LIST
                    (REF 913 (NAME "X" "") ())) ()))
              (REF 913 (NAME "X" "") ())))
          (POWER 913
            (REF 913 (NAME "X" "") ())))))
    (LIST
      (FORALL 915
        (BODY 915
          (LIST
            (DECL 915
              (LIST
                (NAME "g" ""))
              (SEXPR 915
                (SREF 915 "DiGraph" ""
                  (LIST
                    (REF 915 (NAME "X" "") ())) ())))
            (DECL 915
              (LIST
                (NAME "T" ""))
              (REF 915 (NAME "X" "") ())))
          ())
        (LETPRED 916
          (LIST
            (LETDEF 916
              (NAME "edges" "")
              (SELECT 916
                (REF 916 (NAME "g" "") ())
                (NAME "edges" ""))))
          (EQUAL 917
            (APPLY 917
              (REF 917 (NAME "reachable" "") ())
              (TUPLE 917
                (LIST
                  (REF 917 (NAME "g" "") ())
                  (REF 917 (NAME "T" "") ()))))
            (COMP 917
              (BODY 917
                (LIST
                  (DECL 917
                    (LIST
                      (NAME "U" ""))
                    (REF 917 (NAME "X" "") ())))
                (LIST
                  (MEMBER 917
                    (INOP 917
                      (NAME "\mapsto" "")
                      (REF 917 (NAME "T" "") ())
                      (REF 917 (NAME "U" "") ()))
                    (POSTOP 917
                      (NAME "\plus" "")
                      (REF 917 (NAME "edges" "") ())))))
              (NOTHING 0))))))))

(SDEF 923
  (SHEAD 923
    "DepSubgraph"
    ())
  (BODY 924
    (LIST
      (DECL 924
        (LIST
          (NAME "S" ""))
        (REF 924 (NAME "SchemaWF" "") ()))
      (DECL 925
        (LIST
          (NAME "T" ""))
        (REF 925 (NAME "ShapeLabel" "") ()))
      (SDECL 926
        (SREF 926 "DiGraph" ""
          (LIST
            (REF 926 (NAME "ShapeLabel" "") ())) ())))
    (LIST
      (MEMBER 928
        (REF 928 (NAME "T" "") ())
        (APPLY 928
          (REF 928 (NAME "shapes" "") ())
          (REF 928 (NAME "S" "") ())))
      (LETPRED 930
        (LIST
          (LETDEF 930
            (NAME "g" "")
            (APPLY 930
              (REF 930 (NAME "dep\_graph" "") ())
              (REF 930 (NAME "S" "") ()))))
        (AND 931
          (EQUAL 931
            (REF 931 (NAME "nodes" "") ())
            (APPLY 931
              (REF 931 (NAME "reachable" "") ())
              (TUPLE 931
                (LIST
                  (REF 931 (NAME "g" "") ())
                  (REF 931 (NAME "T" "") ())))))
          (EQUAL 932
            (REF 932 (NAME "edges" "") ())
            (INOP 932
              (NAME "\cap" "")
              (SELECT 932
                (REF 932 (NAME "g" "") ())
                (NAME "edges" ""))
              (CROSS 932
                (LIST
                  (REF 932 (NAME "nodes" "") ())
                  (REF 932 (NAME "nodes" "") ()))))))))))

(AXDEF 945
  (BODY 946
    (LIST
      (DECL 946
        (LIST
          (NAME "dep\_subgraph" ""))
        (INGEN 946
          (NAME "\pfun" "")
          (CROSS 946
            (LIST
              (REF 946 (NAME "ShapeLabel" "") ())
              (REF 946 (NAME "SchemaWF" "") ())))
          (SEXPR 946
            (SREF 946 "DiGraph" ""
              (LIST
                (REF 946 (NAME "ShapeLabel" "") ())) ())))))
    (LIST
      (EQUAL 948
        (REF 948 (NAME "dep\_subgraph" "") ())
        (COMP 948
          (BODY 948
            (LIST
              (SDECL 948
                (SREF 948 "DepSubgraph" "" () ())))
            ())
          (JUST 948
            (INOP 948
              (NAME "\mapsto" "")
              (TUPLE 948
                (LIST
                  (REF 948 (NAME "T" "") ())
                  (REF 948 (NAME "S" "") ())))
              (THETA 948
                "DiGraph"
                ""
                ()))))))))

(AXDEF 1010
  (BODY 1011
    (LIST
      (DECL 1011
        (LIST
          (NAME "inNegShapeConstr" ""))
        (INGEN 1011
          (NAME "\fun" "")
          (REF 1011 (NAME "ShapeConstr" "") ())
          (PREGEN 1011
            (NAME "\finset" "")
            (REF 1011 (NAME "ShapeLabel" "") ())))))
    (LIST
      (FORALL 1013
        (BODY 1013
          (LIST
            (DECL 1013
              (LIST
                (NAME "Ts" ""))
              (PREGEN 1013
                (NAME "\seq" "_1")
                (REF 1013 (NAME "ShapeLabel" "") ()))))
          ())
        (AND 1
          (EQUAL 1014
            (APPLY 1014
              (REF 1014 (NAME "inNegShapeConstr" "") ())
              (APPLY 1014
                (REF 1014 (NAME "or" "") ())
                (REF 1014 (NAME "Ts" "") ())))
            (APPLY 1015
              (REF 1015 (NAME "inNegShapeConstr" "") ())
              (APPLY 1015
                (REF 1015 (NAME "and" "") ())
                (REF 1015 (NAME "Ts" "") ()))))
          (EQUAL 1015
            (APPLY 1015
              (REF 1015 (NAME "inNegShapeConstr" "") ())
              (APPLY 1015
                (REF 1015 (NAME "and" "") ())
                (REF 1015 (NAME "Ts" "") ())))
            (REF 1016 (NAME "\emptyset" "") ()))))
      (FORALL 1018
        (BODY 1018
          (LIST
            (DECL 1018
              (LIST
                (NAME "Ts" ""))
              (PREGEN 1018
                (NAME "\seq" "_1")
                (REF 1018 (NAME "ShapeLabel" "") ()))))
          ())
        (AND 1
          (EQUAL 1019
            (APPLY 1019
              (REF 1019 (NAME "inNegShapeConstr" "") ())
              (APPLY 1019
                (REF 1019 (NAME "nor" "") ())
                (REF 1019 (NAME "Ts" "") ())))
            (APPLY 1020
              (REF 1020 (NAME "inNegShapeConstr" "") ())
              (APPLY 1020
                (REF 1020 (NAME "nand" "") ())
                (REF 1020 (NAME "Ts" "") ()))))
          (EQUAL 1020
            (APPLY 1020
              (REF 1020 (NAME "inNegShapeConstr" "") ())
              (APPLY 1020
                (REF 1020 (NAME "nand" "") ())
                (REF 1020 (NAME "Ts" "") ())))
            (APPLY 1021
              (REF 1021 (NAME "\ran" "") ())
              (REF 1021 (NAME "Ts" "") ()))))))))

(AXDEF 989
  (BODY 990
    (LIST
      (DECL 990
        (LIST
          (NAME "inNegTripleConstraint" ""))
        (INGEN 990
          (NAME "\fun" "")
          (REF 990 (NAME "TripleConstraint" "") ())
          (PREGEN 990
            (NAME "\finset" "")
            (REF 990 (NAME "ShapeLabel" "") ())))))
    (LIST
      (FORALL 992
        (BODY 992
          (LIST
            (DECL 992
              (LIST
                (NAME "a" ""))
              (REF 992 (NAME "IRI" "") ()))
            (DECL 992
              (LIST
                (NAME "C" ""))
              (REF 992 (NAME "ValueConstr" "") ())))
          ())
        (EQUAL 993
          (APPLY 993
            (REF 993 (NAME "inNegTripleConstraint" "") ())
            (TUPLE 993
              (LIST
                (APPLY 993
                  (REF 993 (NAME "nop" "") ())
                  (REF 993 (NAME "a" "") ()))
                (REF 993 (NAME "C" "") ()))))
          (REF 993 (NAME "\emptyset" "") ())))
      (FORALL 995
        (BODY 995
          (LIST
            (DECL 995
              (LIST
                (NAME "a" ""))
              (REF 995 (NAME "IRI" "") ()))
            (DECL 995
              (LIST
                (NAME "C" ""))
              (REF 995 (NAME "ShapeConstr" "") ())))
          ())
        (EQUAL 996
          (APPLY 996
            (REF 996 (NAME "inNegTripleConstraint" "") ())
            (TUPLE 996
              (LIST
                (APPLY 996
                  (REF 996 (NAME "nop" "") ())
                  (REF 996 (NAME "a" "") ()))
                (REF 996 (NAME "C" "") ()))))
          (APPLY 996
            (REF 996 (NAME "inNegShapeConstr" "") ())
            (REF 996 (NAME "C" "") ())))))))

(AXDEF 1000
  (BODY 1001
    (LIST
      (DECL 1001
        (LIST
          (NAME "inNegInverseTripleConstraint" ""))
        (INGEN 1002
          (NAME "\fun" "")
          (REF 1002 (NAME "InverseTripleConstraint" "") ())
          (PREGEN 1002
            (NAME "\finset" "")
            (REF 1002 (NAME "ShapeLabel" "") ())))))
    (LIST
      (FORALL 1004
        (BODY 1004
          (LIST
            (DECL 1004
              (LIST
                (NAME "a" ""))
              (REF 1004 (NAME "IRI" "") ()))
            (DECL 1004
              (LIST
                (NAME "C" ""))
              (REF 1004 (NAME "ShapeConstr" "") ())))
          ())
        (EQUAL 1005
          (APPLY 1005
            (REF 1005 (NAME "inNegInverseTripleConstraint" "") ())
            (TUPLE 1005
              (LIST
                (APPLY 1005
                  (REF 1005 (NAME "inv" "") ())
                  (REF 1005 (NAME "a" "") ()))
                (REF 1005 (NAME "C" "") ()))))
          (APPLY 1005
            (REF 1005 (NAME "inNegShapeConstr" "") ())
            (REF 1005 (NAME "C" "") ())))))))

(AXDEF 965
  (BODY 966
    (LIST
      (DECL 966
        (LIST
          (NAME "inNegExpr" ""))
        (INGEN 966
          (NAME "\fun" "")
          (REF 966 (NAME "ShapeExpr" "") ())
          (PREGEN 966
            (NAME "\finset" "")
            (REF 966 (NAME "ShapeLabel" "") ())))))
    (LIST
      (EQUAL 968
        (APPLY 968
          (REF 968 (NAME "inNegExpr" "") ())
          (REF 968 (NAME "emptyshape" "") ()))
        (REF 968 (NAME "\emptyset" "") ()))
      (FORALL 970
        (BODY 970
          (LIST
            (DECL 970
              (LIST
                (NAME "tc" ""))
              (REF 970 (NAME "TripleConstraint" "") ()))
            (DECL 970
              (LIST
                (NAME "c" ""))
              (REF 970 (NAME "Cardinality" "") ())))
          ())
        (EQUAL 971
          (APPLY 971
            (REF 971 (NAME "inNegExpr" "") ())
            (APPLY 971
              (REF 971 (NAME "triple" "") ())
              (TUPLE 971
                (LIST
                  (REF 971 (NAME "tc" "") ())
                  (REF 971 (NAME "c" "") ())))))
          (APPLY 972
            (REF 972 (NAME "inNegTripleConstraint" "") ())
            (REF 972 (NAME "tc" "") ()))))
      (FORALL 974
        (BODY 974
          (LIST
            (DECL 974
              (LIST
                (NAME "itc" ""))
              (REF 974 (NAME "InverseTripleConstraint" "") ()))
            (DECL 974
              (LIST
                (NAME "c" ""))
              (REF 974 (NAME "Cardinality" "") ())))
          ())
        (EQUAL 975
          (APPLY 975
            (REF 975 (NAME "inNegExpr" "") ())
            (APPLY 975
              (REF 975 (NAME "triple" "") ())
              (TUPLE 975
                (LIST
                  (REF 975 (NAME "itc" "") ())
                  (REF 975 (NAME "c" "") ())))))
          (APPLY 976
            (REF 976 (NAME "inNegInverseTripleConstraint" "") ())
            (REF 976 (NAME "itc" "") ()))))
      (FORALL 978
        (BODY 978
          (LIST
            (DECL 978
              (LIST
                (NAME "xs" ""))
              (PREGEN 978
                (NAME "\seq" "_1")
                (REF 978 (NAME "ShapeExpr" "") ()))))
          ())
        (AND 1
          (AND 1
            (EQUAL 979
              (APPLY 979
                (REF 979 (NAME "inNegExpr" "") ())
                (APPLY 979
                  (REF 979 (NAME "someOf" "") ())
                  (REF 979 (NAME "xs" "") ())))
              (APPLY 980
                (REF 980 (NAME "inNegExpr" "") ())
                (APPLY 980
                  (REF 980 (NAME "oneOf" "") ())
                  (REF 980 (NAME "xs" "") ()))))
            (EQUAL 980
              (APPLY 980
                (REF 980 (NAME "inNegExpr" "") ())
                (APPLY 980
                  (REF 980 (NAME "oneOf" "") ())
                  (REF 980 (NAME "xs" "") ())))
              (APPLY 981
                (REF 981 (NAME "inNegExpr" "") ())
                (APPLY 981
                  (REF 981 (NAME "group" "") ())
                  (REF 981 (NAME "xs" "") ())))))
          (EQUAL 981
            (APPLY 981
              (REF 981 (NAME "inNegExpr" "") ())
              (APPLY 981
                (REF 981 (NAME "group" "") ())
                (REF 981 (NAME "xs" "") ())))
            (APPLY 982
              (REF 982 (NAME "\bigcup" "") ())
              (COMP 982
                (BODY 982
                  (LIST
                    (DECL 982
                      (LIST
                        (NAME "x" ""))
                      (APPLY 982
                        (REF 982 (NAME "\ran" "") ())
                        (REF 982 (NAME "xs" "") ()))))
                  ())
                (JUST 982
                  (APPLY 982
                    (REF 982 (NAME "inNegExpr" "") ())
                    (REF 982 (NAME "x" "") ()))))))))
      (FORALL 984
        (BODY 984
          (LIST
            (DECL 984
              (LIST
                (NAME "x" ""))
              (REF 984 (NAME "ShapeExpr" "") ()))
            (DECL 984
              (LIST
                (NAME "c" ""))
              (REF 984 (NAME "Cardinality" "") ())))
          ())
        (EQUAL 985
          (APPLY 985
            (REF 985 (NAME "inNegExpr" "") ())
            (APPLY 985
              (REF 985 (NAME "repetition" "") ())
              (TUPLE 985
                (LIST
                  (REF 985 (NAME "x" "") ())
                  (REF 985 (NAME "c" "") ())))))
          (APPLY 985
            (REF 985 (NAME "inNegExpr" "") ())
            (REF 985 (NAME "x" "") ())))))))

(AXDEF 957
  (BODY 958
    (LIST
      (DECL 958
        (LIST
          (NAME "inNeg" ""))
        (INGEN 958
          (NAME "\fun" "")
          (REF 958 (NAME "SchemaWF" "") ())
          (PREGEN 958
            (NAME "\finset" "")
            (REF 958 (NAME "ShapeLabel" "") ())))))
    (LIST
      (FORALL 960
        (BODY 960
          (LIST
            (DECL 960
              (LIST
                (NAME "S" ""))
              (REF 960 (NAME "SchemaWF" "") ())))
          ())
        (EQUAL 961
          (APPLY 961
            (REF 961 (NAME "inNeg" "") ())
            (REF 961 (NAME "S" "") ()))
          (APPLY 961
            (REF 961 (NAME "\bigcup" "") ())
            (COMP 961
              (BODY 961
                (LIST
                  (DECL 961
                    (LIST
                      (NAME "T" ""))
                    (APPLY 961
                      (REF 961 (NAME "shapes" "") ())
                      (REF 961 (NAME "S" "") ()))))
                ())
              (JUST 961
                (APPLY 961
                  (REF 961 (NAME "inNegExpr" "") ())
                  (APPLY 961
                    (REF 961 (NAME "expr" "") ())
                    (TUPLE 961
                      (LIST
                        (REF 961 (NAME "T" "") ())
                        (REF 961 (NAME "S" "") ())))))))))))))

(AXDEF 1036
  (BODY 1037
    (LIST
      (DECL 1037
        (LIST
          (NAME "underOneOfExpr" ""))
        (INGEN 1037
          (NAME "\fun" "")
          (REF 1037 (NAME "ShapeExpr" "") ())
          (PREGEN 1037
            (NAME "\finset" "")
            (REF 1037 (NAME "ShapeLabel" "") ())))))
    (LIST
      (FORALL 1039
        (BODY 1039
          (LIST
            (DECL 1039
              (LIST
                (NAME "x" ""))
              (REF 1039 (NAME "ShapeExpr" "") ())))
          ())
        (EQUAL 1040
          (APPLY 1040
            (REF 1040 (NAME "underOneOfExpr" "") ())
            (REF 1040 (NAME "x" "") ()))
          (IF 1041
            (MEMBER 1041
              (REF 1041 (NAME "x" "") ())
              (APPLY 1041
                (REF 1041 (NAME "\ran" "") ())
                (REF 1041 (NAME "someOf" "") ())))
            (APPLY 1042
              (REF 1042 (NAME "refsShapeExpr" "") ())
              (REF 1042 (NAME "x" "") ()))
            (REF 1043 (NAME "\emptyset" "") ())))))))

(AXDEF 1027
  (BODY 1028
    (LIST
      (DECL 1028
        (LIST
          (NAME "underOneOf" ""))
        (INGEN 1028
          (NAME "\fun" "")
          (REF 1028 (NAME "SchemaWF" "") ())
          (PREGEN 1028
            (NAME "\finset" "")
            (REF 1028 (NAME "ShapeLabel" "") ())))))
    (LIST
      (FORALL 1030
        (BODY 1030
          (LIST
            (DECL 1030
              (LIST
                (NAME "S" ""))
              (REF 1030 (NAME "SchemaWF" "") ())))
          ())
        (EQUAL 1031
          (APPLY 1031
            (REF 1031 (NAME "underOneOf" "") ())
            (REF 1031 (NAME "S" "") ()))
          (APPLY 1032
            (REF 1032 (NAME "\bigcup" "") ())
            (COMP 1032
              (BODY 1032
                (LIST
                  (DECL 1032
                    (LIST
                      (NAME "T" ""))
                    (APPLY 1032
                      (REF 1032 (NAME "shapes" "") ())
                      (REF 1032 (NAME "S" "") ()))))
                ())
              (JUST 1032
                (APPLY 1032
                  (REF 1032 (NAME "underOneOfExpr" "") ())
                  (APPLY 1032
                    (REF 1032 (NAME "expr" "") ())
                    (TUPLE 1032
                      (LIST
                        (REF 1032 (NAME "T" "") ())
                        (REF 1032 (NAME "S" "") ())))))))))))))

(AXDEF 1064
  (BODY 1065
    (LIST
      (DECL 1065
        (LIST
          (NAME "inTripleConstrExpr" ""))
        (INGEN 1065
          (NAME "\fun" "")
          (REF 1065 (NAME "ShapeExpr" "") ())
          (PREGEN 1065
            (NAME "\finset" "")
            (REF 1065 (NAME "ShapeLabel" "") ())))))
    (LIST
      (EQUAL 1067
        (APPLY 1067
          (REF 1067 (NAME "inTripleConstrExpr" "") ())
          (REF 1067 (NAME "emptyshape" "") ()))
        (REF 1067 (NAME "\emptyset" "") ()))
      (FORALL 1069
        (BODY 1069
          (LIST
            (DECL 1069
              (LIST
                (NAME "dtc" ""))
              (REF 1069 (NAME "DirectedTripleConstraint" "") ()))
            (DECL 1069
              (LIST
                (NAME "c" ""))
              (REF 1069 (NAME "Cardinality" "") ())))
          ())
        (EQUAL 1070
          (APPLY 1070
            (REF 1070 (NAME "inTripleConstrExpr" "") ())
            (APPLY 1070
              (REF 1070 (NAME "triple" "") ())
              (TUPLE 1070
                (LIST
                  (REF 1070 (NAME "dtc" "") ())
                  (REF 1070 (NAME "c" "") ())))))
          (IF 1071
            (EQUAL 1071
              (REF 1071 (NAME "c" "") ())
              (REF 1071 (NAME "one" "") ()))
            (APPLY 1072
              (REF 1072 (NAME "refsDirectedTripleConstraint" "") ())
              (REF 1072 (NAME "dtc" "") ()))
            (REF 1073 (NAME "\emptyset" "") ()))))
      (FORALL 1075
        (BODY 1075
          (LIST
            (DECL 1075
              (LIST
                (NAME "xs" ""))
              (PREGEN 1075
                (NAME "\seq" "_1")
                (REF 1075 (NAME "ShapeExpr" "") ()))))
          ())
        (AND 1
          (AND 1
            (EQUAL 1076
              (APPLY 1076
                (REF 1076 (NAME "inTripleConstrExpr" "") ())
                (APPLY 1076
                  (REF 1076 (NAME "someOf" "") ())
                  (REF 1076 (NAME "xs" "") ())))
              (APPLY 1077
                (REF 1077 (NAME "inTripleConstrExpr" "") ())
                (APPLY 1077
                  (REF 1077 (NAME "oneOf" "") ())
                  (REF 1077 (NAME "xs" "") ()))))
            (EQUAL 1077
              (APPLY 1077
                (REF 1077 (NAME "inTripleConstrExpr" "") ())
                (APPLY 1077
                  (REF 1077 (NAME "oneOf" "") ())
                  (REF 1077 (NAME "xs" "") ())))
              (APPLY 1078
                (REF 1078 (NAME "inTripleConstrExpr" "") ())
                (APPLY 1078
                  (REF 1078 (NAME "group" "") ())
                  (REF 1078 (NAME "xs" "") ())))))
          (EQUAL 1078
            (APPLY 1078
              (REF 1078 (NAME "inTripleConstrExpr" "") ())
              (APPLY 1078
                (REF 1078 (NAME "group" "") ())
                (REF 1078 (NAME "xs" "") ())))
            (APPLY 1079
              (REF 1079 (NAME "\bigcup" "") ())
              (COMP 1079
                (BODY 1079
                  (LIST
                    (DECL 1079
                      (LIST
                        (NAME "x" ""))
                      (APPLY 1079
                        (REF 1079 (NAME "\ran" "") ())
                        (REF 1079 (NAME "xs" "") ()))))
                  ())
                (JUST 1079
                  (APPLY 1079
                    (REF 1079 (NAME "inTripleConstrExpr" "") ())
                    (REF 1079 (NAME "x" "") ()))))))))
      (FORALL 1081
        (BODY 1081
          (LIST
            (DECL 1081
              (LIST
                (NAME "x" ""))
              (REF 1081 (NAME "ShapeExpr" "") ()))
            (DECL 1081
              (LIST
                (NAME "c" ""))
              (REF 1081 (NAME "Cardinality" "") ())))
          ())
        (EQUAL 1082
          (APPLY 1082
            (REF 1082 (NAME "inTripleConstrExpr" "") ())
            (APPLY 1082
              (REF 1082 (NAME "repetition" "") ())
              (TUPLE 1082
                (LIST
                  (REF 1082 (NAME "x" "") ())
                  (REF 1082 (NAME "c" "") ())))))
          (APPLY 1082
            (REF 1082 (NAME "inTripleConstrExpr" "") ())
            (REF 1082 (NAME "x" "") ())))))))

(AXDEF 1054
  (BODY 1055
    (LIST
      (DECL 1055
        (LIST
          (NAME "inTripleConstr" ""))
        (INGEN 1055
          (NAME "\fun" "")
          (REF 1055 (NAME "SchemaWF" "") ())
          (PREGEN 1055
            (NAME "\finset" "")
            (REF 1055 (NAME "ShapeLabel" "") ())))))
    (LIST
      (FORALL 1057
        (BODY 1057
          (LIST
            (DECL 1057
              (LIST
                (NAME "S" ""))
              (REF 1057 (NAME "SchemaWF" "") ())))
          ())
        (EQUAL 1058
          (APPLY 1058
            (REF 1058 (NAME "inTripleConstr" "") ())
            (REF 1058 (NAME "S" "") ()))
          (APPLY 1059
            (REF 1059 (NAME "\bigcup" "") ())
            (COMP 1059
              (BODY 1059
                (LIST
                  (DECL 1059
                    (LIST
                      (NAME "T1" ""))
                    (APPLY 1059
                      (REF 1059 (NAME "shapes" "") ())
                      (REF 1059 (NAME "S" "") ()))))
                ())
              (JUST 1059
                (APPLY 1059
                  (REF 1059 (NAME "inTripleConstrExpr" "") ())
                  (APPLY 1059
                    (REF 1059 (NAME "expr" "") ())
                    (TUPLE 1059
                      (LIST
                        (REF 1059 (NAME "T1" "") ())
                        (REF 1059 (NAME "S" "") ())))))))))))))

(AXDEF 1092
  (BODY 1093
    (LIST
      (DECL 1093
        (LIST
          (NAME "negshapes" ""))
        (INGEN 1093
          (NAME "\fun" "")
          (REF 1093 (NAME "SchemaWF" "") ())
          (PREGEN 1093
            (NAME "\finset" "")
            (REF 1093 (NAME "ShapeLabel" "") ())))))
    (LIST
      (FORALL 1095
        (BODY 1095
          (LIST
            (DECL 1095
              (LIST
                (NAME "S" ""))
              (REF 1095 (NAME "SchemaWF" "") ())))
          ())
        (EQUAL 1096
          (APPLY 1096
            (REF 1096 (NAME "negshapes" "") ())
            (REF 1096 (NAME "S" "") ()))
          (INOP 1096
            (NAME "\cup" "")
            (INOP 1096
              (NAME "\cup" "")
              (APPLY 1096
                (REF 1096 (NAME "inNeg" "") ())
                (REF 1096 (NAME "S" "") ()))
              (APPLY 1096
                (REF 1096 (NAME "underOneOf" "") ())
                (REF 1096 (NAME "S" "") ())))
            (APPLY 1096
              (REF 1096 (NAME "inTripleConstr" "") ())
              (REF 1096 (NAME "S" "") ()))))))))

(DATA 1112
  (NAME "ShapeVerdict" "")
  (LIST
    (ARM 1113
      (NAME "assert" "")
      (JUST 1113
        (REF 1113 (NAME "ShapeLabel" "") ())))
    (ARM 1114
      (NAME "negate" "")
      (JUST 1114
        (REF 1114 (NAME "ShapeLabel" "") ())))))

(AXDEF 1121
  (BODY 1122
    (LIST
      (DECL 1122
        (LIST
          (NAME "allowed" ""))
        (INGEN 1122
          (NAME "\fun" "")
          (REF 1122 (NAME "ValueConstr" "") ())
          (POWER 1122
            (INOP 1122
              (NAME "\cup" "")
              (REF 1122 (NAME "Lit" "") ())
              (REF 1122 (NAME "IRI" "") ()))))))
    (LIST
      (FORALL 1124
        (BODY 1124
          (LIST
            (DECL 1124
              (LIST
                (NAME "vs" ""))
              (POWER 1124
                (INOP 1124
                  (NAME "\cup" "")
                  (REF 1124 (NAME "Lit" "") ())
                  (REF 1124 (NAME "IRI" "") ())))))
          ())
        (EQUAL 1125
          (APPLY 1125
            (REF 1125 (NAME "allowed" "") ())
            (APPLY 1125
              (REF 1125 (NAME "valueSet" "") ())
              (REF 1125 (NAME "vs" "") ())))
          (REF 1125 (NAME "vs" "") ())))
      (FORALL 1127
        (BODY 1127
          (LIST
            (DECL 1127
              (LIST
                (NAME "dt" ""))
              (REF 1127 (NAME "LiteralDatatype" "") ())))
          ())
        (EQUAL 1128
          (APPLY 1128
            (REF 1128 (NAME "allowed" "") ())
            (APPLY 1128
              (REF 1128 (NAME "datatype" "") ())
              (TUPLE 1128
                (LIST
                  (REF 1128 (NAME "dt" "") ())
                  (REF 1128 (NAME "\emptyset" "") ())))))
          (APPLY 1128
            (REF 1128 (NAME "literalsOfDatatype" "") ())
            (REF 1128 (NAME "dt" "") ()))))
      (FORALL 1130
        (BODY 1130
          (LIST
            (DECL 1130
              (LIST
                (NAME "dt" ""))
              (REF 1130 (NAME "LiteralDatatype" "") ()))
            (DECL 1130
              (LIST
                (NAME "f" ""))
              (REF 1130 (NAME "XSFacet" "") ())))
          ())
        (EQUAL 1131
          (APPLY 1131
            (REF 1131 (NAME "allowed" "") ())
            (APPLY 1131
              (REF 1131 (NAME "datatype" "") ())
              (TUPLE 1131
                (LIST
                  (REF 1131 (NAME "dt" "") ())
                  (EXT 1131
                    (LIST
                      (REF 1131 (NAME "f" "") ())))))))
          (APPLY 1131
            (REF 1131 (NAME "literalsOfFacet" "") ())
            (TUPLE 1131
              (LIST
                (REF 1131 (NAME "dt" "") ())
                (REF 1131 (NAME "f" "") ()))))))
      (FORALL 1133
        (BODY 1133
          (LIST
            (DECL 1133
              (LIST
                (NAME "k" ""))
              (REF 1133 (NAME "NodeKind" "") ())))
          ())
        (EQUAL 1134
          (APPLY 1134
            (REF 1134 (NAME "allowed" "") ())
            (APPLY 1134
              (REF 1134 (NAME "kind" "") ())
              (REF 1134 (NAME "k" "") ())))
          (APPLY 1134
            (REF 1134 (NAME "termsOfKind" "") ())
            (REF 1134 (NAME "k" "") ())))))))

(SDEF 1139
  (SHEAD 1139
    "DAG"
    (LIST
      (NAME "X" "")))
  (BODY 1140
    (LIST
      (SDECL 1140
        (SREF 1140 "DiGraph" ""
          (LIST
            (REF 1140 (NAME "X" "") ())) ())))
    (LIST
      (LETPRED 1142
        (LIST
          (LETDEF 1142
            (NAME "g" "")
            (THETA 1142
              "DiGraph"
              ""
              ())))
        (FORALL 1143
          (BODY 1143
            (LIST
              (DECL 1143
                (LIST
                  (NAME "T" ""))
                (REF 1143 (NAME "nodes" "") ())))
            ())
          (INREL 1143
            (NAME "\notin" "")
            (REF 1143 (NAME "T" "") ())
            (APPLY 1143
              (REF 1143 (NAME "reachable" "") ())
              (TUPLE 1143
                (LIST
                  (REF 1143 (NAME "g" "") ())
                  (REF 1143 (NAME "T" "") ()))))))))))

(EQEQ 1189
  (LHS 1189
    (NAME "SchemaWD" "")
    ())
  (COMP 1190
    (BODY 1190
      (LIST
        (DECL 1190
          (LIST
            (NAME "S" ""))
          (REF 1190 (NAME "SchemaWF" "") ())))
      (LIST
        (FORALL 1191
          (BODY 1191
            (LIST
              (DECL 1191
                (LIST
                  (NAME "T" ""))
                (APPLY 1191
                  (REF 1191 (NAME "negshapes" "") ())
                  (REF 1191 (NAME "S" "") ()))))
            ())
          (MEMBER 1192
            (APPLY 1192
              (REF 1192 (NAME "dep\_subgraph" "") ())
              (TUPLE 1192
                (LIST
                  (REF 1192 (NAME "T" "") ())
                  (REF 1192 (NAME "S" "") ()))))
            (SEXPR 1192
              (SREF 1192 "DAG" ""
                (LIST
                  (REF 1192 (NAME "ShapeLabel" "") ())) ()))))))
    (NOTHING 0)))

(SDEF 1155
  (SHEAD 1155
    "ReplaceShape"
    ())
  (BODY 1156
    (LIST
      (DECL 1156
        (LIST
          (NAME "S" "")
          (NAME "S" "'"))
        (REF 1156 (NAME "SchemaWD" "") ()))
      (DECL 1157
        (LIST
          (NAME "T" ""))
        (REF 1157 (NAME "ShapeLabel" "") ()))
      (DECL 1158
        (LIST
          (NAME "Expr" "'"))
        (REF 1158 (NAME "ShapeExpr" "") ()))
      (DECL 1159
        (LIST
          (NAME "l" ""))
        (REF 1159 (NAME "\nat" "_1") ()))
      (DECL 1160
        (LIST
          (NAME "d" "")
          (NAME "d" "'"))
        (REF 1160 (NAME "ShapeDefinition" "") ()))
      (DECL 1161
        (LIST
          (NAME "ecs" ""))
        (PREGEN 1161
          (NAME "\seq" "")
          (REF 1161 (NAME "ExtensionCondition" "") ()))))
    (LIST
      (MEMBER 1163
        (REF 1163 (NAME "l" "") ())
        (APPLY 1163
          (REF 1163 (NAME "\dom" "") ())
          (REF 1163 (NAME "S" "") ())))
      (EQUAL 1165
        (APPLY 1165
          (REF 1165 (NAME "S" "") ())
          (REF 1165 (NAME "l" "") ()))
        (TUPLE 1165
          (LIST
            (REF 1165 (NAME "T" "") ())
            (REF 1165 (NAME "d" "") ())
            (REF 1165 (NAME "ecs" "") ()))))
      (FORALL 1167
        (BODY 1167
          (LIST
            (DECL 1167
              (LIST
                (NAME "o" ""))
              (REF 1167 (NAME "OPTIONAL" "")
                (LIST
                  (REF 1167 (NAME "InclPropSet" "") ()))))
            (DECL 1167
              (LIST
                (NAME "Expr" ""))
              (REF 1167 (NAME "ShapeExpr" "") ())))
          (LIST
            (EQUAL 1168
              (REF 1168 (NAME "d" "") ())
              (APPLY 1168
                (REF 1168 (NAME "open" "") ())
                (TUPLE 1168
                  (LIST
                    (REF 1168 (NAME "o" "") ())
                    (REF 1168 (NAME "Expr" "") ())))))))
        (EQUAL 1169
          (REF 1169 (NAME "d" "'") ())
          (APPLY 1169
            (REF 1169 (NAME "open" "") ())
            (TUPLE 1169
              (LIST
                (REF 1169 (NAME "o" "") ())
                (REF 1169 (NAME "Expr" "'") ()))))))
      (FORALL 1171
        (BODY 1171
          (LIST
            (DECL 1171
              (LIST
                (NAME "Expr" ""))
              (REF 1171 (NAME "ShapeExpr" "") ())))
          (LIST
            (EQUAL 1172
              (REF 1172 (NAME "d" "") ())
              (APPLY 1172
                (REF 1172 (NAME "close" "") ())
                (REF 1172 (NAME "Expr" "") ())))))
        (EQUAL 1173
          (REF 1173 (NAME "d" "'") ())
          (APPLY 1173
            (REF 1173 (NAME "close" "") ())
            (REF 1173 (NAME "Expr" "'") ()))))
      (EQUAL 1175
        (REF 1175 (NAME "S" "'") ())
        (INOP 1175
          (NAME "\oplus" "")
          (REF 1175 (NAME "S" "") ())
          (EXT 1175
            (LIST
              (INOP 1175
                (NAME "\mapsto" "")
                (REF 1175 (NAME "l" "") ())
                (TUPLE 1175
                  (LIST
                    (REF 1175 (NAME "T" "") ())
                    (REF 1175 (NAME "d" "'") ())
                    (REF 1175 (NAME "ecs" "") ())))))))))))

(AXDEF 1178
  (BODY 1179
    (LIST
      (DECL 1179
        (LIST
          (NAME "replaceShape" ""))
        (INGEN 1180
          (NAME "\pfun" "")
          (CROSS 1180
            (LIST
              (REF 1180 (NAME "SchemaWF" "") ())
              (REF 1180 (NAME "ShapeLabel" "") ())
              (REF 1180 (NAME "ShapeExpr" "") ())))
          (REF 1180 (NAME "SchemaWF" "") ()))))
    (LIST
      (EQUAL 1182
        (REF 1182 (NAME "replaceShape" "") ())
        (COMP 1182
          (BODY 1182
            (LIST
              (SDECL 1182
                (SREF 1182 "ReplaceShape" "" () ())))
            ())
          (JUST 1182
            (INOP 1182
              (NAME "\mapsto" "")
              (TUPLE 1182
                (LIST
                  (REF 1182 (NAME "S" "") ())
                  (REF 1182 (NAME "T" "") ())
                  (REF 1182 (NAME "Expr" "'") ())))
              (REF 1182 (NAME "S" "'") ()))))))))

(DATA 1205
  (NAME "LabelledTriple" "")
  (LIST
    (ARM 1206
      (NAME "out" "")
      (JUST 1206
        (REF 1206 (NAME "Triple" "") ())))
    (ARM 1207
      (NAME "inc" "")
      (JUST 1207
        (REF 1207 (NAME "Triple" "") ())))))

(EQEQ 1223
  (LHS 1223
    (NAME "matches\_out" "")
    ())
  (COMP 1224
    (BODY 1224
      (LIST
        (DECL 1224
          (LIST
            (NAME "s" "")
            (NAME "p" "")
            (NAME "o" ""))
          (REF 1224 (NAME "TERM" "") ()))
        (DECL 1224
          (LIST
            (NAME "C" ""))
          (REF 1224 (NAME "Constraint" "") ())))
      (LIST
        (MEMBER 1225
          (TUPLE 1225
            (LIST
              (REF 1225 (NAME "s" "") ())
              (REF 1225 (NAME "p" "") ())
              (REF 1225 (NAME "o" "") ())))
          (REF 1225 (NAME "Triple" "") ()))))
    (JUST 1226
      (INOP 1226
        (NAME "\mapsto" "")
        (APPLY 1226
          (REF 1226 (NAME "out" "") ())
          (TUPLE 1226
            (LIST
              (REF 1226 (NAME "s" "") ())
              (REF 1226 (NAME "p" "") ())
              (REF 1226 (NAME "o" "") ()))))
        (TUPLE 1226
          (LIST
            (APPLY 1226
              (REF 1226 (NAME "nop" "") ())
              (REF 1226 (NAME "p" "") ()))
            (REF 1226 (NAME "C" "") ())))))))

(EQEQ 1244
  (LHS 1244
    (NAME "matches\_inc" "")
    ())
  (COMP 1245
    (BODY 1245
      (LIST
        (DECL 1245
          (LIST
            (NAME "s" "")
            (NAME "p" "")
            (NAME "o" ""))
          (REF 1245 (NAME "TERM" "") ()))
        (DECL 1245
          (LIST
            (NAME "C" ""))
          (REF 1245 (NAME "ShapeConstr" "") ())))
      (LIST
        (MEMBER 1246
          (TUPLE 1246
            (LIST
              (REF 1246 (NAME "s" "") ())
              (REF 1246 (NAME "p" "") ())
              (REF 1246 (NAME "o" "") ())))
          (REF 1246 (NAME "Triple" "") ()))))
    (JUST 1247
      (INOP 1247
        (NAME "\mapsto" "")
        (APPLY 1247
          (REF 1247 (NAME "inc" "") ())
          (TUPLE 1247
            (LIST
              (REF 1247 (NAME "s" "") ())
              (REF 1247 (NAME "p" "") ())
              (REF 1247 (NAME "o" "") ()))))
        (TUPLE 1247
          (LIST
            (APPLY 1247
              (REF 1247 (NAME "inv" "") ())
              (REF 1247 (NAME "p" "") ()))
            (REF 1247 (NAME "C" "") ())))))))

(AXDEF 1214
  (BODY 1215
    (LIST
      (DECL 1215
        (LIST
          (NAME "matches" ""))
        (INGEN 1215
          (NAME "\rel" "")
          (REF 1215 (NAME "LabelledTriple" "") ())
          (REF 1215 (NAME "DirectedTripleConstraint" "") ()))))
    (LIST
      (EQUAL 1217
        (REF 1217 (NAME "matches" "") ())
        (INOP 1217
          (NAME "\cup" "")
          (REF 1217 (NAME "matches\_out" "") ())
          (REF 1217 (NAME "matches\_inc" "") ()))))))

(AXDEF 1256
  (BODY 1257
    (LIST
      (DECL 1257
        (LIST
          (NAME "satisfies" ""))
        (INGEN 1257
          (NAME "\rel" "")
          (PREGEN 1257
            (NAME "\finset" "")
            (REF 1257 (NAME "LabelledTriple" "") ()))
          (REF 1257 (NAME "ShapeExpr" "") ()))))
    ()))

(SDEF 1275
  (SHEAD 1275
    "InfRule"
    ())
  (BODY 1276
    (LIST
      (DECL 1276
        (LIST
          (NAME "Neigh" ""))
        (PREGEN 1276
          (NAME "\finset" "")
          (REF 1276 (NAME "LabelledTriple" "") ())))
      (DECL 1277
        (LIST
          (NAME "Expr" ""))
        (REF 1277 (NAME "ShapeExpr" "") ())))
    ()))

(SDEF 1282
  (SHEAD 1282
    "RuleEmpty"
    ())
  (BODY 1283
    (LIST
      (SDECL 1283
        (SREF 1283 "InfRule" "" () ())))
    (LIST
      (EQUAL 1285
        (REF 1285 (NAME "Expr" "") ())
        (REF 1285 (NAME "emptyshape" "") ()))
      (EQUAL 1287
        (REF 1287 (NAME "Neigh" "") ())
        (REF 1287 (NAME "\emptyset" "") ())))))

(AXDEF 1290
  (BODY 1291
    (LIST
      (DECL 1291
        (LIST
          (NAME "rule\_empty" ""))
        (INGEN 1291
          (NAME "\rel" "")
          (PREGEN 1291
            (NAME "\finset" "")
            (REF 1291 (NAME "LabelledTriple" "") ()))
          (REF 1291 (NAME "ShapeExpr" "") ()))))
    (LIST
      (EQUAL 1293
        (REF 1293 (NAME "rule\_empty" "") ())
        (COMP 1294
          (BODY 1294
            (LIST
              (SDECL 1294
                (SREF 1294 "RuleEmpty" "" () ())))
            ())
          (JUST 1294
            (INOP 1294
              (NAME "\mapsto" "")
              (REF 1294 (NAME "Neigh" "") ())
              (REF 1294 (NAME "Expr" "") ()))))))))

(SDEF 1300
  (SHEAD 1300
    "RuleTripleConstraint"
    ())
  (BODY 1301
    (LIST
      (SDECL 1301
        (SREF 1301 "InfRule" "" () ()))
      (DECL 1302
        (LIST
          (NAME "k" ""))
        (REF 1302 (NAME "\nat" "") ()))
      (DECL 1303
        (LIST
          (NAME "p" ""))
        (REF 1303 (NAME "IRI" "") ()))
      (DECL 1304
        (LIST
          (NAME "C" ""))
        (REF 1304 (NAME "Constraint" "") ()))
      (DECL 1305
        (LIST
          (NAME "c" ""))
        (REF 1305 (NAME "Cardinality" "") ())))
    (LIST
      (EQUAL 1307
        (REF 1307 (NAME "Expr" "") ())
        (APPLY 1307
          (REF 1307 (NAME "triple" "") ())
          (TUPLE 1307
            (LIST
              (TUPLE 1307
                (LIST
                  (APPLY 1307
                    (REF 1307 (NAME "nop" "") ())
                    (REF 1307 (NAME "p" "") ()))
                  (REF 1307 (NAME "C" "") ())))
              (REF 1307 (NAME "c" "") ())))))
      (EQUAL 1309
        (REF 1309 (NAME "k" "") ())
        (APPLY 1309
          (REF 1309 (NAME "\#" "") ())
          (REF 1309 (NAME "Neigh" "") ())))
      (INREL 1311
        (NAME "inBounds" "")
        (REF 1311 (NAME "k" "") ())
        (REF 1311 (NAME "c" "") ()))
      (FORALL 1313
        (BODY 1313
          (LIST
            (DECL 1313
              (LIST
                (NAME "t" ""))
              (REF 1313 (NAME "Neigh" "") ())))
          ())
        (INREL 1313
          (NAME "matches" "")
          (REF 1313 (NAME "t" "") ())
          (TUPLE 1313
            (LIST
              (APPLY 1313
                (REF 1313 (NAME "nop" "") ())
                (REF 1313 (NAME "p" "") ()))
              (REF 1313 (NAME "C" "") ()))))))))

(AXDEF 1316
  (BODY 1317
    (LIST
      (DECL 1317
        (LIST
          (NAME "rule\_triple\_constraint" ""))
        (INGEN 1317
          (NAME "\rel" "")
          (PREGEN 1317
            (NAME "\finset" "")
            (REF 1317 (NAME "LabelledTriple" "") ()))
          (REF 1317 (NAME "ShapeExpr" "") ()))))
    (LIST
      (EQUAL 1319
        (REF 1319 (NAME "rule\_triple\_constraint" "") ())
        (COMP 1320
          (BODY 1320
            (LIST
              (SDECL 1320
                (SREF 1320 "RuleTripleConstraint" "" () ())))
            ())
          (JUST 1320
            (INOP 1320
              (NAME "\mapsto" "")
              (REF 1320 (NAME "Neigh" "") ())
              (REF 1320 (NAME "Expr" "") ()))))))))

(SDEF 1327
  (SHEAD 1327
    "RuleInverseTripleConstraint"
    ())
  (BODY 1328
    (LIST
      (SDECL 1328
        (SREF 1328 "InfRule" "" () ()))
      (DECL 1329
        (LIST
          (NAME "k" ""))
        (REF 1329 (NAME "\nat" "") ()))
      (DECL 1330
        (LIST
          (NAME "p" ""))
        (REF 1330 (NAME "IRI" "") ()))
      (DECL 1331
        (LIST
          (NAME "C" ""))
        (REF 1331 (NAME "Constraint" "") ()))
      (DECL 1332
        (LIST
          (NAME "c" ""))
        (REF 1332 (NAME "Cardinality" "") ())))
    (LIST
      (EQUAL 1334
        (REF 1334 (NAME "Expr" "") ())
        (APPLY 1334
          (REF 1334 (NAME "triple" "") ())
          (TUPLE 1334
            (LIST
              (TUPLE 1334
                (LIST
                  (APPLY 1334
                    (REF 1334 (NAME "inv" "") ())
                    (REF 1334 (NAME "p" "") ()))
                  (REF 1334 (NAME "C" "") ())))
              (REF 1334 (NAME "c" "") ())))))
      (EQUAL 1336
        (REF 1336 (NAME "k" "") ())
        (APPLY 1336
          (REF 1336 (NAME "\#" "") ())
          (REF 1336 (NAME "Neigh" "") ())))
      (INREL 1338
        (NAME "inBounds" "")
        (REF 1338 (NAME "k" "") ())
        (REF 1338 (NAME "c" "") ()))
      (FORALL 1340
        (BODY 1340
          (LIST
            (DECL 1340
              (LIST
                (NAME "t" ""))
              (REF 1340 (NAME "Neigh" "") ())))
          ())
        (INREL 1340
          (NAME "matches" "")
          (REF 1340 (NAME "t" "") ())
          (TUPLE 1340
            (LIST
              (APPLY 1340
                (REF 1340 (NAME "inv" "") ())
                (REF 1340 (NAME "p" "") ()))
              (REF 1340 (NAME "C" "") ()))))))))

(AXDEF 1343
  (BODY 1344
    (LIST
      (DECL 1344
        (LIST
          (NAME "rule\_inverse\_triple\_constraint" ""))
        (INGEN 1344
          (NAME "\rel" "")
          (PREGEN 1344
            (NAME "\finset" "")
            (REF 1344 (NAME "LabelledTriple" "") ()))
          (REF 1344 (NAME "ShapeExpr" "") ()))))
    (LIST
      (EQUAL 1346
        (REF 1346 (NAME "rule\_triple\_constraint" "") ())
        (COMP 1347
          (BODY 1347
            (LIST
              (SDECL 1347
                (SREF 1347 "RuleInverseTripleConstraint" "" () ())))
            ())
          (JUST 1347
            (INOP 1347
              (NAME "\mapsto" "")
              (REF 1347 (NAME "Neigh" "") ())
              (REF 1347 (NAME "Expr" "") ()))))))))

(SDEF 1353
  (SHEAD 1353
    "RuleSomeOf"
    ())
  (BODY 1354
    (LIST
      (SDECL 1354
        (SREF 1354 "InfRule" "" () ()))
      (DECL 1355
        (LIST
          (NAME "Exprs" ""))
        (PREGEN 1355
          (NAME "\seq" "_1")
          (REF 1355 (NAME "ShapeExpr" "") ())))
      (DECL 1356
        (LIST
          (NAME "i" ""))
        (REF 1356 (NAME "\nat" "") ())))
    (LIST
      (EQUAL 1358
        (REF 1358 (NAME "Expr" "") ())
        (APPLY 1358
          (REF 1358 (NAME "someOf" "") ())
          (REF 1358 (NAME "Exprs" "") ())))
      (MEMBER 1360
        (REF 1360 (NAME "i" "") ())
        (APPLY 1360
          (REF 1360 (NAME "\dom" "") ())
          (REF 1360 (NAME "Exprs" "") ())))
      (INREL 1362
        (NAME "satisfies" "")
        (REF 1362 (NAME "Neigh" "") ())
        (APPLY 1362
          (REF 1362 (NAME "Exprs" "") ())
          (REF 1362 (NAME "i" "") ()))))))

(AXDEF 1365
  (BODY 1366
    (LIST
      (DECL 1366
        (LIST
          (NAME "rule\_some\_of" ""))
        (INGEN 1366
          (NAME "\rel" "")
          (PREGEN 1366
            (NAME "\finset" "")
            (REF 1366 (NAME "LabelledTriple" "") ()))
          (REF 1366 (NAME "ShapeExpr" "") ()))))
    (LIST
      (EQUAL 1368
        (REF 1368 (NAME "rule\_some\_of" "") ())
        (COMP 1369
          (BODY 1369
            (LIST
              (SDECL 1369
                (SREF 1369 "RuleSomeOf" "" () ())))
            ())
          (JUST 1369
            (INOP 1369
              (NAME "\mapsto" "")
              (REF 1369 (NAME "Neigh" "") ())
              (REF 1369 (NAME "Expr" "") ()))))))))

(SDEF 1375
  (SHEAD 1375
    "RuleOneOf"
    ())
  (BODY 1376
    (LIST
      (SDECL 1376
        (SREF 1376 "InfRule" "" () ()))
      (DECL 1377
        (LIST
          (NAME "Exprs" ""))
        (PREGEN 1377
          (NAME "\seq" "_1")
          (REF 1377 (NAME "ShapeExpr" "") ())))
      (DECL 1378
        (LIST
          (NAME "i" ""))
        (REF 1378 (NAME "\nat" "") ())))
    (LIST
      (EQUAL 1380
        (REF 1380 (NAME "Expr" "") ())
        (APPLY 1380
          (REF 1380 (NAME "oneOf" "") ())
          (REF 1380 (NAME "Exprs" "") ())))
      (MEMBER 1382
        (REF 1382 (NAME "i" "") ())
        (APPLY 1382
          (REF 1382 (NAME "\dom" "") ())
          (REF 1382 (NAME "Exprs" "") ())))
      (INREL 1384
        (NAME "satisfies" "")
        (REF 1384 (NAME "Neigh" "") ())
        (APPLY 1384
          (REF 1384 (NAME "Exprs" "") ())
          (REF 1384 (NAME "i" "") ()))))))

(AXDEF 1387
  (BODY 1388
    (LIST
      (DECL 1388
        (LIST
          (NAME "rule\_one\_of" ""))
        (INGEN 1388
          (NAME "\rel" "")
          (PREGEN 1388
            (NAME "\finset" "")
            (REF 1388 (NAME "LabelledTriple" "") ()))
          (REF 1388 (NAME "ShapeExpr" "") ()))))
    (LIST
      (EQUAL 1390
        (REF 1390 (NAME "rule\_one\_of" "") ())
        (COMP 1391
          (BODY 1391
            (LIST
              (SDECL 1391
                (SREF 1391 "RuleOneOf" "" () ())))
            ())
          (JUST 1391
            (INOP 1391
              (NAME "\mapsto" "")
              (REF 1391 (NAME "Neigh" "") ())
              (REF 1391 (NAME "Expr" "") ()))))))))

(SDEF 1403
  (SHEAD 1403
    "RuleGroup"
    ())
  (BODY 1404
    (LIST
      (SDECL 1404
        (SREF 1404 "InfRule" "" () ()))
      (DECL 1405
        (LIST
          (NAME "Neighs" ""))
        (PREGEN 1405
          (NAME "\seq" "_1")
          (PREGEN 1405
            (NAME "\finset" "")
            (REF 1405 (NAME "LabelledTriple" "") ()))))
      (DECL 1406
        (LIST
          (NAME "Exprs" ""))
        (PREGEN 1406
          (NAME "\seq" "_1")
          (REF 1406 (NAME "ShapeExpr" "") ()))))
    (LIST
      (EQUAL 1408
        (REF 1408 (NAME "Expr" "") ())
        (APPLY 1408
          (REF 1408 (NAME "group" "") ())
          (REF 1408 (NAME "Exprs" "") ())))
      (INREL 1410
        (NAME "\partition" "")
        (REF 1410 (NAME "Neighs" "") ())
        (REF 1410 (NAME "Neigh" "") ()))
      (EQUAL 1412
        (APPLY 1412
          (REF 1412 (NAME "\#" "") ())
          (REF 1412 (NAME "Neighs" "") ()))
        (APPLY 1412
          (REF 1412 (NAME "\#" "") ())
          (REF 1412 (NAME "Exprs" "") ())))
      (FORALL 1414
        (BODY 1414
          (LIST
            (DECL 1414
              (LIST
                (NAME "j" ""))
              (APPLY 1414
                (REF 1414 (NAME "\dom" "") ())
                (REF 1414 (NAME "Neighs" "") ()))))
          ())
        (INREL 1415
          (NAME "satisfies" "")
          (APPLY 1415
            (REF 1415 (NAME "Neighs" "") ())
            (REF 1415 (NAME "j" "") ()))
          (APPLY 1415
            (REF 1415 (NAME "Exprs" "") ())
            (REF 1415 (NAME "j" "") ())))))))

(AXDEF 1418
  (BODY 1419
    (LIST
      (DECL 1419
        (LIST
          (NAME "rule\_group" ""))
        (INGEN 1419
          (NAME "\rel" "")
          (PREGEN 1419
            (NAME "\finset" "")
            (REF 1419 (NAME "LabelledTriple" "") ()))
          (REF 1419 (NAME "ShapeExpr" "") ()))))
    (LIST
      (EQUAL 1421
        (REF 1421 (NAME "rule\_group" "") ())
        (COMP 1422
          (BODY 1422
            (LIST
              (SDECL 1422
                (SREF 1422 "RuleGroup" "" () ())))
            ())
          (JUST 1422
            (INOP 1422
              (NAME "\mapsto" "")
              (REF 1422 (NAME "Neigh" "") ())
              (REF 1422 (NAME "Expr" "") ()))))))))

(SDEF 1428
  (SHEAD 1428
    "RuleRepeat"
    ())
  (BODY 1429
    (LIST
      (SDECL 1429
        (SREF 1429 "InfRule" "" () ()))
      (DECL 1430
        (LIST
          (NAME "Expr1" ""))
        (REF 1430 (NAME "ShapeExpr" "") ()))
      (DECL 1431
        (LIST
          (NAME "Neighs" ""))
        (PREGEN 1431
          (NAME "\seq" "_1")
          (PREGEN 1431
            (NAME "\finset" "")
            (REF 1431 (NAME "LabelledTriple" "") ()))))
      (DECL 1432
        (LIST
          (NAME "k" ""))
        (REF 1432 (NAME "\nat" "") ()))
      (DECL 1433
        (LIST
          (NAME "c" ""))
        (REF 1433 (NAME "Cardinality" "") ())))
    (LIST
      (EQUAL 1435
        (REF 1435 (NAME "Expr" "") ())
        (APPLY 1435
          (REF 1435 (NAME "repetition" "") ())
          (TUPLE 1435
            (LIST
              (REF 1435 (NAME "Expr1" "") ())
              (REF 1435 (NAME "c" "") ())))))
      (EQUAL 1437
        (REF 1437 (NAME "k" "") ())
        (APPLY 1437
          (REF 1437 (NAME "\#" "") ())
          (REF 1437 (NAME "Neighs" "") ())))
      (INREL 1439
        (NAME "inBounds" "")
        (REF 1439 (NAME "k" "") ())
        (REF 1439 (NAME "c" "") ()))
      (INREL 1441
        (NAME "\partition" "")
        (REF 1441 (NAME "Neighs" "") ())
        (REF 1441 (NAME "Neigh" "") ()))
      (FORALL 1443
        (BODY 1443
          (LIST
            (DECL 1443
              (LIST
                (NAME "j" ""))
              (APPLY 1443
                (REF 1443 (NAME "\dom" "") ())
                (REF 1443 (NAME "Neighs" "") ()))))
          ())
        (INREL 1444
          (NAME "satisfies" "")
          (APPLY 1444
            (REF 1444 (NAME "Neighs" "") ())
            (REF 1444 (NAME "j" "") ()))
          (REF 1444 (NAME "Expr1" "") ()))))))

(AXDEF 1447
  (BODY 1448
    (LIST
      (DECL 1448
        (LIST
          (NAME "rule\_repeat" ""))
        (INGEN 1448
          (NAME "\rel" "")
          (PREGEN 1448
            (NAME "\finset" "")
            (REF 1448 (NAME "LabelledTriple" "") ()))
          (REF 1448 (NAME "ShapeExpr" "") ()))))
    (LIST
      (EQUAL 1450
        (REF 1450 (NAME "rule\_repeat" "") ())
        (COMP 1451
          (BODY 1451
            (LIST
              (SDECL 1451
                (SREF 1451 "RuleRepeat" "" () ())))
            ())
          (JUST 1451
            (INOP 1451
              (NAME "\mapsto" "")
              (REF 1451 (NAME "Neigh" "") ())
              (REF 1451 (NAME "Expr" "") ()))))))))

(PRED 1262
  (EQUAL 1262
    (REF 1262 (NAME "satisfies" "") ())
    (INOP 1263
      (NAME "\cup" "")
      (INOP 1263
        (NAME "\cup" "")
        (INOP 1263
          (NAME "\cup" "")
          (INOP 1263
            (NAME "\cup" "")
            (INOP 1263
              (NAME "\cup" "")
              (INOP 1263
                (NAME "\cup" "")
                (REF 1263 (NAME "rule\_empty" "") ())
                (REF 1264 (NAME "rule\_triple\_constraint" "") ()))
              (REF 1265 (NAME "rule\_inverse\_triple\_constraint" "") ()))
            (REF 1266 (NAME "rule\_some\_of" "") ()))
          (REF 1267 (NAME "rule\_one\_of" "") ()))
        (REF 1268 (NAME "rule\_group" "") ()))
      (REF 1269 (NAME "rule\_repeat" "") ()))))

(DATA 1464
  (NAME "RuleTree" "")
  (LIST
    (ARM 1465
      (NAME "ruleEmpty" "")
      (JUST 1465
        (SEXPR 1465
          (SREF 1465 "RuleEmpty" "" () ()))))
    (ARM 1466
      (NAME "ruleTripleConstraint" "")
      (JUST 1466
        (SEXPR 1466
          (SREF 1466 "RuleTripleConstraint" "" () ()))))
    (ARM 1467
      (NAME "ruleInverseTripleConstraint" "")
      (JUST 1467
        (SEXPR 1467
          (SREF 1467 "RuleInverseTripleConstraint" "" () ()))))
    (ARM 1468
      (NAME "ruleSomeOf" "")
      (JUST 1468
        (CROSS 1468
          (LIST
            (SEXPR 1468
              (SREF 1468 "RuleSomeOf" "" () ()))
            (REF 1468 (NAME "RuleTree" "") ())))))
    (ARM 1469
      (NAME "ruleOneOf" "")
      (JUST 1469
        (CROSS 1469
          (LIST
            (SEXPR 1469
              (SREF 1469 "RuleOneOf" "" () ()))
            (REF 1469 (NAME "RuleTree" "") ())))))
    (ARM 1470
      (NAME "ruleGroup" "")
      (JUST 1470
        (CROSS 1470
          (LIST
            (SEXPR 1470
              (SREF 1470 "RuleGroup" "" () ()))
            (PREGEN 1470
              (NAME "\seq" "_1")
              (REF 1470 (NAME "RuleTree" "") ()))))))
    (ARM 1471
      (NAME "ruleRepeat" "")
      (JUST 1471
        (CROSS 1471
          (LIST
            (SEXPR 1471
              (SREF 1471 "RuleRepeat" "" () ()))
            (PREGEN 1471
              (NAME "\seq" "_1")
              (REF 1471 (NAME "RuleTree" "") ()))))))))

(AXDEF 1476
  (BODY 1477
    (LIST
      (DECL 1477
        (LIST
          (NAME "baseRule" ""))
        (INGEN 1477
          (NAME "\fun" "")
          (REF 1477 (NAME "RuleTree" "") ())
          (SEXPR 1477
            (SREF 1477 "InfRule" "" () ())))))
    (LIST
      (FORALL 1479
        (BODY 1479
          (LIST
            (SDECL 1479
              (SREF 1479 "RuleEmpty" "" () ())))
          ())
        (LETPRED 1480
          (LIST
            (LETDEF 1480
              (NAME "rule" "")
              (THETA 1480
                "RuleEmpty"
                ""
                ()))
            (LETDEF 1481
              (NAME "base" "")
              (THETA 1481
                "InfRule"
                ""
                ())))
          (EQUAL 1482
            (APPLY 1482
              (REF 1482 (NAME "baseRule" "") ())
              (APPLY 1482
                (REF 1482 (NAME "ruleEmpty" "") ())
                (REF 1482 (NAME "rule" "") ())))
            (REF 1482 (NAME "base" "") ()))))
      (FORALL 1484
        (BODY 1484
          (LIST
            (SDECL 1484
              (SREF 1484 "RuleTripleConstraint" "" () ())))
          ())
        (LETPRED 1485
          (LIST
            (LETDEF 1485
              (NAME "rule" "")
              (THETA 1485
                "RuleTripleConstraint"
                ""
                ()))
            (LETDEF 1486
              (NAME "base" "")
              (THETA 1486
                "InfRule"
                ""
                ())))
          (EQUAL 1487
            (APPLY 1487
              (REF 1487 (NAME "baseRule" "") ())
              (APPLY 1487
                (REF 1487 (NAME "ruleTripleConstraint" "") ())
                (REF 1487 (NAME "rule" "") ())))
            (REF 1487 (NAME "base" "") ()))))
      (FORALL 1489
        (BODY 1489
          (LIST
            (SDECL 1489
              (SREF 1489 "RuleInverseTripleConstraint" "" () ())))
          ())
        (LETPRED 1490
          (LIST
            (LETDEF 1490
              (NAME "rule" "")
              (THETA 1490
                "RuleInverseTripleConstraint"
                ""
                ()))
            (LETDEF 1491
              (NAME "base" "")
              (THETA 1491
                "InfRule"
                ""
                ())))
          (EQUAL 1492
            (APPLY 1492
              (REF 1492 (NAME "baseRule" "") ())
              (APPLY 1492
                (REF 1492 (NAME "ruleInverseTripleConstraint" "") ())
                (REF 1492 (NAME "rule" "") ())))
            (REF 1492 (NAME "base" "") ()))))
      (FORALL 1494
        (BODY 1494
          (LIST
            (SDECL 1494
              (SREF 1494 "RuleSomeOf" "" () ()))
            (DECL 1494
              (LIST
                (NAME "tree" ""))
              (REF 1494 (NAME "RuleTree" "") ())))
          ())
        (LETPRED 1495
          (LIST
            (LETDEF 1495
              (NAME "rule" "")
              (THETA 1495
                "RuleSomeOf"
                ""
                ()))
            (LETDEF 1496
              (NAME "base" "")
              (THETA 1496
                "InfRule"
                ""
                ())))
          (EQUAL 1497
            (APPLY 1497
              (REF 1497 (NAME "baseRule" "") ())
              (APPLY 1497
                (REF 1497 (NAME "ruleSomeOf" "") ())
                (TUPLE 1497
                  (LIST
                    (REF 1497 (NAME "rule" "") ())
                    (REF 1497 (NAME "tree" "") ())))))
            (REF 1497 (NAME "base" "") ()))))
      (FORALL 1499
        (BODY 1499
          (LIST
            (SDECL 1499
              (SREF 1499 "RuleOneOf" "" () ()))
            (DECL 1499
              (LIST
                (NAME "tree" ""))
              (REF 1499 (NAME "RuleTree" "") ())))
          ())
        (LETPRED 1500
          (LIST
            (LETDEF 1500
              (NAME "rule" "")
              (THETA 1500
                "RuleOneOf"
                ""
                ()))
            (LETDEF 1501
              (NAME "base" "")
              (THETA 1501
                "InfRule"
                ""
                ())))
          (EQUAL 1502
            (APPLY 1502
              (REF 1502 (NAME "baseRule" "") ())
              (APPLY 1502
                (REF 1502 (NAME "ruleOneOf" "") ())
                (TUPLE 1502
                  (LIST
                    (REF 1502 (NAME "rule" "") ())
                    (REF 1502 (NAME "tree" "") ())))))
            (REF 1502 (NAME "base" "") ()))))
      (FORALL 1504
        (BODY 1504
          (LIST
            (SDECL 1504
              (SREF 1504 "RuleGroup" "" () ()))
            (DECL 1504
              (LIST
                (NAME "trees" ""))
              (PREGEN 1504
                (NAME "\seq" "_1")
                (REF 1504 (NAME "RuleTree" "") ()))))
          ())
        (LETPRED 1505
          (LIST
            (LETDEF 1505
              (NAME "rule" "")
              (THETA 1505
                "RuleGroup"
                ""
                ()))
            (LETDEF 1506
              (NAME "base" "")
              (THETA 1506
                "InfRule"
                ""
                ())))
          (EQUAL 1507
            (APPLY 1507
              (REF 1507 (NAME "baseRule" "") ())
              (APPLY 1507
                (REF 1507 (NAME "ruleGroup" "") ())
                (TUPLE 1507
                  (LIST
                    (REF 1507 (NAME "rule" "") ())
                    (REF 1507 (NAME "trees" "") ())))))
            (REF 1507 (NAME "base" "") ()))))
      (FORALL 1509
        (BODY 1509
          (LIST
            (SDECL 1509
              (SREF 1509 "RuleRepeat" "" () ()))
            (DECL 1509
              (LIST
                (NAME "trees" ""))
              (PREGEN 1509
                (NAME "\seq" "_1")
                (REF 1509 (NAME "RuleTree" "") ()))))
          ())
        (LETPRED 1510
          (LIST
            (LETDEF 1510
              (NAME "rule" "")
              (THETA 1510
                "RuleRepeat"
                ""
                ()))
            (LETDEF 1511
              (NAME "base" "")
              (THETA 1511
                "InfRule"
                ""
                ())))
          (EQUAL 1512
            (APPLY 1512
              (REF 1512 (NAME "baseRule" "") ())
              (APPLY 1512
                (REF 1512 (NAME "ruleRepeat" "") ())
                (TUPLE 1512
                  (LIST
                    (REF 1512 (NAME "rule" "") ())
                    (REF 1512 (NAME "trees" "") ())))))
            (REF 1512 (NAME "base" "") ())))))))

(AXDEF 1517
  (BODY 1518
    (LIST
      (DECL 1518
        (LIST
          (NAME "baseNeigh" ""))
        (INGEN 1518
          (NAME "\fun" "")
          (REF 1518 (NAME "RuleTree" "") ())
          (PREGEN 1518
            (NAME "\finset" "")
            (REF 1518 (NAME "LabelledTriple" "") ())))))
    (LIST
      (FORALL 1520
        (BODY 1520
          (LIST
            (DECL 1520
              (LIST
                (NAME "tree" ""))
              (REF 1520 (NAME "RuleTree" "") ())))
          ())
        (EQUAL 1521
          (APPLY 1521
            (REF 1521 (NAME "baseNeigh" "") ())
            (REF 1521 (NAME "tree" "") ()))
          (SELECT 1521
            (APPLY 1521
              (REF 1521 (NAME "baseRule" "") ())
              (REF 1521 (NAME "tree" "") ()))
            (NAME "Neigh" "")))))))

(AXDEF 1526
  (BODY 1527
    (LIST
      (DECL 1527
        (LIST
          (NAME "baseExpr" ""))
        (INGEN 1527
          (NAME "\fun" "")
          (REF 1527 (NAME "RuleTree" "") ())
          (REF 1527 (NAME "ShapeExpr" "") ()))))
    (LIST
      (FORALL 1529
        (BODY 1529
          (LIST
            (DECL 1529
              (LIST
                (NAME "tree" ""))
              (REF 1529 (NAME "RuleTree" "") ())))
          ())
        (EQUAL 1530
          (APPLY 1530
            (REF 1530 (NAME "baseExpr" "") ())
            (REF 1530 (NAME "tree" "") ()))
          (SELECT 1530
            (APPLY 1530
              (REF 1530 (NAME "baseRule" "") ())
              (REF 1530 (NAME "tree" "") ()))
            (NAME "Expr" "")))))))

(AXDEF 1535
  (BODY 1536
    (LIST
      (DECL 1536
        (LIST
          (NAME "ProofTree" ""))
        (POWER 1536
          (REF 1536 (NAME "RuleTree" "") ()))))
    ()))

(PRED 1544
  (INREL 1544
    (NAME "\subset" "")
    (APPLY 1544
      (REF 1544 (NAME "\ran" "") ())
      (REF 1544 (NAME "ruleEmpty" "") ()))
    (REF 1544 (NAME "ProofTree" "") ())))

(PRED 1550
  (INREL 1550
    (NAME "\subset" "")
    (APPLY 1550
      (REF 1550 (NAME "\ran" "") ())
      (REF 1550 (NAME "ruleTripleConstraint" "") ()))
    (REF 1550 (NAME "ProofTree" "") ())))

(PRED 1556
  (INREL 1556
    (NAME "\subset" "")
    (APPLY 1556
      (REF 1556 (NAME "\ran" "") ())
      (REF 1556 (NAME "ruleInverseTripleConstraint" "") ()))
    (REF 1556 (NAME "ProofTree" "") ())))

(PRED 1562
  (FORALL 1562
    (BODY 1562
      (LIST
        (SDECL 1562
          (SREF 1562 "RuleSomeOf" "" () ()))
        (DECL 1562
          (LIST
            (NAME "tree" ""))
          (REF 1562 (NAME "RuleTree" "") ())))
      ())
    (EQUIV 1563
      (MEMBER 1563
        (APPLY 1563
          (REF 1563 (NAME "ruleSomeOf" "") ())
          (TUPLE 1563
            (LIST
              (THETA 1563
                "RuleSomeOf"
                ""
                ())
              (REF 1563 (NAME "tree" "") ()))))
        (REF 1563 (NAME "ProofTree" "") ()))
      (AND 1565
        (AND 1564
          (EQUAL 1564
            (APPLY 1564
              (REF 1564 (NAME "baseNeigh" "") ())
              (REF 1564 (NAME "tree" "") ()))
            (REF 1564 (NAME "Neigh" "") ()))
          (EQUAL 1565
            (APPLY 1565
              (REF 1565 (NAME "baseExpr" "") ())
              (REF 1565 (NAME "tree" "") ()))
            (APPLY 1565
              (REF 1565 (NAME "Exprs" "") ())
              (REF 1565 (NAME "i" "") ()))))
        (MEMBER 1566
          (REF 1566 (NAME "tree" "") ())
          (REF 1566 (NAME "ProofTree" "") ()))))))

(PRED 1572
  (FORALL 1572
    (BODY 1572
      (LIST
        (SDECL 1572
          (SREF 1572 "RuleOneOf" "" () ()))
        (DECL 1572
          (LIST
            (NAME "tree" ""))
          (REF 1572 (NAME "RuleTree" "") ())))
      ())
    (EQUIV 1573
      (MEMBER 1573
        (APPLY 1573
          (REF 1573 (NAME "ruleOneOf" "") ())
          (TUPLE 1573
            (LIST
              (THETA 1573
                "RuleOneOf"
                ""
                ())
              (REF 1573 (NAME "tree" "") ()))))
        (REF 1573 (NAME "ProofTree" "") ()))
      (AND 1575
        (AND 1574
          (EQUAL 1574
            (APPLY 1574
              (REF 1574 (NAME "baseNeigh" "") ())
              (REF 1574 (NAME "tree" "") ()))
            (REF 1574 (NAME "Neigh" "") ()))
          (EQUAL 1575
            (APPLY 1575
              (REF 1575 (NAME "baseExpr" "") ())
              (REF 1575 (NAME "tree" "") ()))
            (APPLY 1575
              (REF 1575 (NAME "Exprs" "") ())
              (REF 1575 (NAME "i" "") ()))))
        (MEMBER 1576
          (REF 1576 (NAME "tree" "") ())
          (REF 1576 (NAME "ProofTree" "") ()))))))

(PRED 1583
  (FORALL 1583
    (BODY 1583
      (LIST
        (SDECL 1583
          (SREF 1583 "RuleGroup" "" () ()))
        (DECL 1583
          (LIST
            (NAME "trees" ""))
          (PREGEN 1583
            (NAME "\seq" "_1")
            (REF 1583 (NAME "RuleTree" "") ()))))
      ())
    (EQUIV 1584
      (MEMBER 1584
        (APPLY 1584
          (REF 1584 (NAME "ruleGroup" "") ())
          (TUPLE 1584
            (LIST
              (THETA 1584
                "RuleGroup"
                ""
                ())
              (REF 1584 (NAME "trees" "") ()))))
        (REF 1584 (NAME "ProofTree" "") ()))
      (AND 1585
        (EQUAL 1585
          (APPLY 1585
            (REF 1585 (NAME "\#" "") ())
            (REF 1585 (NAME "Exprs" "") ()))
          (APPLY 1585
            (REF 1585 (NAME "\#" "") ())
            (REF 1585 (NAME "trees" "") ())))
        (FORALL 1586
          (BODY 1586
            (LIST
              (DECL 1586
                (LIST
                  (NAME "i" ""))
                (APPLY 1586
                  (REF 1586 (NAME "\dom" "") ())
                  (REF 1586 (NAME "trees" "") ()))))
            ())
          (AND 1588
            (AND 1587
              (EQUAL 1587
                (APPLY 1587
                  (REF 1587 (NAME "baseNeigh" "") ())
                  (APPLY 1587
                    (REF 1587 (NAME "trees" "") ())
                    (REF 1587 (NAME "i" "") ())))
                (APPLY 1587
                  (REF 1587 (NAME "Neighs" "") ())
                  (REF 1587 (NAME "i" "") ())))
              (EQUAL 1588
                (APPLY 1588
                  (REF 1588 (NAME "baseExpr" "") ())
                  (APPLY 1588
                    (REF 1588 (NAME "trees" "") ())
                    (REF 1588 (NAME "i" "") ())))
                (APPLY 1588
                  (REF 1588 (NAME "Exprs" "") ())
                  (REF 1588 (NAME "i" "") ()))))
            (MEMBER 1589
              (APPLY 1589
                (REF 1589 (NAME "trees" "") ())
                (REF 1589 (NAME "i" "") ()))
              (REF 1589 (NAME "ProofTree" "") ()))))))))

(PRED 1596
  (FORALL 1596
    (BODY 1596
      (LIST
        (SDECL 1596
          (SREF 1596 "RuleRepeat" "" () ()))
        (DECL 1596
          (LIST
            (NAME "trees" ""))
          (PREGEN 1596
            (NAME "\seq" "_1")
            (REF 1596 (NAME "RuleTree" "") ()))))
      ())
    (EQUIV 1597
      (MEMBER 1597
        (APPLY 1597
          (REF 1597 (NAME "ruleRepeat" "") ())
          (TUPLE 1597
            (LIST
              (THETA 1597
                "RuleRepeat"
                ""
                ())
              (REF 1597 (NAME "trees" "") ()))))
        (REF 1597 (NAME "ProofTree" "") ()))
      (AND 1598
        (EQUAL 1598
          (APPLY 1598
            (REF 1598 (NAME "\#" "") ())
            (REF 1598 (NAME "Neighs" "") ()))
          (APPLY 1598
            (REF 1598 (NAME "\#" "") ())
            (REF 1598 (NAME "trees" "") ())))
        (FORALL 1599
          (BODY 1599
            (LIST
              (DECL 1599
                (LIST
                  (NAME "i" ""))
                (APPLY 1599
                  (REF 1599 (NAME "\dom" "") ())
                  (REF 1599 (NAME "trees" "") ()))))
            ())
          (AND 1601
            (AND 1600
              (EQUAL 1600
                (APPLY 1600
                  (REF 1600 (NAME "baseNeigh" "") ())
                  (APPLY 1600
                    (REF 1600 (NAME "trees" "") ())
                    (REF 1600 (NAME "i" "") ())))
                (APPLY 1600
                  (REF 1600 (NAME "Neighs" "") ())
                  (REF 1600 (NAME "i" "") ())))
              (EQUAL 1601
                (APPLY 1601
                  (REF 1601 (NAME "baseExpr" "") ())
                  (APPLY 1601
                    (REF 1601 (NAME "trees" "") ())
                    (REF 1601 (NAME "i" "") ())))
                (REF 1601 (NAME "Expr1" "") ())))
            (MEMBER 1602
              (APPLY 1602
                (REF 1602 (NAME "trees" "") ())
                (REF 1602 (NAME "i" "") ()))
              (REF 1602 (NAME "ProofTree" "") ()))))))))

(PRED 1611
  (EQUAL 1611
    (REF 1611 (NAME "satisfies" "") ())
    (COMP 1612
      (BODY 1612
        (LIST
          (DECL 1612
            (LIST
              (NAME "tree" ""))
            (REF 1612 (NAME "ProofTree" "") ())))
        ())
      (JUST 1612
        (INOP 1612
          (NAME "\mapsto" "")
          (APPLY 1612
            (REF 1612 (NAME "baseNeigh" "") ())
            (REF 1612 (NAME "tree" "") ()))
          (APPLY 1612
            (REF 1612 (NAME "baseExpr" "") ())
            (REF 1612 (NAME "tree" "") ())))))))

(AXDEF 1640
  (BODY 1641
    (LIST
      (DECL 1641
        (LIST
          (NAME "maxChild" ""))
        (INGEN 1641
          (NAME "\fun" "")
          (REF 1641 (NAME "RuleTree" "") ())
          (REF 1641 (NAME "\nat" "") ()))))
    (LIST
      (FORALL 1643
        (BODY 1643
          (LIST
            (DECL 1643
              (LIST
                (NAME "tree" ""))
              (APPLY 1643
                (REF 1643 (NAME "\ran" "") ())
                (REF 1643 (NAME "ruleEmpty" "") ()))))
          ())
        (EQUAL 1643
          (APPLY 1643
            (REF 1643 (NAME "maxChild" "") ())
            (REF 1643 (NAME "tree" "") ()))
          (NUMBER 1643 "0")))
      (FORALL 1645
        (BODY 1645
          (LIST
            (DECL 1645
              (LIST
                (NAME "tree" ""))
              (APPLY 1645
                (REF 1645 (NAME "\ran" "") ())
                (REF 1645 (NAME "ruleTripleConstraint" "") ()))))
          ())
        (EQUAL 1645
          (APPLY 1645
            (REF 1645 (NAME "maxChild" "") ())
            (REF 1645 (NAME "tree" "") ()))
          (NUMBER 1645 "0")))
      (FORALL 1647
        (BODY 1647
          (LIST
            (DECL 1647
              (LIST
                (NAME "tree" ""))
              (APPLY 1647
                (REF 1647 (NAME "\ran" "") ())
                (REF 1647 (NAME "ruleInverseTripleConstraint" "") ()))))
          ())
        (EQUAL 1647
          (APPLY 1647
            (REF 1647 (NAME "maxChild" "") ())
            (REF 1647 (NAME "tree" "") ()))
          (NUMBER 1647 "0")))
      (FORALL 1649
        (BODY 1649
          (LIST
            (DECL 1649
              (LIST
                (NAME "tree" ""))
              (APPLY 1649
                (REF 1649 (NAME "\ran" "") ())
                (REF 1649 (NAME "ruleSomeOf" "") ()))))
          ())
        (EQUAL 1649
          (APPLY 1649
            (REF 1649 (NAME "maxChild" "") ())
            (REF 1649 (NAME "tree" "") ()))
          (NUMBER 1649 "1")))
      (FORALL 1651
        (BODY 1651
          (LIST
            (DECL 1651
              (LIST
                (NAME "tree" ""))
              (APPLY 1651
                (REF 1651 (NAME "\ran" "") ())
                (REF 1651 (NAME "ruleOneOf" "") ()))))
          ())
        (EQUAL 1651
          (APPLY 1651
            (REF 1651 (NAME "maxChild" "") ())
            (REF 1651 (NAME "tree" "") ()))
          (NUMBER 1651 "1")))
      (FORALL 1653
        (BODY 1653
          (LIST
            (DECL 1653
              (LIST
                (NAME "r" ""))
              (SEXPR 1653
                (SREF 1653 "RuleGroup" "" () ())))
            (DECL 1653
              (LIST
                (NAME "trees" ""))
              (PREGEN 1653
                (NAME "\seq" "_1")
                (REF 1653 (NAME "RuleTree" "") ()))))
          ())
        (EQUAL 1654
          (APPLY 1654
            (REF 1654 (NAME "maxChild" "") ())
            (APPLY 1654
              (REF 1654 (NAME "ruleGroup" "") ())
              (TUPLE 1654
                (LIST
                  (REF 1654 (NAME "r" "") ())
                  (REF 1654 (NAME "trees" "") ())))))
          (APPLY 1654
            (REF 1654 (NAME "\#" "") ())
            (REF 1654 (NAME "trees" "") ()))))
      (FORALL 1656
        (BODY 1656
          (LIST
            (DECL 1656
              (LIST
                (NAME "r" ""))
              (SEXPR 1656
                (SREF 1656 "RuleRepeat" "" () ())))
            (DECL 1656
              (LIST
                (NAME "trees" ""))
              (PREGEN 1656
                (NAME "\seq" "_1")
                (REF 1656 (NAME "RuleTree" "") ()))))
          ())
        (EQUAL 1657
          (APPLY 1657
            (REF 1657 (NAME "maxChild" "") ())
            (APPLY 1657
              (REF 1657 (NAME "ruleRepeat" "") ())
              (TUPLE 1657
                (LIST
                  (REF 1657 (NAME "r" "") ())
                  (REF 1657 (NAME "trees" "") ())))))
          (APPLY 1657
            (REF 1657 (NAME "\#" "") ())
            (REF 1657 (NAME "trees" "") ())))))))

(AXDEF 1661
  (BODY 1662
    (LIST
      (DECL 1662
        (LIST
          (NAME "childAt" ""))
        (INGEN 1662
          (NAME "\pfun" "")
          (CROSS 1662
            (LIST
              (REF 1662 (NAME "RuleTree" "") ())
              (REF 1662 (NAME "\nat" "_1") ())))
          (REF 1662 (NAME "RuleTree" "") ()))))
    (LIST
      (EQUAL 1664
        (APPLY 1664
          (REF 1664 (NAME "\dom" "") ())
          (REF 1664 (NAME "childAt" "") ()))
        (COMP 1665
          (BODY 1665
            (LIST
              (DECL 1665
                (LIST
                  (NAME "tree" ""))
                (REF 1665 (NAME "RuleTree" "") ()))
              (DECL 1665
                (LIST
                  (NAME "ci" ""))
                (REF 1665 (NAME "\nat" "_1") ())))
            (LIST
              (INREL 1665
                (NAME "\leq" "")
                (REF 1665 (NAME "ci" "") ())
                (APPLY 1665
                  (REF 1665 (NAME "maxChild" "") ())
                  (REF 1665 (NAME "tree" "") ())))))
          (NOTHING 0)))
      (FORALL 1667
        (BODY 1667
          (LIST
            (DECL 1667
              (LIST
                (NAME "r" ""))
              (SEXPR 1667
                (SREF 1667 "RuleSomeOf" "" () ())))
            (DECL 1667
              (LIST
                (NAME "tree" ""))
              (REF 1667 (NAME "RuleTree" "") ())))
          ())
        (EQUAL 1668
          (APPLY 1668
            (REF 1668 (NAME "childAt" "") ())
            (TUPLE 1668
              (LIST
                (APPLY 1668
                  (REF 1668 (NAME "ruleSomeOf" "") ())
                  (TUPLE 1668
                    (LIST
                      (REF 1668 (NAME "r" "") ())
                      (REF 1668 (NAME "tree" "") ()))))
                (NUMBER 1668 "1"))))
          (REF 1668 (NAME "tree" "") ())))
      (FORALL 1670
        (BODY 1670
          (LIST
            (DECL 1670
              (LIST
                (NAME "r" ""))
              (SEXPR 1670
                (SREF 1670 "RuleOneOf" "" () ())))
            (DECL 1670
              (LIST
                (NAME "tree" ""))
              (REF 1670 (NAME "RuleTree" "") ())))
          ())
        (EQUAL 1671
          (APPLY 1671
            (REF 1671 (NAME "childAt" "") ())
            (TUPLE 1671
              (LIST
                (APPLY 1671
                  (REF 1671 (NAME "ruleOneOf" "") ())
                  (TUPLE 1671
                    (LIST
                      (REF 1671 (NAME "r" "") ())
                      (REF 1671 (NAME "tree" "") ()))))
                (NUMBER 1671 "1"))))
          (REF 1671 (NAME "tree" "") ())))
      (FORALL 1673
        (BODY 1673
          (LIST
            (DECL 1673
              (LIST
                (NAME "r" ""))
              (SEXPR 1673
                (SREF 1673 "RuleGroup" "" () ())))
            (DECL 1673
              (LIST
                (NAME "trees" ""))
              (PREGEN 1673
                (NAME "\seq" "_1")
                (REF 1673 (NAME "RuleTree" "") ()))))
          ())
        (LETPRED 1674
          (LIST
            (LETDEF 1674
              (NAME "tree" "")
              (APPLY 1674
                (REF 1674 (NAME "ruleGroup" "") ())
                (TUPLE 1674
                  (LIST
                    (REF 1674 (NAME "r" "") ())
                    (REF 1674 (NAME "trees" "") ()))))))
          (FORALL 1675
            (BODY 1675
              (LIST
                (DECL 1675
                  (LIST
                    (NAME "ci" ""))
                  (INOP 1675
                    (NAME "\upto" "")
                    (NUMBER 1675 "1")
                    (APPLY 1675
                      (REF 1675 (NAME "maxChild" "") ())
                      (REF 1675 (NAME "tree" "") ())))))
              ())
            (EQUAL 1676
              (APPLY 1676
                (REF 1676 (NAME "childAt" "") ())
                (TUPLE 1676
                  (LIST
                    (REF 1676 (NAME "tree" "") ())
                    (REF 1676 (NAME "ci" "") ()))))
              (APPLY 1676
                (REF 1676 (NAME "trees" "") ())
                (REF 1676 (NAME "ci" "") ()))))))
      (FORALL 1678
        (BODY 1678
          (LIST
            (DECL 1678
              (LIST
                (NAME "r" ""))
              (SEXPR 1678
                (SREF 1678 "RuleRepeat" "" () ())))
            (DECL 1678
              (LIST
                (NAME "trees" ""))
              (PREGEN 1678
                (NAME "\seq" "_1")
                (REF 1678 (NAME "RuleTree" "") ()))))
          ())
        (LETPRED 1679
          (LIST
            (LETDEF 1679
              (NAME "tree" "")
              (APPLY 1679
                (REF 1679 (NAME "ruleRepeat" "") ())
                (TUPLE 1679
                  (LIST
                    (REF 1679 (NAME "r" "") ())
                    (REF 1679 (NAME "trees" "") ()))))))
          (FORALL 1680
            (BODY 1680
              (LIST
                (DECL 1680
                  (LIST
                    (NAME "ci" ""))
                  (INOP 1680
                    (NAME "\upto" "")
                    (NUMBER 1680 "1")
                    (APPLY 1680
                      (REF 1680 (NAME "maxChild" "") ())
                      (REF 1680 (NAME "tree" "") ())))))
              ())
            (EQUAL 1681
              (APPLY 1681
                (REF 1681 (NAME "childAt" "") ())
                (TUPLE 1681
                  (LIST
                    (REF 1681 (NAME "tree" "") ())
                    (REF 1681 (NAME "ci" "") ()))))
              (APPLY 1681
                (REF 1681 (NAME "trees" "") ())
                (REF 1681 (NAME "ci" "") ())))))))))

(AXDEF 1688
  (BODY 1689
    (LIST
      (DECL 1689
        (LIST
          (NAME "rulePaths" ""))
        (INGEN 1689
          (NAME "\fun" "")
          (REF 1689 (NAME "RuleTree" "") ())
          (PREGEN 1689
            (NAME "\finset" "")
            (PREGEN 1689
              (NAME "\seq" "")
              (REF 1689 (NAME "\nat" "_1") ()))))))
    (LIST
      (FORALL 1691
        (BODY 1691
          (LIST
            (DECL 1691
              (LIST
                (NAME "tree" ""))
              (REF 1691 (NAME "RuleTree" "") ())))
          (LIST
            (EQUAL 1691
              (APPLY 1691
                (REF 1691 (NAME "maxChild" "") ())
                (REF 1691 (NAME "tree" "") ()))
              (NUMBER 1691 "0"))))
        (EQUAL 1692
          (APPLY 1692
            (REF 1692 (NAME "rulePaths" "") ())
            (REF 1692 (NAME "tree" "") ()))
          (EXT 1692
            (LIST
              (SEQ 1692
                ())))))
      (FORALL 1694
        (BODY 1694
          (LIST
            (DECL 1694
              (LIST
                (NAME "tree" ""))
              (REF 1694 (NAME "RuleTree" "") ())))
          (LIST
            (INREL 1694
              (NAME ">" "")
              (APPLY 1694
                (REF 1694 (NAME "maxChild" "") ())
                (REF 1694 (NAME "tree" "") ()))
              (NUMBER 1694 "0"))))
        (EQUAL 1695
          (APPLY 1695
            (REF 1695 (NAME "rulePaths" "") ())
            (REF 1695 (NAME "tree" "") ()))
          (APPLY 1696
            (REF 1696 (NAME "\bigcup" "") ())
            (COMP 1696
              (BODY 1696
                (LIST
                  (DECL 1696
                    (LIST
                      (NAME "ci" ""))
                    (INOP 1696
                      (NAME "\upto" "")
                      (NUMBER 1696 "1")
                      (APPLY 1696
                        (REF 1696 (NAME "maxChild" "") ())
                        (REF 1696 (NAME "tree" "") ())))))
                ())
              (JUST 1697
                (COMP 1697
                  (BODY 1697
                    (LIST
                      (DECL 1697
                        (LIST
                          (NAME "path" ""))
                        (APPLY 1697
                          (REF 1697 (NAME "rulePaths" "") ())
                          (APPLY 1697
                            (REF 1697 (NAME "childAt" "") ())
                            (TUPLE 1697
                              (LIST
                                (REF 1697 (NAME "tree" "") ())
                                (REF 1697 (NAME "ci" "") ())))))))
                    ())
                  (JUST 1697
                    (INOP 1697
                      (NAME "\cat" "")
                      (SEQ 1697
                        (LIST
                          (REF 1697 (NAME "ci" "") ())))
                      (REF 1697 (NAME "path" "") ()))))))))))))

(AXDEF 1701
  (BODY 1702
    (LIST
      (DECL 1702
        (LIST
          (NAME "treeAt" ""))
        (INGEN 1702
          (NAME "\pfun" "")
          (CROSS 1702
            (LIST
              (REF 1702 (NAME "RuleTree" "") ())
              (PREGEN 1702
                (NAME "\seq" "")
                (REF 1702 (NAME "\nat" "_1") ()))))
          (REF 1702 (NAME "RuleTree" "") ()))))
    (LIST
      (EQUAL 1704
        (APPLY 1704
          (REF 1704 (NAME "\dom" "") ())
          (REF 1704 (NAME "treeAt" "") ()))
        (COMP 1705
          (BODY 1705
            (LIST
              (DECL 1705
                (LIST
                  (NAME "tree" ""))
                (REF 1705 (NAME "RuleTree" "") ()))
              (DECL 1705
                (LIST
                  (NAME "path" ""))
                (PREGEN 1705
                  (NAME "\seq" "")
                  (REF 1705 (NAME "\nat" "_1") ()))))
            (LIST
              (MEMBER 1705
                (REF 1705 (NAME "path" "") ())
                (APPLY 1705
                  (REF 1705 (NAME "rulePaths" "") ())
                  (REF 1705 (NAME "tree" "") ())))))
          (NOTHING 0)))
      (FORALL 1707
        (BODY 1707
          (LIST
            (DECL 1707
              (LIST
                (NAME "tree" ""))
              (REF 1707 (NAME "RuleTree" "") ())))
          ())
        (EQUAL 1707
          (APPLY 1707
            (REF 1707 (NAME "treeAt" "") ())
            (TUPLE 1707
              (LIST
                (REF 1707 (NAME "tree" "") ())
                (SEQ 1707
                  ()))))
          (REF 1707 (NAME "tree" "") ())))
      (FORALL 1709
        (BODY 1709
          (LIST
            (DECL 1709
              (LIST
                (NAME "tree" ""))
              (REF 1709 (NAME "RuleTree" "") ()))
            (DECL 1709
              (LIST
                (NAME "ci" ""))
              (REF 1709 (NAME "\nat" "_1") ()))
            (DECL 1709
              (LIST
                (NAME "path" ""))
              (PREGEN 1709
                (NAME "\seq" "")
                (REF 1709 (NAME "\nat" "_1") ()))))
          (LIST
            (MEMBER 1710
              (INOP 1710
                (NAME "\cat" "")
                (SEQ 1710
                  (LIST
                    (REF 1710 (NAME "ci" "") ())))
                (REF 1710 (NAME "path" "") ()))
              (APPLY 1710
                (REF 1710 (NAME "rulePaths" "") ())
                (REF 1710 (NAME "tree" "") ())))))
        (EQUAL 1711
          (APPLY 1711
            (REF 1711 (NAME "treeAt" "") ())
            (TUPLE 1711
              (LIST
                (REF 1711 (NAME "tree" "") ())
                (INOP 1711
                  (NAME "\cat" "")
                  (SEQ 1711
                    (LIST
                      (REF 1711 (NAME "ci" "") ())))
                  (REF 1711 (NAME "path" "") ())))))
          (APPLY 1711
            (REF 1711 (NAME "treeAt" "") ())
            (TUPLE 1711
              (LIST
                (APPLY 1711
                  (REF 1711 (NAME "childAt" "") ())
                  (TUPLE 1711
                    (LIST
                      (REF 1711 (NAME "tree" "") ())
                      (REF 1711 (NAME "ci" "") ()))))
                (REF 1711 (NAME "path" "") ())))))))))

(SDEF 1716
  (SHEAD 1716
    "ElimExpr"
    ())
  (BODY 1717
    (LIST
      (DECL 1717
        (LIST
          (NAME "Expr" "")
          (NAME "Expr" "'"))
        (REF 1717 (NAME "ShapeExpr" "") ()))
      (DECL 1718
        (LIST
          (NAME "Exprs" "")
          (NAME "ExprsL" "")
          (NAME "ExprsR" ""))
        (PREGEN 1718
          (NAME "\seq" "_1")
          (REF 1718 (NAME "ShapeExpr" "") ())))
      (DECL 1719
        (LIST
          (NAME "i" ""))
        (REF 1719 (NAME "\nat" "") ())))
    (LIST
      (EQUAL 1721
        (REF 1721 (NAME "Expr" "") ())
        (APPLY 1721
          (REF 1721 (NAME "oneOf" "") ())
          (REF 1721 (NAME "Exprs" "") ())))
      (INREL 1723
        (NAME ">" "")
        (APPLY 1723
          (REF 1723 (NAME "\#" "") ())
          (REF 1723 (NAME "Exprs" "") ()))
        (NUMBER 1723 "1"))
      (MEMBER 1725
        (REF 1725 (NAME "i" "") ())
        (APPLY 1725
          (REF 1725 (NAME "\dom" "") ())
          (REF 1725 (NAME "Exprs" "") ())))
      (EQUAL 1727
        (REF 1727 (NAME "Exprs" "") ())
        (INOP 1727
          (NAME "\cat" "")
          (INOP 1727
            (NAME "\cat" "")
            (REF 1727 (NAME "ExprsL" "") ())
            (SEQ 1727
              (LIST
                (APPLY 1727
                  (REF 1727 (NAME "Exprs" "") ())
                  (REF 1727 (NAME "i" "") ())))))
          (REF 1727 (NAME "ExprsR" "") ())))
      (EQUAL 1729
        (REF 1729 (NAME "Expr" "'") ())
        (APPLY 1729
          (REF 1729 (NAME "oneOf" "") ())
          (INOP 1729
            (NAME "\cat" "")
            (REF 1729 (NAME "ExprsL" "") ())
            (REF 1729 (NAME "ExprsR" "") ())))))))

(AXDEF 1732
  (BODY 1733
    (LIST
      (DECL 1733
        (LIST
          (NAME "elimExpr" ""))
        (INGEN 1733
          (NAME "\pfun" "")
          (CROSS 1733
            (LIST
              (REF 1733 (NAME "ShapeExpr" "") ())
              (REF 1733 (NAME "\nat" "") ())))
          (REF 1733 (NAME "ShapeExpr" "") ()))))
    (LIST
      (EQUAL 1735
        (REF 1735 (NAME "elimExpr" "") ())
        (COMP 1735
          (BODY 1735
            (LIST
              (SDECL 1735
                (SREF 1735 "ElimExpr" "" () ())))
            ())
          (JUST 1735
            (INOP 1735
              (NAME "\mapsto" "")
              (TUPLE 1735
                (LIST
                  (REF 1735 (NAME "Expr" "") ())
                  (REF 1735 (NAME "i" "") ())))
              (REF 1735 (NAME "Expr" "'") ()))))))))

(SDEF 1740
  (SHEAD 1740
    "RuleOneOfApplication"
    ())
  (BODY 1741
    (LIST
      (DECL 1741
        (LIST
          (NAME "tree" ""))
        (REF 1741 (NAME "ProofTree" "") ()))
      (DECL 1742
        (LIST
          (NAME "path" ""))
        (PREGEN 1742
          (NAME "\seq" "")
          (REF 1742 (NAME "\nat" "_1") ())))
      (DECL 1743
        (LIST
          (NAME "r" "")
          (NAME "rChild" ""))
        (REF 1743 (NAME "ProofTree" "") ()))
      (DECL 1744
        (LIST
          (NAME "R" ""))
        (SEXPR 1744
          (SREF 1744 "RuleOneOf" "" () ()))))
    (LIST
      (MEMBER 1746
        (REF 1746 (NAME "path" "") ())
        (APPLY 1746
          (REF 1746 (NAME "rulePaths" "") ())
          (REF 1746 (NAME "tree" "") ())))
      (AND 1
        (EQUAL 1748
          (REF 1748 (NAME "r" "") ())
          (APPLY 1748
            (REF 1748 (NAME "treeAt" "") ())
            (TUPLE 1748
              (LIST
                (REF 1748 (NAME "tree" "") ())
                (REF 1748 (NAME "path" "") ())))))
        (EQUAL 1748
          (APPLY 1748
            (REF 1748 (NAME "treeAt" "") ())
            (TUPLE 1748
              (LIST
                (REF 1748 (NAME "tree" "") ())
                (REF 1748 (NAME "path" "") ()))))
          (APPLY 1748
            (REF 1748 (NAME "ruleOneOf" "") ())
            (TUPLE 1748
              (LIST
                (REF 1748 (NAME "R" "") ())
                (REF 1748 (NAME "rChild" "") ()))))))
      (INREL 1750
        (NAME ">" "")
        (APPLY 1750
          (REF 1750 (NAME "\#" "") ())
          (SELECT 1750
            (REF 1750 (NAME "R" "") ())
            (NAME "Exprs" "")))
        (NUMBER 1750 "1")))))

(AXDEF 1759
  (BODY 1760
    (LIST
      (DECL 1760
        (LIST
          (NAME "reduceExpr" ""))
        (INGEN 1760
          (NAME "\pfun" "")
          (CROSS 1760
            (LIST
              (REF 1760 (NAME "ProofTree" "") ())
              (PREGEN 1760
                (NAME "\seq" "")
                (REF 1760 (NAME "\nat" "_1") ()))))
          (REF 1760 (NAME "ShapeExpr" "") ()))))
    (LIST
      (EQUAL 1762
        (APPLY 1762
          (REF 1762 (NAME "\dom" "") ())
          (REF 1762 (NAME "reduceExpr" "") ()))
        (COMP 1762
          (BODY 1762
            (LIST
              (SDECL 1762
                (SREF 1762 "RuleOneOfApplication" "" () ())))
            ())
          (JUST 1762
            (TUPLE 1762
              (LIST
                (REF 1762 (NAME "tree" "") ())
                (REF 1762 (NAME "path" "") ()))))))
      (FORALL 1764
        (BODY 1764
          (LIST
            (SDECL 1764
              (SREF 1764 "RuleOneOfApplication" "" () ())))
          (LIST
            (AND 1765
              (EQUAL 1765
                (REF 1765 (NAME "path" "") ())
                (SEQ 1765
                  ()))
              (EQUAL 1766
                (REF 1766 (NAME "tree" "") ())
                (REF 1766 (NAME "r" "") ())))))
        (EQUAL 1767
          (APPLY 1767
            (REF 1767 (NAME "reduceExpr" "") ())
            (TUPLE 1767
              (LIST
                (REF 1767 (NAME "r" "") ())
                (SEQ 1767
                  ()))))
          (APPLY 1767
            (REF 1767 (NAME "elimExpr" "") ())
            (TUPLE 1767
              (LIST
                (SELECT 1767
                  (REF 1767 (NAME "R" "") ())
                  (NAME "Expr" ""))
                (SELECT 1767
                  (REF 1767 (NAME "R" "") ())
                  (NAME "i" ""))))))))))

(SDEF 1778
  (SHEAD 1778
    "ReduceSomeOf"
    ())
  (BODY 1779
    (LIST
      (SDECL 1779
        (SREF 1779 "RuleOneOfApplication" "" () ()))
      (SDECL 1780
        (SREF 1780 "RuleSomeOf" "" () ()))
      (DECL 1781
        (LIST
          (NAME "child" ""))
        (REF 1781 (NAME "ProofTree" "") ()))
      (DECL 1782
        (LIST
          (NAME "tail" ""))
        (PREGEN 1782
          (NAME "\seq" "")
          (REF 1782 (NAME "\nat" "_1") ())))
      (DECL 1783
        (LIST
          (NAME "ExprsL" "")
          (NAME "ExprsR" ""))
        (PREGEN 1783
          (NAME "\seq" "")
          (REF 1783 (NAME "ShapeExpr" "") ())))
      (DECL 1784
        (LIST
          (NAME "Expr" "'"))
        (REF 1784 (NAME "ShapeExpr" "") ())))
    (LIST
      (EQUAL 1786
        (REF 1786 (NAME "tree" "") ())
        (APPLY 1786
          (REF 1786 (NAME "ruleSomeOf" "") ())
          (TUPLE 1786
            (LIST
              (THETA 1786
                "RuleSomeOf"
                ""
                ())
              (REF 1786 (NAME "child" "") ())))))
      (EQUAL 1788
        (REF 1788 (NAME "path" "") ())
        (INOP 1788
          (NAME "\cat" "")
          (SEQ 1788
            (LIST
              (NUMBER 1788 "1")))
          (REF 1788 (NAME "tail" "") ())))
      (EQUAL 1790
        (REF 1790 (NAME "Exprs" "") ())
        (INOP 1790
          (NAME "\cat" "")
          (INOP 1790
            (NAME "\cat" "")
            (REF 1790 (NAME "ExprsL" "") ())
            (SEQ 1790
              (LIST
                (APPLY 1790
                  (REF 1790 (NAME "Exprs" "") ())
                  (REF 1790 (NAME "i" "") ())))))
          (REF 1790 (NAME "ExprsR" "") ())))
      (EQUAL 1792
        (REF 1792 (NAME "Expr" "'") ())
        (APPLY 1792
          (REF 1792 (NAME "someOf" "") ())
          (INOP 1792
            (NAME "\cat" "")
            (INOP 1792
              (NAME "\cat" "")
              (REF 1792 (NAME "ExprsL" "") ())
              (SEQ 1792
                (LIST
                  (APPLY 1792
                    (REF 1792 (NAME "reduceExpr" "") ())
                    (TUPLE 1792
                      (LIST
                        (REF 1792 (NAME "child" "") ())
                        (REF 1792 (NAME "tail" "") ())))))))
            (REF 1792 (NAME "ExprsL" "") ())))))))

(PRED 1796
  (FORALL 1796
    (BODY 1796
      (LIST
        (SDECL 1796
          (SREF 1796 "ReduceSomeOf" "" () ())))
      ())
    (EQUAL 1797
      (APPLY 1797
        (REF 1797 (NAME "reduceExpr" "") ())
        (TUPLE 1797
          (LIST
            (REF 1797 (NAME "tree" "") ())
            (REF 1797 (NAME "path" "") ()))))
      (REF 1797 (NAME "Expr" "'") ()))))

(SDEF 1800
  (SHEAD 1800
    "ReduceOneOf"
    ())
  (BODY 1801
    (LIST
      (SDECL 1801
        (SREF 1801 "RuleOneOfApplication" "" () ()))
      (SDECL 1802
        (SREF 1802 "RuleOneOf" "" () ()))
      (DECL 1803
        (LIST
          (NAME "child" ""))
        (REF 1803 (NAME "ProofTree" "") ()))
      (DECL 1804
        (LIST
          (NAME "tail" ""))
        (PREGEN 1804
          (NAME "\seq" "")
          (REF 1804 (NAME "\nat" "_1") ())))
      (DECL 1805
        (LIST
          (NAME "ExprsL" "")
          (NAME "ExprsR" ""))
        (PREGEN 1805
          (NAME "\seq" "")
          (REF 1805 (NAME "ShapeExpr" "") ())))
      (DECL 1806
        (LIST
          (NAME "Expr" "'"))
        (REF 1806 (NAME "ShapeExpr" "") ())))
    (LIST
      (EQUAL 1808
        (REF 1808 (NAME "tree" "") ())
        (APPLY 1808
          (REF 1808 (NAME "ruleOneOf" "") ())
          (TUPLE 1808
            (LIST
              (THETA 1808
                "RuleOneOf"
                ""
                ())
              (REF 1808 (NAME "child" "") ())))))
      (EQUAL 1810
        (REF 1810 (NAME "path" "") ())
        (INOP 1810
          (NAME "\cat" "")
          (SEQ 1810
            (LIST
              (NUMBER 1810 "1")))
          (REF 1810 (NAME "tail" "") ())))
      (EQUAL 1812
        (REF 1812 (NAME "Exprs" "") ())
        (INOP 1812
          (NAME "\cat" "")
          (INOP 1812
            (NAME "\cat" "")
            (REF 1812 (NAME "ExprsL" "") ())
            (SEQ 1812
              (LIST
                (APPLY 1812
                  (REF 1812 (NAME "Exprs" "") ())
                  (REF 1812 (NAME "i" "") ())))))
          (REF 1812 (NAME "ExprsR" "") ())))
      (EQUAL 1814
        (REF 1814 (NAME "Expr" "'") ())
        (APPLY 1814
          (REF 1814 (NAME "oneOf" "") ())
          (INOP 1814
            (NAME "\cat" "")
            (INOP 1814
              (NAME "\cat" "")
              (REF 1814 (NAME "ExprsL" "") ())
              (SEQ 1814
                (LIST
                  (APPLY 1814
                    (REF 1814 (NAME "reduceExpr" "") ())
                    (TUPLE 1814
                      (LIST
                        (REF 1814 (NAME "child" "") ())
                        (REF 1814 (NAME "tail" "") ())))))))
            (REF 1814 (NAME "ExprsL" "") ())))))))

(PRED 1818
  (FORALL 1818
    (BODY 1818
      (LIST
        (SDECL 1818
          (SREF 1818 "ReduceOneOf" "" () ())))
      ())
    (EQUAL 1819
      (APPLY 1819
        (REF 1819 (NAME "reduceExpr" "") ())
        (TUPLE 1819
          (LIST
            (REF 1819 (NAME "tree" "") ())
            (REF 1819 (NAME "path" "") ()))))
      (REF 1819 (NAME "Expr" "'") ()))))

(SDEF 1822
  (SHEAD 1822
    "ReduceGroup"
    ())
  (BODY 1823
    (LIST
      (SDECL 1823
        (SREF 1823 "RuleOneOfApplication" "" () ()))
      (SDECL 1824
        (SREF 1824 "RuleGroup" "" () ()))
      (DECL 1825
        (LIST
          (NAME "children" ""))
        (PREGEN 1825
          (NAME "\seq" "_1")
          (REF 1825 (NAME "ProofTree" "") ())))
      (DECL 1826
        (LIST
          (NAME "ci" ""))
        (REF 1826 (NAME "\nat" "_1") ()))
      (DECL 1827
        (LIST
          (NAME "tail" ""))
        (PREGEN 1827
          (NAME "\seq" "")
          (REF 1827 (NAME "\nat" "_1") ())))
      (DECL 1828
        (LIST
          (NAME "ExprsL" "")
          (NAME "ExprsR" ""))
        (PREGEN 1828
          (NAME "\seq" "")
          (REF 1828 (NAME "ShapeExpr" "") ())))
      (DECL 1829
        (LIST
          (NAME "Expr" "'"))
        (REF 1829 (NAME "ShapeExpr" "") ())))
    (LIST
      (EQUAL 1831
        (REF 1831 (NAME "tree" "") ())
        (APPLY 1831
          (REF 1831 (NAME "ruleGroup" "") ())
          (TUPLE 1831
            (LIST
              (THETA 1831
                "RuleGroup"
                ""
                ())
              (REF 1831 (NAME "children" "") ())))))
      (EQUAL 1833
        (REF 1833 (NAME "path" "") ())
        (INOP 1833
          (NAME "\cat" "")
          (SEQ 1833
            (LIST
              (REF 1833 (NAME "ci" "") ())))
          (REF 1833 (NAME "tail" "") ())))
      (EQUAL 1835
        (REF 1835 (NAME "Exprs" "") ())
        (INOP 1835
          (NAME "\cat" "")
          (INOP 1835
            (NAME "\cat" "")
            (REF 1835 (NAME "ExprsL" "") ())
            (SEQ 1835
              (LIST
                (APPLY 1835
                  (REF 1835 (NAME "Exprs" "") ())
                  (REF 1835 (NAME "ci" "") ())))))
          (REF 1835 (NAME "ExprsR" "") ())))
      (EQUAL 1837
        (REF 1837 (NAME "Expr" "'") ())
        (APPLY 1837
          (REF 1837 (NAME "group" "") ())
          (INOP 1837
            (NAME "\cat" "")
            (INOP 1837
              (NAME "\cat" "")
              (REF 1837 (NAME "ExprsL" "") ())
              (SEQ 1837
                (LIST
                  (APPLY 1837
                    (REF 1837 (NAME "reduceExpr" "") ())
                    (TUPLE 1837
                      (LIST
                        (APPLY 1837
                          (REF 1837 (NAME "children" "") ())
                          (REF 1837 (NAME "ci" "") ()))
                        (REF 1837 (NAME "tail" "") ())))))))
            (REF 1837 (NAME "ExprsL" "") ())))))))

(PRED 1841
  (FORALL 1841
    (BODY 1841
      (LIST
        (SDECL 1841
          (SREF 1841 "ReduceGroup" "" () ())))
      ())
    (EQUAL 1842
      (APPLY 1842
        (REF 1842 (NAME "reduceExpr" "") ())
        (TUPLE 1842
          (LIST
            (REF 1842 (NAME "tree" "") ())
            (REF 1842 (NAME "path" "") ()))))
      (REF 1842 (NAME "Expr" "'") ()))))

(SDEF 1845
  (SHEAD 1845
    "ReduceRepeat"
    ())
  (BODY 1846
    (LIST
      (SDECL 1846
        (SREF 1846 "RuleOneOfApplication" "" () ()))
      (SDECL 1847
        (SREF 1847 "RuleRepeat" "" () ()))
      (DECL 1848
        (LIST
          (NAME "children" ""))
        (PREGEN 1848
          (NAME "\seq" "_1")
          (REF 1848 (NAME "ProofTree" "") ())))
      (DECL 1849
        (LIST
          (NAME "ci" ""))
        (REF 1849 (NAME "\nat" "_1") ()))
      (DECL 1850
        (LIST
          (NAME "tail" ""))
        (PREGEN 1850
          (NAME "\seq" "")
          (REF 1850 (NAME "\nat" "_1") ())))
      (DECL 1851
        (LIST
          (NAME "Expr" "'"))
        (REF 1851 (NAME "ShapeExpr" "") ())))
    (LIST
      (EQUAL 1853
        (REF 1853 (NAME "tree" "") ())
        (APPLY 1853
          (REF 1853 (NAME "ruleRepeat" "") ())
          (TUPLE 1853
            (LIST
              (THETA 1853
                "RuleRepeat"
                ""
                ())
              (REF 1853 (NAME "children" "") ())))))
      (EQUAL 1855
        (REF 1855 (NAME "path" "") ())
        (INOP 1855
          (NAME "\cat" "")
          (SEQ 1855
            (LIST
              (REF 1855 (NAME "ci" "") ())))
          (REF 1855 (NAME "tail" "") ())))
      (EQUAL 1857
        (REF 1857 (NAME "Expr" "'") ())
        (APPLY 1857
          (REF 1857 (NAME "repetition" "") ())
          (TUPLE 1857
            (LIST
              (APPLY 1857
                (REF 1857 (NAME "reduceExpr" "") ())
                (TUPLE 1857
                  (LIST
                    (APPLY 1857
                      (REF 1857 (NAME "children" "") ())
                      (REF 1857 (NAME "ci" "") ()))
                    (REF 1857 (NAME "tail" "") ()))))
              (REF 1857 (NAME "c" "") ()))))))))

(PRED 1861
  (FORALL 1861
    (BODY 1861
      (LIST
        (SDECL 1861
          (SREF 1861 "ReduceRepeat" "" () ())))
      ())
    (EQUAL 1862
      (APPLY 1862
        (REF 1862 (NAME "reduceExpr" "") ())
        (TUPLE 1862
          (LIST
            (REF 1862 (NAME "tree" "") ())
            (REF 1862 (NAME "path" "") ()))))
      (REF 1862 (NAME "Expr" "'") ()))))

(EQEQ 1881
  (LHS 1881
    (NAME "WitnessMapping" "")
    ())
  (INGEN 1881
    (NAME "\pfun" "")
    (REF 1881 (NAME "LabelledTriple" "") ())
    (REF 1881 (NAME "DirectedTripleConstraint" "") ())))

(AXDEF 1885
  (BODY 1886
    (LIST
      (DECL 1886
        (LIST
          (NAME "witness" ""))
        (INGEN 1886
          (NAME "\fun" "")
          (REF 1886 (NAME "ProofTree" "") ())
          (REF 1886 (NAME "WitnessMapping" "") ()))))
    (LIST
      (FORALL 1888
        (BODY 1888
          (LIST
            (DECL 1888
              (LIST
                (NAME "r" ""))
              (SEXPR 1888
                (SREF 1888 "RuleEmpty" "" () ()))))
          ())
        (LETPRED 1889
          (LIST
            (LETDEF 1889
              (NAME "tree" "")
              (APPLY 1889
                (REF 1889 (NAME "ruleEmpty" "") ())
                (REF 1889 (NAME "r" "") ()))))
          (EQUAL 1890
            (APPLY 1890
              (REF 1890 (NAME "witness" "") ())
              (REF 1890 (NAME "tree" "") ()))
            (REF 1890 (NAME "\emptyset" "") ()))))
      (FORALL 1892
        (BODY 1892
          (LIST
            (DECL 1892
              (LIST
                (NAME "r" ""))
              (SEXPR 1892
                (SREF 1892 "RuleTripleConstraint" "" () ())))
            (DECL 1892
              (LIST
                (NAME "dtc" ""))
              (REF 1892 (NAME "DirectedTripleConstraint" "") ()))
            (DECL 1892
              (LIST
                (NAME "c" ""))
              (REF 1892 (NAME "Cardinality" "") ())))
          (LIST
            (EQUAL 1893
              (SELECT 1893
                (REF 1893 (NAME "r" "") ())
                (NAME "Expr" ""))
              (APPLY 1893
                (REF 1893 (NAME "triple" "") ())
                (TUPLE 1893
                  (LIST
                    (REF 1893 (NAME "dtc" "") ())
                    (REF 1893 (NAME "c" "") ())))))))
        (LETPRED 1894
          (LIST
            (LETDEF 1894
              (NAME "tree" "")
              (APPLY 1894
                (REF 1894 (NAME "ruleTripleConstraint" "") ())
                (REF 1894 (NAME "r" "") ()))))
          (EQUAL 1895
            (APPLY 1895
              (REF 1895 (NAME "witness" "") ())
              (REF 1895 (NAME "tree" "") ()))
            (CROSS 1895
              (LIST
                (APPLY 1895
                  (REF 1895 (NAME "baseNeigh" "") ())
                  (REF 1895 (NAME "tree" "") ()))
                (EXT 1895
                  (LIST
                    (REF 1895 (NAME "dtc" "") ()))))))))
      (FORALL 1897
        (BODY 1897
          (LIST
            (DECL 1897
              (LIST
                (NAME "r" ""))
              (SEXPR 1897
                (SREF 1897 "RuleInverseTripleConstraint" "" () ())))
            (DECL 1897
              (LIST
                (NAME "dtc" ""))
              (REF 1897 (NAME "DirectedTripleConstraint" "") ()))
            (DECL 1897
              (LIST
                (NAME "c" ""))
              (REF 1897 (NAME "Cardinality" "") ())))
          (LIST
            (EQUAL 1898
              (SELECT 1898
                (REF 1898 (NAME "r" "") ())
                (NAME "Expr" ""))
              (APPLY 1898
                (REF 1898 (NAME "triple" "") ())
                (TUPLE 1898
                  (LIST
                    (REF 1898 (NAME "dtc" "") ())
                    (REF 1898 (NAME "c" "") ())))))))
        (LETPRED 1899
          (LIST
            (LETDEF 1899
              (NAME "tree" "")
              (APPLY 1899
                (REF 1899 (NAME "ruleInverseTripleConstraint" "") ())
                (REF 1899 (NAME "r" "") ()))))
          (EQUAL 1900
            (APPLY 1900
              (REF 1900 (NAME "witness" "") ())
              (REF 1900 (NAME "tree" "") ()))
            (CROSS 1900
              (LIST
                (APPLY 1900
                  (REF 1900 (NAME "baseNeigh" "") ())
                  (REF 1900 (NAME "tree" "") ()))
                (EXT 1900
                  (LIST
                    (REF 1900 (NAME "dtc" "") ()))))))))
      (FORALL 1902
        (BODY 1902
          (LIST
            (DECL 1902
              (LIST
                (NAME "r" ""))
              (SEXPR 1902
                (SREF 1902 "RuleSomeOf" "" () ())))
            (DECL 1902
              (LIST
                (NAME "subtree" ""))
              (REF 1902 (NAME "ProofTree" "") ())))
          ())
        (LETPRED 1903
          (LIST
            (LETDEF 1903
              (NAME "tree" "")
              (APPLY 1903
                (REF 1903 (NAME "ruleSomeOf" "") ())
                (TUPLE 1903
                  (LIST
                    (REF 1903 (NAME "r" "") ())
                    (REF 1903 (NAME "subtree" "") ()))))))
          (IMPLIES 1904
            (MEMBER 1904
              (REF 1904 (NAME "tree" "") ())
              (REF 1904 (NAME "ProofTree" "") ()))
            (EQUAL 1905
              (APPLY 1905
                (REF 1905 (NAME "witness" "") ())
                (REF 1905 (NAME "tree" "") ()))
              (APPLY 1905
                (REF 1905 (NAME "witness" "") ())
                (REF 1905 (NAME "subtree" "") ()))))))
      (FORALL 1907
        (BODY 1907
          (LIST
            (DECL 1907
              (LIST
                (NAME "r" ""))
              (SEXPR 1907
                (SREF 1907 "RuleOneOf" "" () ())))
            (DECL 1907
              (LIST
                (NAME "subtree" ""))
              (REF 1907 (NAME "ProofTree" "") ())))
          ())
        (LETPRED 1908
          (LIST
            (LETDEF 1908
              (NAME "tree" "")
              (APPLY 1908
                (REF 1908 (NAME "ruleOneOf" "") ())
                (TUPLE 1908
                  (LIST
                    (REF 1908 (NAME "r" "") ())
                    (REF 1908 (NAME "subtree" "") ()))))))
          (IMPLIES 1909
            (MEMBER 1909
              (REF 1909 (NAME "tree" "") ())
              (REF 1909 (NAME "ProofTree" "") ()))
            (EQUAL 1910
              (APPLY 1910
                (REF 1910 (NAME "witness" "") ())
                (REF 1910 (NAME "tree" "") ()))
              (APPLY 1910
                (REF 1910 (NAME "witness" "") ())
                (REF 1910 (NAME "subtree" "") ()))))))
      (FORALL 1912
        (BODY 1912
          (LIST
            (DECL 1912
              (LIST
                (NAME "r" ""))
              (SEXPR 1912
                (SREF 1912 "RuleGroup" "" () ())))
            (DECL 1912
              (LIST
                (NAME "subtrees" ""))
              (PREGEN 1912
                (NAME "\seq" "_1")
                (REF 1912 (NAME "ProofTree" "") ()))))
          ())
        (LETPRED 1913
          (LIST
            (LETDEF 1913
              (NAME "tree" "")
              (APPLY 1913
                (REF 1913 (NAME "ruleGroup" "") ())
                (TUPLE 1913
                  (LIST
                    (REF 1913 (NAME "r" "") ())
                    (REF 1913 (NAME "subtrees" "") ()))))))
          (IMPLIES 1914
            (MEMBER 1914
              (REF 1914 (NAME "tree" "") ())
              (REF 1914 (NAME "ProofTree" "") ()))
            (EQUAL 1915
              (APPLY 1915
                (REF 1915 (NAME "witness" "") ())
                (REF 1915 (NAME "tree" "") ()))
              (APPLY 1915
                (REF 1915 (NAME "\bigcup" "") ())
                (COMP 1915
                  (BODY 1915
                    (LIST
                      (DECL 1915
                        (LIST
                          (NAME "subtree" ""))
                        (APPLY 1915
                          (REF 1915 (NAME "\ran" "") ())
                          (REF 1915 (NAME "subtrees" "") ()))))
                    ())
                  (JUST 1915
                    (APPLY 1915
                      (REF 1915 (NAME "witness" "") ())
                      (REF 1915 (NAME "subtree" "") ())))))))))
      (FORALL 1917
        (BODY 1917
          (LIST
            (DECL 1917
              (LIST
                (NAME "r" ""))
              (SEXPR 1917
                (SREF 1917 "RuleRepeat" "" () ())))
            (DECL 1917
              (LIST
                (NAME "subtrees" ""))
              (PREGEN 1917
                (NAME "\seq" "_1")
                (REF 1917 (NAME "ProofTree" "") ()))))
          ())
        (LETPRED 1918
          (LIST
            (LETDEF 1918
              (NAME "tree" "")
              (APPLY 1918
                (REF 1918 (NAME "ruleRepeat" "") ())
                (TUPLE 1918
                  (LIST
                    (REF 1918 (NAME "r" "") ())
                    (REF 1918 (NAME "subtrees" "") ()))))))
          (IMPLIES 1919
            (MEMBER 1919
              (REF 1919 (NAME "tree" "") ())
              (REF 1919 (NAME "ProofTree" "") ()))
            (EQUAL 1920
              (APPLY 1920
                (REF 1920 (NAME "witness" "") ())
                (REF 1920 (NAME "tree" "") ()))
              (APPLY 1920
                (REF 1920 (NAME "\bigcup" "") ())
                (COMP 1920
                  (BODY 1920
                    (LIST
                      (DECL 1920
                        (LIST
                          (NAME "subtree" ""))
                        (APPLY 1920
                          (REF 1920 (NAME "\ran" "") ())
                          (REF 1920 (NAME "subtrees" "") ()))))
                    ())
                  (JUST 1920
                    (APPLY 1920
                      (REF 1920 (NAME "witness" "") ())
                      (REF 1920 (NAME "subtree" "") ()))))))))))))

(AXDEF 1926
  (BODY 1927
    (LIST
      (DECL 1927
        (LIST
          (NAME "outNeigh" ""))
        (INGEN 1927
          (NAME "\fun" "")
          (CROSS 1927
            (LIST
              (REF 1927 (NAME "Graph" "") ())
              (REF 1927 (NAME "TERM" "") ())))
          (PREGEN 1927
            (NAME "\finset" "")
            (REF 1927 (NAME "LabelledTriple" "") ())))))
    (LIST
      (FORALL 1929
        (BODY 1929
          (LIST
            (DECL 1929
              (LIST
                (NAME "G" ""))
              (REF 1929 (NAME "Graph" "") ()))
            (DECL 1929
              (LIST
                (NAME "n" ""))
              (REF 1929 (NAME "TERM" "") ())))
          ())
        (EQUAL 1930
          (APPLY 1930
            (REF 1930 (NAME "outNeigh" "") ())
            (TUPLE 1930
              (LIST
                (REF 1930 (NAME "G" "") ())
                (REF 1930 (NAME "n" "") ()))))
          (COMP 1930
            (BODY 1930
              (LIST
                (DECL 1930
                  (LIST
                    (NAME "p" "")
                    (NAME "o" ""))
                  (REF 1930 (NAME "TERM" "") ())))
              (LIST
                (MEMBER 1930
                  (TUPLE 1930
                    (LIST
                      (REF 1930 (NAME "n" "") ())
                      (REF 1930 (NAME "p" "") ())
                      (REF 1930 (NAME "o" "") ())))
                  (REF 1930 (NAME "G" "") ()))))
            (JUST 1930
              (APPLY 1930
                (REF 1930 (NAME "out" "") ())
                (TUPLE 1930
                  (LIST
                    (REF 1930 (NAME "n" "") ())
                    (REF 1930 (NAME "p" "") ())
                    (REF 1930 (NAME "o" "") ())))))))))))

(AXDEF 1936
  (BODY 1937
    (LIST
      (DECL 1937
        (LIST
          (NAME "incNeigh" ""))
        (INGEN 1937
          (NAME "\fun" "")
          (CROSS 1937
            (LIST
              (REF 1937 (NAME "Graph" "") ())
              (REF 1937 (NAME "TERM" "") ())))
          (PREGEN 1937
            (NAME "\finset" "")
            (REF 1937 (NAME "LabelledTriple" "") ())))))
    (LIST
      (FORALL 1939
        (BODY 1939
          (LIST
            (DECL 1939
              (LIST
                (NAME "G" ""))
              (REF 1939 (NAME "Graph" "") ()))
            (DECL 1939
              (LIST
                (NAME "n" ""))
              (REF 1939 (NAME "TERM" "") ())))
          ())
        (EQUAL 1940
          (APPLY 1940
            (REF 1940 (NAME "incNeigh" "") ())
            (TUPLE 1940
              (LIST
                (REF 1940 (NAME "G" "") ())
                (REF 1940 (NAME "n" "") ()))))
          (COMP 1940
            (BODY 1940
              (LIST
                (DECL 1940
                  (LIST
                    (NAME "p" "")
                    (NAME "s" ""))
                  (REF 1940 (NAME "TERM" "") ())))
              (LIST
                (MEMBER 1940
                  (TUPLE 1940
                    (LIST
                      (REF 1940 (NAME "s" "") ())
                      (REF 1940 (NAME "p" "") ())
                      (REF 1940 (NAME "n" "") ())))
                  (REF 1940 (NAME "G" "") ()))))
            (JUST 1940
              (APPLY 1940
                (REF 1940 (NAME "inc" "") ())
                (TUPLE 1940
                  (LIST
                    (REF 1940 (NAME "n" "") ())
                    (REF 1940 (NAME "p" "") ())
                    (REF 1940 (NAME "s" "") ())))))))))))

(EQEQ 1949
  (LHS 1949
    (NAME "Typing" "")
    ())
  (INGEN 1949
    (NAME "\pfun" "")
    (REF 1949 (NAME "TERM" "") ())
    (PREGEN 1949
      (NAME "\finset" "")
      (REF 1949 (NAME "ShapeVerdict" "") ()))))

(SDEF 1952
  (SHEAD 1952
    "TypingMap"
    ())
  (BODY 1953
    (LIST
      (DECL 1953
        (LIST
          (NAME "G" ""))
        (REF 1953 (NAME "Graph" "") ()))
      (DECL 1954
        (LIST
          (NAME "S" ""))
        (REF 1954 (NAME "SchemaWD" "") ()))
      (DECL 1955
        (LIST
          (NAME "t" ""))
        (REF 1955 (NAME "Typing" "") ())))
    (LIST
      (EQUAL 1957
        (APPLY 1957
          (REF 1957 (NAME "\dom" "") ())
          (REF 1957 (NAME "t" "") ()))
        (APPLY 1957
          (REF 1957 (NAME "nodes" "") ())
          (REF 1957 (NAME "G" "") ())))
      (FORALL 1959
        (BODY 1959
          (LIST
            (DECL 1959
              (LIST
                (NAME "n" ""))
              (APPLY 1959
                (REF 1959 (NAME "nodes" "") ())
                (REF 1959 (NAME "G" "") ())))
            (DECL 1959
              (LIST
                (NAME "T" ""))
              (REF 1959 (NAME "ShapeLabel" "") ())))
          (LIST
            (MEMBER 1959
              (APPLY 1959
                (REF 1959 (NAME "assert" "") ())
                (REF 1959 (NAME "T" "") ()))
              (APPLY 1959
                (REF 1959 (NAME "t" "") ())
                (REF 1959 (NAME "n" "") ())))))
        (MEMBER 1960
          (REF 1960 (NAME "T" "") ())
          (APPLY 1960
            (REF 1960 (NAME "shapes" "") ())
            (REF 1960 (NAME "S" "") ()))))
      (FORALL 1962
        (BODY 1962
          (LIST
            (DECL 1962
              (LIST
                (NAME "n" ""))
              (APPLY 1962
                (REF 1962 (NAME "nodes" "") ())
                (REF 1962 (NAME "G" "") ())))
            (DECL 1962
              (LIST
                (NAME "T" ""))
              (REF 1962 (NAME "ShapeLabel" "") ())))
          (LIST
            (MEMBER 1962
              (APPLY 1962
                (REF 1962 (NAME "negate" "") ())
                (REF 1962 (NAME "T" "") ()))
              (APPLY 1962
                (REF 1962 (NAME "t" "") ())
                (REF 1962 (NAME "n" "") ())))))
        (MEMBER 1963
          (REF 1963 (NAME "T" "") ())
          (APPLY 1963
            (REF 1963 (NAME "negshapes" "") ())
            (REF 1963 (NAME "S" "") ()))))
      (FORALL 1965
        (BODY 1965
          (LIST
            (DECL 1965
              (LIST
                (NAME "n" ""))
              (APPLY 1965
                (REF 1965 (NAME "nodes" "") ())
                (REF 1965 (NAME "G" "") ())))
            (DECL 1965
              (LIST
                (NAME "T" ""))
              (APPLY 1965
                (REF 1965 (NAME "negshapes" "") ())
                (REF 1965 (NAME "S" "") ()))))
          ())
        (OR 1966
          (MEMBER 1966
            (APPLY 1966
              (REF 1966 (NAME "assert" "") ())
              (REF 1966 (NAME "T" "") ()))
            (APPLY 1966
              (REF 1966 (NAME "t" "") ())
              (REF 1966 (NAME "n" "") ())))
          (MEMBER 1966
            (APPLY 1966
              (REF 1966 (NAME "negate" "") ())
              (REF 1966 (NAME "T" "") ()))
            (APPLY 1966
              (REF 1966 (NAME "t" "") ())
              (REF 1966 (NAME "n" "") ())))))
      (FORALL 1968
        (BODY 1968
          (LIST
            (DECL 1968
              (LIST
                (NAME "n" ""))
              (APPLY 1968
                (REF 1968 (NAME "nodes" "") ())
                (REF 1968 (NAME "G" "") ())))
            (DECL 1968
              (LIST
                (NAME "T" ""))
              (APPLY 1968
                (REF 1968 (NAME "shapes" "") ())
                (REF 1968 (NAME "S" "") ()))))
          ())
        (OR 1969
          (INREL 1969
            (NAME "\notin" "")
            (APPLY 1969
              (REF 1969 (NAME "assert" "") ())
              (REF 1969 (NAME "T" "") ()))
            (APPLY 1969
              (REF 1969 (NAME "t" "") ())
              (REF 1969 (NAME "n" "") ())))
          (INREL 1969
            (NAME "\notin" "")
            (APPLY 1969
              (REF 1969 (NAME "negate" "") ())
              (REF 1969 (NAME "T" "") ()))
            (APPLY 1969
              (REF 1969 (NAME "t" "") ())
              (REF 1969 (NAME "n" "") ()))))))))

(AXDEF 1979
  (BODY 1980
    (LIST
      (DECL 1980
        (LIST
          (NAME "typings" ""))
        (INGEN 1980
          (NAME "\fun" "")
          (CROSS 1980
            (LIST
              (REF 1980 (NAME "Graph" "") ())
              (REF 1980 (NAME "SchemaWD" "") ())))
          (POWER 1980
            (REF 1980 (NAME "Typing" "") ())))))
    (LIST
      (FORALL 1982
        (BODY 1982
          (LIST
            (DECL 1982
              (LIST
                (NAME "G" ""))
              (REF 1982 (NAME "Graph" "") ()))
            (DECL 1982
              (LIST
                (NAME "S" ""))
              (REF 1982 (NAME "SchemaWD" "") ())))
          ())
        (EQUAL 1983
          (APPLY 1983
            (REF 1983 (NAME "typings" "") ())
            (TUPLE 1983
              (LIST
                (REF 1983 (NAME "G" "") ())
                (REF 1983 (NAME "S" "") ()))))
          (COMP 1983
            (BODY 1983
              (LIST
                (DECL 1983
                  (LIST
                    (NAME "m" ""))
                  (SEXPR 1983
                    (SREF 1983 "TypingMap" "" () ()))))
              (LIST
                (AND 1983
                  (EQUAL 1983
                    (SELECT 1983
                      (REF 1983 (NAME "m" "") ())
                      (NAME "G" ""))
                    (REF 1983 (NAME "G" "") ()))
                  (EQUAL 1983
                    (SELECT 1983
                      (REF 1983 (NAME "m" "") ())
                      (NAME "S" ""))
                    (REF 1983 (NAME "S" "") ())))))
            (JUST 1983
              (SELECT 1983
                (REF 1983 (NAME "m" "") ())
                (NAME "t" "")))))))))

(SDEF 1990
  (SHEAD 1990
    "TypingSatisfies"
    ())
  (BODY 1991
    (LIST
      (SDECL 1991
        (SREF 1991 "TypingMap" "" () ()))
      (DECL 1992
        (LIST
          (NAME "u" ""))
        (REF 1992 (NAME "TERM" "") ()))
      (DECL 1993
        (LIST
          (NAME "C" ""))
        (REF 1993 (NAME "ShapeConstr" "") ()))
      (DECL 1994
        (LIST
          (NAME "Ts" ""))
        (PREGEN 1994
          (NAME "\seq" "_1")
          (REF 1994 (NAME "ShapeLabel" "") ()))))
    (LIST
      (MEMBER 1996
        (REF 1996 (NAME "u" "") ())
        (APPLY 1996
          (REF 1996 (NAME "nodes" "") ())
          (REF 1996 (NAME "G" "") ())))
      (IMPLIES 1998
        (EQUAL 1998
          (REF 1998 (NAME "C" "") ())
          (APPLY 1998
            (REF 1998 (NAME "and" "") ())
            (REF 1998 (NAME "Ts" "") ())))
        (FORALL 1999
          (BODY 1999
            (LIST
              (DECL 1999
                (LIST
                  (NAME "T" ""))
                (APPLY 1999
                  (REF 1999 (NAME "\ran" "") ())
                  (REF 1999 (NAME "Ts" "") ()))))
            ())
          (MEMBER 1999
            (APPLY 1999
              (REF 1999 (NAME "assert" "") ())
              (REF 1999 (NAME "T" "") ()))
            (APPLY 1999
              (REF 1999 (NAME "t" "") ())
              (REF 1999 (NAME "u" "") ())))))
      (IMPLIES 2001
        (EQUAL 2001
          (REF 2001 (NAME "C" "") ())
          (APPLY 2001
            (REF 2001 (NAME "or" "") ())
            (REF 2001 (NAME "Ts" "") ())))
        (EXISTS 2002
          (BODY 2002
            (LIST
              (DECL 2002
                (LIST
                  (NAME "T" ""))
                (APPLY 2002
                  (REF 2002 (NAME "\ran" "") ())
                  (REF 2002 (NAME "Ts" "") ()))))
            ())
          (MEMBER 2002
            (APPLY 2002
              (REF 2002 (NAME "assert" "") ())
              (REF 2002 (NAME "T" "") ()))
            (APPLY 2002
              (REF 2002 (NAME "t" "") ())
              (REF 2002 (NAME "u" "") ())))))
      (IMPLIES 2004
        (EQUAL 2004
          (REF 2004 (NAME "C" "") ())
          (APPLY 2004
            (REF 2004 (NAME "nand" "") ())
            (REF 2004 (NAME "Ts" "") ())))
        (EXISTS 2005
          (BODY 2005
            (LIST
              (DECL 2005
                (LIST
                  (NAME "T" ""))
                (APPLY 2005
                  (REF 2005 (NAME "\ran" "") ())
                  (REF 2005 (NAME "Ts" "") ()))))
            ())
          (MEMBER 2005
            (APPLY 2005
              (REF 2005 (NAME "negate" "") ())
              (REF 2005 (NAME "T" "") ()))
            (APPLY 2005
              (REF 2005 (NAME "t" "") ())
              (REF 2005 (NAME "u" "") ())))))
      (IMPLIES 2007
        (EQUAL 2007
          (REF 2007 (NAME "C" "") ())
          (APPLY 2007
            (REF 2007 (NAME "nor" "") ())
            (REF 2007 (NAME "Ts" "") ())))
        (FORALL 2008
          (BODY 2008
            (LIST
              (DECL 2008
                (LIST
                  (NAME "T" ""))
                (APPLY 2008
                  (REF 2008 (NAME "\ran" "") ())
                  (REF 2008 (NAME "Ts" "") ()))))
            ())
          (MEMBER 2008
            (APPLY 2008
              (REF 2008 (NAME "negate" "") ())
              (REF 2008 (NAME "T" "") ()))
            (APPLY 2008
              (REF 2008 (NAME "t" "") ())
              (REF 2008 (NAME "u" "") ()))))))))

(AXDEF 2018
  (BODY 2019
    (LIST
      (DECL 2019
        (LIST
          (NAME "typingSatisfies" ""))
        (INGEN 2019
          (NAME "\rel" "")
          (CROSS 2019
            (LIST
              (REF 2019 (NAME "Typing" "") ())
              (REF 2019 (NAME "TERM" "") ())))
          (REF 2019 (NAME "ShapeConstr" "") ()))))
    (LIST
      (EQUAL 2021
        (REF 2021 (NAME "typingSatisfies" "") ())
        (COMP 2022
          (BODY 2022
            (LIST
              (SDECL 2022
                (SREF 2022 "TypingSatisfies" "" () ())))
            ())
          (JUST 2022
            (INOP 2022
              (NAME "\mapsto" "")
              (TUPLE 2022
                (LIST
                  (REF 2022 (NAME "t" "") ())
                  (REF 2022 (NAME "u" "") ())))
              (REF 2022 (NAME "C" "") ()))))))))

(SDEF 2028
  (SHEAD 2028
    "MatchingTriples"
    ())
  (BODY 2029
    (LIST
      (SDECL 2029
        (SREF 2029 "TypingMap" "" () ()))
      (DECL 2030
        (LIST
          (NAME "n" "")
          (NAME "p" ""))
        (REF 2030 (NAME "TERM" "") ()))
      (DECL 2031
        (LIST
          (NAME "X" ""))
        (REF 2031 (NAME "DirectedTripleConstraint" "") ()))
      (DECL 2032
        (LIST
          (NAME "C" ""))
        (REF 2032 (NAME "Constraint" "") ()))
      (DECL 2033
        (LIST
          (NAME "triples" ""))
        (PREGEN 2033
          (NAME "\finset" "")
          (REF 2033 (NAME "LabelledTriple" "") ()))))
    (LIST
      (IMPLIES 2035
        (AND 2035
          (MEMBER 2035
            (REF 2035 (NAME "C" "") ())
            (REF 2035 (NAME "ValueConstr" "") ()))
          (EQUAL 2035
            (REF 2035 (NAME "X" "") ())
            (TUPLE 2035
              (LIST
                (APPLY 2035
                  (REF 2035 (NAME "nop" "") ())
                  (REF 2035 (NAME "p" "") ()))
                (REF 2035 (NAME "C" "") ())))))
        (EQUAL 2036
          (REF 2036 (NAME "triples" "") ())
          (COMP 2036
            (BODY 2036
              (LIST
                (DECL 2036
                  (LIST
                    (NAME "u" ""))
                  (REF 2036 (NAME "TERM" "") ())))
              (LIST
                (AND 2036
                  (MEMBER 2036
                    (TUPLE 2036
                      (LIST
                        (REF 2036 (NAME "n" "") ())
                        (REF 2036 (NAME "p" "") ())
                        (REF 2036 (NAME "u" "") ())))
                    (REF 2036 (NAME "G" "") ()))
                  (MEMBER 2037
                    (REF 2037 (NAME "u" "") ())
                    (APPLY 2037
                      (REF 2037 (NAME "allowed" "") ())
                      (REF 2037 (NAME "C" "") ()))))))
            (JUST 2037
              (APPLY 2037
                (REF 2037 (NAME "out" "") ())
                (TUPLE 2037
                  (LIST
                    (REF 2037 (NAME "n" "") ())
                    (REF 2037 (NAME "p" "") ())
                    (REF 2037 (NAME "u" "") ()))))))))
      (IMPLIES 2039
        (AND 2039
          (MEMBER 2039
            (REF 2039 (NAME "C" "") ())
            (REF 2039 (NAME "ShapeConstr" "") ()))
          (EQUAL 2039
            (REF 2039 (NAME "X" "") ())
            (TUPLE 2039
              (LIST
                (APPLY 2039
                  (REF 2039 (NAME "nop" "") ())
                  (REF 2039 (NAME "p" "") ()))
                (REF 2039 (NAME "C" "") ())))))
        (EQUAL 2040
          (REF 2040 (NAME "triples" "") ())
          (COMP 2040
            (BODY 2040
              (LIST
                (DECL 2040
                  (LIST
                    (NAME "u" ""))
                  (REF 2040 (NAME "TERM" "") ())))
              (LIST
                (AND 2040
                  (MEMBER 2040
                    (TUPLE 2040
                      (LIST
                        (REF 2040 (NAME "n" "") ())
                        (REF 2040 (NAME "p" "") ())
                        (REF 2040 (NAME "u" "") ())))
                    (REF 2040 (NAME "G" "") ()))
                  (INREL 2041
                    (NAME "typingSatisfies" "")
                    (TUPLE 2041
                      (LIST
                        (REF 2041 (NAME "t" "") ())
                        (REF 2041 (NAME "u" "") ())))
                    (REF 2041 (NAME "C" "") ())))))
            (JUST 2041
              (APPLY 2041
                (REF 2041 (NAME "out" "") ())
                (TUPLE 2041
                  (LIST
                    (REF 2041 (NAME "n" "") ())
                    (REF 2041 (NAME "p" "") ())
                    (REF 2041 (NAME "u" "") ()))))))))
      (IMPLIES 2043
        (AND 2043
          (MEMBER 2043
            (REF 2043 (NAME "C" "") ())
            (REF 2043 (NAME "ShapeConstr" "") ()))
          (EQUAL 2043
            (REF 2043 (NAME "X" "") ())
            (TUPLE 2043
              (LIST
                (APPLY 2043
                  (REF 2043 (NAME "inv" "") ())
                  (REF 2043 (NAME "p" "") ()))
                (REF 2043 (NAME "C" "") ())))))
        (EQUAL 2044
          (REF 2044 (NAME "triples" "") ())
          (COMP 2044
            (BODY 2044
              (LIST
                (DECL 2044
                  (LIST
                    (NAME "u" ""))
                  (REF 2044 (NAME "TERM" "") ())))
              (LIST
                (AND 2044
                  (MEMBER 2044
                    (TUPLE 2044
                      (LIST
                        (REF 2044 (NAME "u" "") ())
                        (REF 2044 (NAME "p" "") ())
                        (REF 2044 (NAME "n" "") ())))
                    (REF 2044 (NAME "G" "") ()))
                  (INREL 2045
                    (NAME "typingSatisfies" "")
                    (TUPLE 2045
                      (LIST
                        (REF 2045 (NAME "t" "") ())
                        (REF 2045 (NAME "u" "") ())))
                    (REF 2045 (NAME "C" "") ())))))
            (JUST 2045
              (APPLY 2045
                (REF 2045 (NAME "inc" "") ())
                (TUPLE 2045
                  (LIST
                    (REF 2045 (NAME "u" "") ())
                    (REF 2045 (NAME "p" "") ())
                    (REF 2045 (NAME "n" "") ())))))))))))

(AXDEF 2053
  (BODY 2054
    (LIST
      (DECL 2054
        (LIST
          (NAME "Matching" ""))
        (INGEN 2054
          (NAME "\fun" "")
          (CROSS 2054
            (LIST
              (REF 2054 (NAME "Graph" "") ())
              (REF 2054 (NAME "TERM" "") ())
              (REF 2054 (NAME "Typing" "") ())
              (REF 2054 (NAME "DirectedTripleConstraint" "") ())))
          (PREGEN 2055
            (NAME "\finset" "")
            (REF 2055 (NAME "LabelledTriple" "") ())))))
    (LIST
      (EQUAL 2057
        (REF 2057 (NAME "Matching" "") ())
        (COMP 2057
          (BODY 2057
            (LIST
              (SDECL 2057
                (SREF 2057 "MatchingTriples" "" () ())))
            ())
          (JUST 2057
            (INOP 2057
              (NAME "\mapsto" "")
              (TUPLE 2057
                (LIST
                  (REF 2057 (NAME "G" "") ())
                  (REF 2057 (NAME "n" "") ())
                  (REF 2057 (NAME "t" "") ())
                  (REF 2057 (NAME "X" "") ())))
              (REF 2057 (NAME "triples" "") ()))))))))

(AXDEF 2064
  (BODY 2065
    (LIST
      (DECL 2065
        (LIST
          (NAME "validTypings" ""))
        (INGEN 2065
          (NAME "\fun" "")
          (CROSS 2065
            (LIST
              (REF 2065 (NAME "Graph" "") ())
              (REF 2065 (NAME "SchemaWD" "") ())))
          (POWER 2065
            (REF 2065 (NAME "Typing" "") ())))))
    (LIST
      (FORALL 2067
        (BODY 2067
          (LIST
            (DECL 2067
              (LIST
                (NAME "G" ""))
              (REF 2067 (NAME "Graph" "") ()))
            (DECL 2067
              (LIST
                (NAME "S" ""))
              (REF 2067 (NAME "SchemaWD" "") ())))
          ())
        (INREL 2068
          (NAME "\subseteq" "")
          (APPLY 2068
            (REF 2068 (NAME "validTypings" "") ())
            (TUPLE 2068
              (LIST
                (REF 2068 (NAME "G" "") ())
                (REF 2068 (NAME "S" "") ()))))
          (APPLY 2068
            (REF 2068 (NAME "typings" "") ())
            (TUPLE 2068
              (LIST
                (REF 2068 (NAME "G" "") ())
                (REF 2068 (NAME "S" "") ())))))))))

(AXDEF 2098
  (BODY 2099
    (LIST
      (DECL 2099
        (LIST
          (NAME "tripleConstraints" ""))
        (INGEN 2099
          (NAME "\fun" "")
          (REF 2099 (NAME "ShapeExpr" "") ())
          (PREGEN 2099
            (NAME "\finset" "")
            (REF 2099 (NAME "DirectedTripleConstraint" "") ())))))
    (LIST
      (EQUAL 2101
        (APPLY 2101
          (REF 2101 (NAME "tripleConstraints" "") ())
          (REF 2101 (NAME "emptyshape" "") ()))
        (REF 2101 (NAME "\emptyset" "") ()))
      (FORALL 2103
        (BODY 2103
          (LIST
            (DECL 2103
              (LIST
                (NAME "dtc" ""))
              (REF 2103 (NAME "DirectedTripleConstraint" "") ()))
            (DECL 2103
              (LIST
                (NAME "c" ""))
              (REF 2103 (NAME "Cardinality" "") ())))
          ())
        (EQUAL 2104
          (APPLY 2104
            (REF 2104 (NAME "tripleConstraints" "") ())
            (APPLY 2104
              (REF 2104 (NAME "triple" "") ())
              (TUPLE 2104
                (LIST
                  (REF 2104 (NAME "dtc" "") ())
                  (REF 2104 (NAME "c" "") ())))))
          (EXT 2104
            (LIST
              (REF 2104 (NAME "dtc" "") ())))))
      (FORALL 2106
        (BODY 2106
          (LIST
            (DECL 2106
              (LIST
                (NAME "Exprs" ""))
              (PREGEN 2106
                (NAME "\seq" "_1")
                (REF 2106 (NAME "ShapeExpr" "") ()))))
          ())
        (AND 1
          (AND 1
            (EQUAL 2107
              (APPLY 2107
                (REF 2107 (NAME "tripleConstraints" "") ())
                (APPLY 2107
                  (REF 2107 (NAME "someOf" "") ())
                  (REF 2107 (NAME "Exprs" "") ())))
              (APPLY 2108
                (REF 2108 (NAME "tripleConstraints" "") ())
                (APPLY 2108
                  (REF 2108 (NAME "oneOf" "") ())
                  (REF 2108 (NAME "Exprs" "") ()))))
            (EQUAL 2108
              (APPLY 2108
                (REF 2108 (NAME "tripleConstraints" "") ())
                (APPLY 2108
                  (REF 2108 (NAME "oneOf" "") ())
                  (REF 2108 (NAME "Exprs" "") ())))
              (APPLY 2109
                (REF 2109 (NAME "tripleConstraints" "") ())
                (APPLY 2109
                  (REF 2109 (NAME "group" "") ())
                  (REF 2109 (NAME "Exprs" "") ())))))
          (EQUAL 2109
            (APPLY 2109
              (REF 2109 (NAME "tripleConstraints" "") ())
              (APPLY 2109
                (REF 2109 (NAME "group" "") ())
                (REF 2109 (NAME "Exprs" "") ())))
            (APPLY 2110
              (REF 2110 (NAME "\bigcup" "") ())
              (COMP 2110
                (BODY 2110
                  (LIST
                    (DECL 2110
                      (LIST
                        (NAME "Expr" ""))
                      (APPLY 2110
                        (REF 2110 (NAME "\ran" "") ())
                        (REF 2110 (NAME "Exprs" "") ()))))
                  ())
                (JUST 2110
                  (APPLY 2110
                    (REF 2110 (NAME "tripleConstraints" "") ())
                    (REF 2110 (NAME "Expr" "") ()))))))))
      (FORALL 2112
        (BODY 2112
          (LIST
            (DECL 2112
              (LIST
                (NAME "Expr" ""))
              (REF 2112 (NAME "ShapeExpr" "") ()))
            (DECL 2112
              (LIST
                (NAME "c" ""))
              (REF 2112 (NAME "Cardinality" "") ())))
          ())
        (EQUAL 2113
          (APPLY 2113
            (REF 2113 (NAME "tripleConstraints" "") ())
            (APPLY 2113
              (REF 2113 (NAME "repetition" "") ())
              (TUPLE 2113
                (LIST
                  (REF 2113 (NAME "Expr" "") ())
                  (REF 2113 (NAME "c" "") ())))))
          (APPLY 2113
            (REF 2113 (NAME "tripleConstraints" "") ())
            (REF 2113 (NAME "Expr" "") ())))))))

(SDEF 2074
  (SHEAD 2074
    "ValidTypingNodeLabel"
    ())
  (BODY 2075
    (LIST
      (SDECL 2075
        (SREF 2075 "TypingMap" "" () ()))
      (DECL 2076
        (LIST
          (NAME "n" ""))
        (REF 2076 (NAME "TERM" "") ()))
      (DECL 2077
        (LIST
          (NAME "T" ""))
        (REF 2077 (NAME "ShapeLabel" "") ()))
      (DECL 2078
        (LIST
          (NAME "ruleT" ""))
        (REF 2078 (NAME "Rule" "") ()))
      (DECL 2079
        (LIST
          (NAME "defT" ""))
        (REF 2079 (NAME "ShapeDefinition" "") ()))
      (DECL 2080
        (LIST
          (NAME "Expr" ""))
        (REF 2080 (NAME "ShapeExpr" "") ()))
      (DECL 2081
        (LIST
          (NAME "Xs" ""))
        (PREGEN 2081
          (NAME "\finset" "")
          (REF 2081 (NAME "DirectedTripleConstraint" "") ()))))
    (LIST
      (MEMBER 2083
        (REF 2083 (NAME "t" "") ())
        (APPLY 2083
          (REF 2083 (NAME "validTypings" "") ())
          (TUPLE 2083
            (LIST
              (REF 2083 (NAME "G" "") ())
              (REF 2083 (NAME "S" "") ())))))
      (MEMBER 2085
        (REF 2085 (NAME "n" "") ())
        (APPLY 2085
          (REF 2085 (NAME "nodes" "") ())
          (REF 2085 (NAME "G" "") ())))
      (OR 2087
        (MEMBER 2087
          (APPLY 2087
            (REF 2087 (NAME "assert" "") ())
            (REF 2087 (NAME "T" "") ()))
          (APPLY 2087
            (REF 2087 (NAME "t" "") ())
            (REF 2087 (NAME "n" "") ())))
        (MEMBER 2087
          (APPLY 2087
            (REF 2087 (NAME "negate" "") ())
            (REF 2087 (NAME "T" "") ()))
          (APPLY 2087
            (REF 2087 (NAME "t" "") ())
            (REF 2087 (NAME "n" "") ()))))
      (EQUAL 2089
        (REF 2089 (NAME "ruleT" "") ())
        (APPLY 2089
          (REF 2089 (NAME "rule" "") ())
          (TUPLE 2089
            (LIST
              (REF 2089 (NAME "T" "") ())
              (REF 2089 (NAME "S" "") ())))))
      (EQUAL 2090
        (REF 2090 (NAME "defT" "") ())
        (APPLY 2090
          (REF 2090 (NAME "shapeDef" "") ())
          (REF 2090 (NAME "ruleT" "") ())))
      (EQUAL 2092
        (REF 2092 (NAME "Expr" "") ())
        (APPLY 2092
          (REF 2092 (NAME "expr" "") ())
          (TUPLE 2092
            (LIST
              (REF 2092 (NAME "T" "") ())
              (REF 2092 (NAME "S" "") ())))))
      (EQUAL 2093
        (REF 2093 (NAME "Xs" "") ())
        (APPLY 2093
          (REF 2093 (NAME "tripleConstraints" "") ())
          (REF 2093 (NAME "Expr" "") ()))))))

(SDEF 2121
  (SHEAD 2121
    "NegatedShapeLabel"
    ())
  (BODY 2122
    (LIST
      (SDECL 2122
        (SREF 2122 "ValidTypingNodeLabel" "" () ())))
    (LIST
      (MEMBER 2124
        (APPLY 2124
          (REF 2124 (NAME "negate" "") ())
          (REF 2124 (NAME "T" "") ()))
        (APPLY 2124
          (REF 2124 (NAME "t" "") ())
          (REF 2124 (NAME "n" "") ()))))))

(SDEF 2131
  (SHEAD 2131
    "AssertShape"
    ())
  (BODY 2132
    (LIST
      (SDECL 2132
        (SREF 2132 "NegatedShapeLabel" "" () ()))
      (DECL 2133
        (LIST
          (NAME "t1" ""))
        (REF 2133 (NAME "Typing" "") ())))
    (LIST
      (EQUAL 2135
        (REF 2135 (NAME "t1" "") ())
        (INOP 2135
          (NAME "\oplus" "")
          (REF 2135 (NAME "t" "") ())
          (EXT 2135
            (LIST
              (INOP 2135
                (NAME "\mapsto" "")
                (REF 2135 (NAME "n" "") ())
                (INOP 2135
                  (NAME "\cup" "")
                  (INOP 2135
                    (NAME "\setminus" "")
                    (APPLY 2135
                      (REF 2135 (NAME "t" "") ())
                      (REF 2135 (NAME "n" "") ()))
                    (EXT 2135
                      (LIST
                        (APPLY 2135
                          (REF 2135 (NAME "negate" "") ())
                          (REF 2135 (NAME "T" "") ())))))
                  (EXT 2135
                    (LIST
                      (APPLY 2135
                        (REF 2135 (NAME "assert" "") ())
                        (REF 2135 (NAME "T" "") ())))))))))))))

(PRED 2143
  (FORALL 2143
    (BODY 2143
      (LIST
        (SDECL 2143
          (SREF 2143 "AssertShape" "" () ())))
      ())
    (INREL 2144
      (NAME "\notin" "")
      (REF 2144 (NAME "t1" "") ())
      (APPLY 2144
        (REF 2144 (NAME "validTypings" "") ())
        (TUPLE 2144
          (LIST
            (REF 2144 (NAME "G" "") ())
            (REF 2144 (NAME "S" "") ())))))))

(AXDEF 2153
  (BODY 2154
    (LIST
      (DECL 2154
        (LIST
          (NAME "assertShape" ""))
        (INGEN 2154
          (NAME "\pfun" "")
          (CROSS 2154
            (LIST
              (REF 2154 (NAME "Typing" "") ())
              (REF 2154 (NAME "TERM" "") ())
              (REF 2154 (NAME "ShapeLabel" "") ())))
          (REF 2154 (NAME "Typing" "") ()))))
    (LIST
      (EQUAL 2156
        (REF 2156 (NAME "assertShape" "") ())
        (COMP 2157
          (BODY 2157
            (LIST
              (SDECL 2157
                (SREF 2157 "AssertShape" "" () ())))
            ())
          (JUST 2158
            (INOP 2158
              (NAME "\mapsto" "")
              (TUPLE 2158
                (LIST
                  (REF 2158 (NAME "t" "") ())
                  (REF 2158 (NAME "n" "") ())
                  (REF 2158 (NAME "T" "") ())))
              (REF 2158 (NAME "t1" "") ()))))))))

(SDEF 2165
  (SHEAD 2165
    "AssertedShapeLabel"
    ())
  (BODY 2166
    (LIST
      (SDECL 2166
        (SREF 2166 "ValidTypingNodeLabel" "" () ())))
    (LIST
      (MEMBER 2168
        (APPLY 2168
          (REF 2168 (NAME "assert" "") ())
          (REF 2168 (NAME "T" "") ()))
        (APPLY 2168
          (REF 2168 (NAME "t" "") ())
          (REF 2168 (NAME "n" "") ()))))))

(SDEF 2201
  (SHEAD 2201
    "MatchingOpenRest"
    ())
  (BODY 2202
    (LIST
      (SDECL 2202
        (SREF 2202 "AssertedShapeLabel" "" () ()))
      (DECL 2203
        (LIST
          (NAME "MatchingNeigh" "")
          (NAME "OpenProp" "")
          (NAME "Rest" ""))
        (PREGEN 2203
          (NAME "\finset" "")
          (REF 2203 (NAME "LabelledTriple" "") ()))))
    (LIST
      (PREREL 2205
        (NAME "\disjoint" "")
        (SEQ 2205
          (LIST
            (REF 2205 (NAME "MatchingNeigh" "") ())
            (REF 2205 (NAME "OpenProp" "") ())
            (REF 2205 (NAME "Rest" "") ())))))))

(PRED 2213
  (FORALL 2213
    (BODY 2213
      (LIST
        (SDECL 2213
          (SREF 2213 "AssertedShapeLabel" "" () ())))
      ())
    (EXISTS 2214
      (BODY 2214
        (LIST
          (DECL 2214
            (LIST
              (NAME "MatchingNeigh" "")
              (NAME "OpenProp" "")
              (NAME "Rest" ""))
            (PREGEN 2214
              (NAME "\finset" "")
              (REF 2214 (NAME "LabelledTriple" "") ()))))
        ())
      (SPRED 2215
        (SREF 2215 "MatchingOpenRest" "" () ())))))

(SDEF 2222
  (SHEAD 2222
    "PartitionNeigh"
    ())
  (BODY 2223
    (LIST
      (SDECL 2223
        (SREF 2223 "MatchingOpenRest" "" () ())))
    (LIST
      (INREL 2225
        (NAME "\partition" "")
        (SEQ 2225
          (LIST
            (REF 2225 (NAME "MatchingNeigh" "") ())
            (REF 2225 (NAME "OpenProp" "") ())
            (REF 2225 (NAME "Rest" "") ())))
        (INOP 2226
          (NAME "\cup" "")
          (APPLY 2226
            (REF 2226 (NAME "outNeigh" "") ())
            (TUPLE 2226
              (LIST
                (REF 2226 (NAME "G" "") ())
                (REF 2226 (NAME "n" "") ()))))
          (APPLY 2226
            (REF 2226 (NAME "incNeigh" "") ())
            (TUPLE 2226
              (LIST
                (REF 2226 (NAME "G" "") ())
                (REF 2226 (NAME "n" "") ())))))))))

(PRED 2230
  (FORALL 2230
    (BODY 2230
      (LIST
        (SDECL 2230
          (SREF 2230 "AssertedShapeLabel" "" () ())))
      ())
    (EXISTS 2231
      (BODY 2231
        (LIST
          (DECL 2231
            (LIST
              (NAME "MatchingNeigh" "")
              (NAME "OpenProp" "")
              (NAME "Rest" ""))
            (PREGEN 2231
              (NAME "\finset" "")
              (REF 2231 (NAME "LabelledTriple" "") ()))))
        ())
      (SPRED 2232
        (SREF 2232 "PartitionNeigh" "" () ())))))

(SDEF 2244
  (SHEAD 2244
    "RestDef"
    ())
  (BODY 2245
    (LIST
      (SDECL 2245
        (SREF 2245 "MatchingOpenRest" "" () ()))
      (DECL 2246
        (LIST
          (NAME "Rest\_out" "")
          (NAME "Rest\_inc" ""))
        (PREGEN 2246
          (NAME "\finset" "")
          (REF 2246 (NAME "LabelledTriple" "") ()))))
    (LIST
      (EQUAL 2248
        (REF 2248 (NAME "Rest" "") ())
        (INOP 2248
          (NAME "\cup" "")
          (REF 2248 (NAME "Rest\_out" "") ())
          (REF 2248 (NAME "Rest\_inc" "") ())))
      (EQUAL 2250
        (REF 2250 (NAME "Rest\_out" "") ())
        (COMP 2251
          (BODY 2251
            (LIST
              (DECL 2251
                (LIST
                  (NAME "p" "")
                  (NAME "u" ""))
                (REF 2251 (NAME "TERM" "") ())))
            (LIST
              (AND 2252
                (MEMBER 2252
                  (APPLY 2252
                    (REF 2252 (NAME "out" "") ())
                    (TUPLE 2252
                      (LIST
                        (REF 2252 (NAME "n" "") ())
                        (REF 2252 (NAME "p" "") ())
                        (REF 2252 (NAME "u" "") ()))))
                  (APPLY 2252
                    (REF 2252 (NAME "outNeigh" "") ())
                    (TUPLE 2252
                      (LIST
                        (REF 2252 (NAME "G" "") ())
                        (REF 2252 (NAME "n" "") ())))))
                (INREL 2253
                  (NAME "\notin" "")
                  (REF 2253 (NAME "p" "") ())
                  (APPLY 2253
                    (REF 2253 (NAME "properties" "") ())
                    (APPLY 2253
                      (REF 2253 (NAME "expr" "") ())
                      (TUPLE 2253
                        (LIST
                          (REF 2253 (NAME "T" "") ())
                          (REF 2253 (NAME "S" "") ())))))))))
          (JUST 2254
            (APPLY 2254
              (REF 2254 (NAME "out" "") ())
              (TUPLE 2254
                (LIST
                  (REF 2254 (NAME "n" "") ())
                  (REF 2254 (NAME "p" "") ())
                  (REF 2254 (NAME "u" "") ())))))))
      (EQUAL 2256
        (REF 2256 (NAME "Rest\_inc" "") ())
        (COMP 2257
          (BODY 2257
            (LIST
              (DECL 2257
                (LIST
                  (NAME "p" "")
                  (NAME "u" ""))
                (REF 2257 (NAME "TERM" "") ())))
            (LIST
              (AND 2258
                (MEMBER 2258
                  (APPLY 2258
                    (REF 2258 (NAME "inc" "") ())
                    (TUPLE 2258
                      (LIST
                        (REF 2258 (NAME "u" "") ())
                        (REF 2258 (NAME "p" "") ())
                        (REF 2258 (NAME "n" "") ()))))
                  (APPLY 2258
                    (REF 2258 (NAME "incNeigh" "") ())
                    (TUPLE 2258
                      (LIST
                        (REF 2258 (NAME "G" "") ())
                        (REF 2258 (NAME "n" "") ())))))
                (INREL 2259
                  (NAME "\notin" "")
                  (REF 2259 (NAME "p" "") ())
                  (APPLY 2259
                    (REF 2259 (NAME "invproperties" "") ())
                    (APPLY 2259
                      (REF 2259 (NAME "expr" "") ())
                      (TUPLE 2259
                        (LIST
                          (REF 2259 (NAME "T" "") ())
                          (REF 2259 (NAME "S" "") ())))))))))
          (JUST 2260
            (APPLY 2260
              (REF 2260 (NAME "inc" "") ())
              (TUPLE 2260
                (LIST
                  (REF 2260 (NAME "u" "") ())
                  (REF 2260 (NAME "p" "") ())
                  (REF 2260 (NAME "n" "") ()))))))))))

(PRED 2264
  (FORALL 2264
    (BODY 2264
      (LIST
        (SDECL 2264
          (SREF 2264 "MatchingOpenRest" "" () ())))
      ())
    (EXISTS1 2265
      (BODY 2265
        (LIST
          (DECL 2265
            (LIST
              (NAME "Rest\_out" "")
              (NAME "Rest\_inc" ""))
            (PREGEN 2265
              (NAME "\finset" "")
              (REF 2265 (NAME "LabelledTriple" "") ()))))
        ())
      (SPRED 2266
        (SREF 2266 "RestDef" "" () ())))))

(SDEF 2273
  (SHEAD 2273
    "MatchingDef"
    ())
  (BODY 2274
    (LIST
      (SDECL 2274
        (SREF 2274 "MatchingOpenRest" "" () ())))
    (LIST
      (EQUAL 2276
        (REF 2276 (NAME "MatchingNeigh" "") ())
        (APPLY 2277
          (REF 2277 (NAME "\bigcup" "") ())
          (COMP 2277
            (BODY 2277
              (LIST
                (DECL 2277
                  (LIST
                    (NAME "X" ""))
                  (REF 2277 (NAME "Xs" "") ())))
              ())
            (JUST 2277
              (APPLY 2277
                (REF 2277 (NAME "Matching" "") ())
                (TUPLE 2277
                  (LIST
                    (REF 2277 (NAME "G" "") ())
                    (REF 2277 (NAME "n" "") ())
                    (REF 2277 (NAME "t" "") ())
                    (REF 2277 (NAME "X" "") ())))))))))))

(PRED 2281
  (FORALL 2281
    (BODY 2281
      (LIST
        (SDECL 2281
          (SREF 2281 "MatchingOpenRest" "" () ())))
      ())
    (SPRED 2282
      (SREF 2282 "MatchingDef" "" () ()))))

(SDEF 2289
  (SHEAD 2289
    "ClosedShapes"
    ())
  (BODY 2290
    (LIST
      (SDECL 2290
        (SREF 2290 "RestDef" "" () ())))
    (LIST
      (IMPLIES 2292
        (MEMBER 2292
          (REF 2292 (NAME "defT" "") ())
          (APPLY 2292
            (REF 2292 (NAME "\ran" "") ())
            (REF 2292 (NAME "close" "") ())))
        (AND 2293
          (EQUAL 2293
            (REF 2293 (NAME "Rest\_out" "") ())
            (REF 2293 (NAME "\emptyset" "") ()))
          (EQUAL 2294
            (REF 2294 (NAME "OpenProp" "") ())
            (REF 2294 (NAME "\emptyset" "") ())))))))

(PRED 2298
  (FORALL 2298
    (BODY 2298
      (LIST
        (SDECL 2298
          (SREF 2298 "RestDef" "" () ())))
      ())
    (SPRED 2299
      (SREF 2299 "ClosedShapes" "" () ()))))

(SDEF 2309
  (SHEAD 2309
    "OpenShapes"
    ())
  (BODY 2310
    (LIST
      (SDECL 2310
        (SREF 2310 "MatchingOpenRest" "" () ())))
    (LIST
      (IMPLIES 2312
        (MEMBER 2312
          (REF 2312 (NAME "defT" "") ())
          (APPLY 2312
            (REF 2312 (NAME "\ran" "") ())
            (REF 2312 (NAME "open" "") ())))
        (INREL 2313
          (NAME "\subseteq" "")
          (REF 2313 (NAME "OpenProp" "") ())
          (COMP 2314
            (BODY 2314
              (LIST
                (DECL 2314
                  (LIST
                    (NAME "p" "")
                    (NAME "u" ""))
                  (REF 2314 (NAME "TERM" "") ())))
              (LIST
                (AND 2315
                  (MEMBER 2315
                    (APPLY 2315
                      (REF 2315 (NAME "out" "") ())
                      (TUPLE 2315
                        (LIST
                          (REF 2315 (NAME "n" "") ())
                          (REF 2315 (NAME "p" "") ())
                          (REF 2315 (NAME "u" "") ()))))
                    (APPLY 2315
                      (REF 2315 (NAME "outNeigh" "") ())
                      (TUPLE 2315
                        (LIST
                          (REF 2315 (NAME "G" "") ())
                          (REF 2315 (NAME "n" "") ())))))
                  (MEMBER 2316
                    (REF 2316 (NAME "p" "") ())
                    (APPLY 2316
                      (REF 2316 (NAME "incl" "") ())
                      (TUPLE 2316
                        (LIST
                          (REF 2316 (NAME "T" "") ())
                          (REF 2316 (NAME "S" "") ()))))))))
            (JUST 2317
              (APPLY 2317
                (REF 2317 (NAME "out" "") ())
                (TUPLE 2317
                  (LIST
                    (REF 2317 (NAME "n" "") ())
                    (REF 2317 (NAME "p" "") ())
                    (REF 2317 (NAME "u" "") ())))))))))))

(PRED 2321
  (FORALL 2321
    (BODY 2321
      (LIST
        (SDECL 2321
          (SREF 2321 "MatchingOpenRest" "" () ())))
      ())
    (SPRED 2322
      (SREF 2322 "OpenShapes" "" () ()))))

(SDEF 2334
  (SHEAD 2334
    "ProofWitness"
    ())
  (BODY 2335
    (LIST
      (SDECL 2335
        (SREF 2335 "MatchingDef" "" () ()))
      (DECL 2336
        (LIST
          (NAME "tree" ""))
        (REF 2336 (NAME "ProofTree" "") ()))
      (DECL 2337
        (LIST
          (NAME "wm" ""))
        (REF 2337 (NAME "WitnessMapping" "") ())))
    (LIST
      (EQUAL 2339
        (APPLY 2339
          (REF 2339 (NAME "baseNeigh" "") ())
          (REF 2339 (NAME "tree" "") ()))
        (REF 2339 (NAME "MatchingNeigh" "") ()))
      (EQUAL 2340
        (APPLY 2340
          (REF 2340 (NAME "baseExpr" "") ())
          (REF 2340 (NAME "tree" "") ()))
        (REF 2340 (NAME "Expr" "") ()))
      (EQUAL 2342
        (REF 2342 (NAME "wm" "") ())
        (APPLY 2342
          (REF 2342 (NAME "witness" "") ())
          (REF 2342 (NAME "tree" "") ()))))))

(PRED 2346
  (FORALL 2346
    (BODY 2346
      (LIST
        (SDECL 2346
          (SREF 2346 "MatchingDef" "" () ())))
      ())
    (EXISTS 2347
      (BODY 2347
        (LIST
          (DECL 2347
            (LIST
              (NAME "tree" ""))
            (REF 2347 (NAME "ProofTree" "") ()))
          (DECL 2347
            (LIST
              (NAME "wm" ""))
            (REF 2347 (NAME "WitnessMapping" "") ())))
        ())
      (SPRED 2348
        (SREF 2348 "ProofWitness" "" () ())))))

(SDEF 2362
  (SHEAD 2362
    "OutgoingTriples"
    ())
  (BODY 2363
    (LIST
      (SDECL 2363
        (SREF 2363 "ProofWitness" "" () ())))
    (LIST
      (FORALL 2365
        (BODY 2365
          (LIST
            (DECL 2365
              (LIST
                (NAME "triple" ""))
              (APPLY 2365
                (REF 2365 (NAME "outNeigh" "") ())
                (TUPLE 2365
                  (LIST
                    (REF 2365 (NAME "G" "") ())
                    (REF 2365 (NAME "n" "") ())))))
            (DECL 2365
              (LIST
                (NAME "p" "")
                (NAME "u" ""))
              (REF 2365 (NAME "TERM" "") ())))
          (LIST
            (EQUAL 2366
              (REF 2366 (NAME "triple" "") ())
              (APPLY 2366
                (REF 2366 (NAME "out" "") ())
                (TUPLE 2366
                  (LIST
                    (REF 2366 (NAME "n" "") ())
                    (REF 2366 (NAME "p" "") ())
                    (REF 2366 (NAME "u" "") ())))))))
        (LETPRED 2367
          (LIST
            (LETDEF 2367
              (NAME "X" "")
              (APPLY 2367
                (REF 2367 (NAME "wm" "") ())
                (REF 2367 (NAME "triple" "") ()))))
          (AND 2368
            (MEMBER 2368
              (REF 2368 (NAME "triple" "") ())
              (APPLY 2368
                (REF 2368 (NAME "Matching" "") ())
                (TUPLE 2368
                  (LIST
                    (REF 2368 (NAME "G" "") ())
                    (REF 2368 (NAME "n" "") ())
                    (REF 2368 (NAME "t" "") ())
                    (REF 2368 (NAME "X" "") ())))))
            (IMPLIES 2369
              (MEMBER 2369
                (APPLY 2369
                  (REF 2369 (NAME "constrDTC" "") ())
                  (REF 2369 (NAME "X" "") ()))
                (REF 2369 (NAME "ShapeConstr" "") ()))
              (NOT 2370
                (EXISTS 2370
                  (BODY 2370
                    (LIST
                      (DECL 2370
                        (LIST
                          (NAME "C" ""))
                        (REF 2370 (NAME "ValueConstr" "") ())))
                    (LIST
                      (MEMBER 2370
                        (TUPLE 2370
                          (LIST
                            (APPLY 2370
                              (REF 2370 (NAME "nop" "") ())
                              (REF 2370 (NAME "p" "") ()))
                            (REF 2370 (NAME "C" "") ())))
                        (REF 2370 (NAME "Xs" "") ()))))
                  (MEMBER 2371
                    (REF 2371 (NAME "triple" "") ())
                    (APPLY 2371
                      (REF 2371 (NAME "Matching" "") ())
                      (TUPLE 2371
                        (LIST
                          (REF 2371 (NAME "G" "") ())
                          (REF 2371 (NAME "n" "") ())
                          (REF 2371 (NAME "t" "") ())
                          (TUPLE 2371
                            (LIST
                              (APPLY 2371
                                (REF 2371 (NAME "nop" "") ())
                                (REF 2371 (NAME "p" "") ()))
                              (REF 2371 (NAME "C" "") ()))))))))))))))))

(PRED 2375
  (FORALL 2375
    (BODY 2375
      (LIST
        (SDECL 2375
          (SREF 2375 "ProofWitness" "" () ())))
      ())
    (SPRED 2376
      (SREF 2376 "OutgoingTriples" "" () ()))))

(SDEF 2386
  (SHEAD 2386
    "IncomingTriples"
    ())
  (BODY 2387
    (LIST
      (SDECL 2387
        (SREF 2387 "ProofWitness" "" () ())))
    (LIST
      (FORALL 2389
        (BODY 2389
          (LIST
            (DECL 2389
              (LIST
                (NAME "triple" ""))
              (APPLY 2389
                (REF 2389 (NAME "incNeigh" "") ())
                (TUPLE 2389
                  (LIST
                    (REF 2389 (NAME "G" "") ())
                    (REF 2389 (NAME "n" "") ()))))))
          ())
        (LETPRED 2390
          (LIST
            (LETDEF 2390
              (NAME "X" "")
              (APPLY 2390
                (REF 2390 (NAME "wm" "") ())
                (REF 2390 (NAME "triple" "") ()))))
          (MEMBER 2391
            (REF 2391 (NAME "triple" "") ())
            (APPLY 2391
              (REF 2391 (NAME "Matching" "") ())
              (TUPLE 2391
                (LIST
                  (REF 2391 (NAME "G" "") ())
                  (REF 2391 (NAME "n" "") ())
                  (REF 2391 (NAME "t" "") ())
                  (REF 2391 (NAME "X" "") ()))))))))))

(PRED 2395
  (FORALL 2395
    (BODY 2395
      (LIST
        (SDECL 2395
          (SREF 2395 "ProofWitness" "" () ())))
      ())
    (SPRED 2396
      (SREF 2396 "IncomingTriples" "" () ()))))

(SDEF 2410
  (SHEAD 2410
    "OneOfNodes"
    ())
  (BODY 2411
    (LIST
      (SDECL 2411
        (SREF 2411 "ProofWitness" "" () ()))
      (SDECL 2412
        (SREF 2412 "RuleOneOfApplication" "" () ()))
      (DECL 2413
        (LIST
          (NAME "Expr\_ri" ""))
        (REF 2413 (NAME "ShapeExpr" "") ()))
      (DECL 2414
        (LIST
          (NAME "S\_ri" ""))
        (REF 2414 (NAME "SchemaWD" "") ())))
    (LIST
      (EQUAL 2416
        (REF 2416 (NAME "Expr\_ri" "") ())
        (APPLY 2416
          (REF 2416 (NAME "reduceExpr" "") ())
          (TUPLE 2416
            (LIST
              (REF 2416 (NAME "tree" "") ())
              (REF 2416 (NAME "path" "") ())))))
      (EQUAL 2418
        (REF 2418 (NAME "S\_ri" "") ())
        (APPLY 2418
          (REF 2418 (NAME "replaceShape" "") ())
          (TUPLE 2418
            (LIST
              (REF 2418 (NAME "S" "") ())
              (REF 2418 (NAME "T" "") ())
              (REF 2418 (NAME "Expr\_ri" "") ()))))))))

(PRED 2425
  (FORALL 2425
    (BODY 2425
      (LIST
        (SDECL 2425
          (SREF 2425 "OneOfNodes" "" () ())))
      ())
    (NOT 2426
      (EXISTS 2426
        (BODY 2426
          (LIST
            (DECL 2426
              (LIST
                (NAME "t1" ""))
              (APPLY 2426
                (REF 2426 (NAME "validTypings" "") ())
                (TUPLE 2426
                  (LIST
                    (REF 2426 (NAME "G" "") ())
                    (REF 2426 (NAME "S\_ri" "") ()))))))
          ())
        (MEMBER 2427
          (APPLY 2427
            (REF 2427 (NAME "assert" "") ())
            (REF 2427 (NAME "T" "") ()))
          (APPLY 2427
            (REF 2427 (NAME "t1" "") ())
            (REF 2427 (NAME "n" "") ())))))))

(DATA 2455
  (NAME "ReturnCode" "")
  (LIST
    (ARM 2455
      (NAME "trueRC" "")
      (NOTHING 2455))
    (ARM 2455
      (NAME "falseRC" "")
      (NOTHING 2455))
    (ARM 2455
      (NAME "errorRC" "")
      (NOTHING 2455))
    (ARM 2455
      (NAME "undefinedRC" "")
      (NOTHING 2455))))

(AXDEF 2439
  (BODY 2440
    (LIST
      (DECL 2440
        (LIST
          (NAME "f" ""))
        (INGEN 2440
          (NAME "\fun" "")
          (CROSS 2440
            (LIST
              (REF 2440 (NAME "ExtLangName" "") ())
              (REF 2440 (NAME "Graph" "") ())
              (REF 2440 (NAME "TERM" "") ())
              (REF 2440 (NAME "ExtDefinition" "") ())))
          (REF 2440 (NAME "ReturnCode" "") ()))))
    (LIST
      (FORALL 2442
        (BODY 2442
          (LIST
            (DECL 2442
              (LIST
                (NAME "G" ""))
              (REF 2442 (NAME "Graph" "") ()))
            (DECL 2442
              (LIST
                (NAME "n" ""))
              (REF 2442 (NAME "TERM" "") ())))
          (LIST
            (MEMBER 2442
              (TUPLE 2442
                (LIST
                  (REF 2442 (NAME "G" "") ())
                  (REF 2442 (NAME "n" "") ())))
              (REF 2442 (NAME "PointedGraph" "") ()))))
        (FORALL 2443
          (BODY 2443
            (LIST
              (DECL 2443
                (LIST
                  (NAME "lang" ""))
                (REF 2443 (NAME "ExtLangName" "") ()))
              (DECL 2443
                (LIST
                  (NAME "cond" ""))
                (REF 2443 (NAME "ExtDefinition" "") ())))
            ())
          (LETPRED 2444
            (LIST
              (LETDEF 2444
                (NAME "returnCode" "")
                (APPLY 2444
                  (REF 2444 (NAME "f" "") ())
                  (TUPLE 2444
                    (LIST
                      (REF 2444 (NAME "lang" "") ())
                      (REF 2444 (NAME "G" "") ())
                      (REF 2444 (NAME "n" "") ())
                      (REF 2444 (NAME "cond" "") ()))))))
            (IMPLIES 2445
              (EQUAL 2445
                (REF 2445 (NAME "returnCode" "") ())
                (REF 2445 (NAME "trueRC" "") ()))
              (IMPLIES 2446
                (AND 2445
                  (INREL 2445
                    (NAME "\notin" "")
                    (TUPLE 2445
                      (LIST
                        (REF 2445 (NAME "G" "") ())
                        (REF 2445 (NAME "n" "") ())))
                    (APPLY 2445
                      (REF 2445 (NAME "violatedBy" "") ())
                      (TUPLE 2445
                        (LIST
                          (REF 2445 (NAME "lang" "") ())
                          (REF 2445 (NAME "cond" "") ())))))
                  (EQUAL 2446
                    (REF 2446 (NAME "returnCode" "") ())
                    (REF 2446 (NAME "falseRC" "") ())))
                (MEMBER 2446
                  (TUPLE 2446
                    (LIST
                      (REF 2446 (NAME "G" "") ())
                      (REF 2446 (NAME "n" "") ())))
                  (APPLY 2446
                    (REF 2446 (NAME "violatedBy" "") ())
                    (TUPLE 2446
                      (LIST
                        (REF 2446 (NAME "lang" "") ())
                        (REF 2446 (NAME "cond" "") ())))))))))))))

(SDEF 2464
  (SHEAD 2464
    "ExtensionConditions"
    ())
  (BODY 2465
    (LIST
      (SDECL 2465
        (SREF 2465 "MatchingOpenRest" "" () ()))
      (DECL 2466
        (LIST
          (NAME "lang" ""))
        (REF 2466 (NAME "ExtLangName" "") ()))
      (DECL 2467
        (LIST
          (NAME "cond" ""))
        (REF 2467 (NAME "ExtDefinition" "") ())))
    (LIST
      (LETPRED 2469
        (LIST
          (LETDEF 2469
            (NAME "ecs" "")
            (APPLY 2469
              (REF 2469 (NAME "extConds" "") ())
              (REF 2469 (NAME "ruleT" "") ()))))
        (MEMBER 2470
          (TUPLE 2470
            (LIST
              (REF 2470 (NAME "lang" "") ())
              (REF 2470 (NAME "cond" "") ())))
          (APPLY 2470
            (REF 2470 (NAME "\ran" "") ())
            (REF 2470 (NAME "ecs" "") ())))))))

(PRED 2477
  (FORALL 2477
    (BODY 2477
      (LIST
        (SDECL 2477
          (SREF 2477 "ExtensionConditions" "" () ())))
      ())
    (MEMBER 2478
      (APPLY 2478
        (REF 2478 (NAME "f" "") ())
        (TUPLE 2478
          (LIST
            (REF 2478 (NAME "lang" "") ())
            (REF 2478 (NAME "G" "") ())
            (REF 2478 (NAME "n" "") ())
            (REF 2478 (NAME "cond" "") ()))))
      (EXT 2478
        (LIST
          (REF 2478 (NAME "trueRC" "") ())
          (REF 2478 (NAME "undefinedRC" "") ()))))))

